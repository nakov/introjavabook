<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>Introduction to Programming with Java Book - Chapter 23</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial CYR";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:SunSans-Regular;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:SAfon;}
@font-face
	{font-family:"Courier New CYR";
	panose-1:2 7 3 9 2 2 5 2 4 4;}
@font-face
	{font-family:StarSymbol;}
@font-face
	{font-family:OpenSymbol;
	panose-1:5 1 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sawasdee;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"MV Boli";}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Academy;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Antiqua;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Baltica;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Bookvar;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Ariel";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Courier";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Dutch Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Kursiv";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Palatia";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Domkrat;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Geneva;
	panose-1:2 2 226 0 0 0 0 0 0 0;}
@font-face
	{font-family:Hebar;
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Izhitsa;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Kaliakra;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Karina;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:KarinaBlack;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OldCyr;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Opal;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OpalB;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TimesNakov;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Timok;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TmsCyr;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Zhikaryov;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"OCR-B 10 BT";
	panose-1:2 11 6 1 2 2 2 2 2 4;}
@font-face
	{font-family:"OCR-A BT";
	panose-1:2 15 5 1 2 2 4 2 3 4;}
@font-face
	{font-family:"WP MultinationalA Courier";
	panose-1:5 0 0 9 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Courier";
	panose-1:2 6 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"WP MultinationalA Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalA Roman";
	panose-1:2 2 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"WP MultinationalB Roman";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Nina;
	panose-1:2 11 6 6 3 5 4 4 2 4;}
@font-face
	{font-family:sshlinedraw;
	panose-1:0 0 4 9 0 0 0 0 0 0;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"DejaVu Sans";
	panose-1:2 11 6 3 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Condensed";
	panose-1:2 11 6 6 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Mono";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Serif";
	panose-1:2 6 6 3 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Serif Condensed";
	panose-1:2 6 6 6 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Light";
	panose-1:2 11 2 3 3 8 4 2 2 4;}
@font-face
	{font-family:"Myriad Pro";
	panose-1:2 11 6 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web";
	panose-1:2 11 8 3 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web Pro";
	panose-1:2 11 5 3 3 4 3 2 2 4;}
@font-face
	{font-family:Myriade;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Myriad Web Pro Condensed";
	panose-1:2 11 5 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Segoe Condensed";
	panose-1:2 11 6 6 4 2 0 2 2 3;}
@font-face
	{font-family:ZWAdobeF;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@StarSymbol";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:.5in;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Verdana","sans-serif";}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Verdana","sans-serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Verdana","sans-serif";}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Verdana","sans-serif";}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:9.9pt;
	text-align:justify;
	font-size:9.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:20.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:30.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-14.15pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	background:navy;
	font-size:10.0pt;
	font-family:"Tahoma","sans-serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Cambria","serif";
	color:#243F60;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Cambria","serif";
	color:#404040;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Code
	{mso-style-name:Code;
	font-family:"Courier New";
	font-weight:bold;}
p.WarningMessage, li.WarningMessage, div.WarningMessage
	{mso-style-name:"Warning Message";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
p.WarningMessageAfter6pt, li.WarningMessageAfter6pt, div.WarningMessageAfter6pt
	{mso-style-name:"Warning Message + After\:  6 pt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page Section1
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section1
	{page:Section1;}
@page Section2
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section2
	{page:Section2;}
@page Section3
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section3
	{page:Section3;}
@page Section4
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section4
	{page:Section4;}
@page Section5
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section5
	{page:Section5;}
@page Section6
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section6
	{page:Section6;}
@page Section7
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section7
	{page:Section7;}
@page Section8
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section8
	{page:Section8;}
@page Section9
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section9
	{page:Section9;}
@page Section10
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section10
	{page:Section10;}
@page Section11
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section11
	{page:Section11;}
@page Section12
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section12
	{page:Section12;}
@page Section13
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section13
	{page:Section13;}
@page Section14
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section14
	{page:Section14;}
@page Section15
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section15
	{page:Section15;}
@page Section16
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section16
	{page:Section16;}
@page Section17
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section17
	{page:Section17;}
@page Section18
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section18
	{page:Section18;}
@page Section19
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section19
	{page:Section19;}
@page Section20
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section20
	{page:Section20;}
@page Section21
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section21
	{page:Section21;}
@page Section22
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section22
	{page:Section22;}
@page Section23
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section23
	{page:Section23;}
@page Section24
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section24
	{page:Section24;}
@page Section25
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section25
	{page:Section25;}
@page Section26
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section26
	{page:Section26;}
@page Section27
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section27
	{page:Section27;}
@page Section28
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section28
	{page:Section28;}
@page Section29
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section29
	{page:Section29;}
@page Section30
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section30
	{page:Section30;}
@page Section31
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section31
	{page:Section31;}
@page Section32
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section32
	{page:Section32;}
@page Section33
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section33
	{page:Section33;}
@page Section34
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section34
	{page:Section34;}
@page Section35
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section35
	{page:Section35;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div style="float:right">
	<div style="border: 1px solid #CCCCCC; width:400px; height:146px; padding: 8px; margin: 0px 0px 15px 15px">
		<div style="float:left"><a href="http://www.introprogramming.info/"><img border="0" src="Intro-Java-Book-front-cover.jpg" width="102" height="145"></a></div>
		<div style="float:right; width: 270px; height:143px; border: 1px solid #EEEEEE; background: #FAFAFA; padding: 0px 10px 0px 10px; margin:0; font-family: Arial, Helvetica; font-size:10pt; text-align: justify">
			<p style="margin-top:8px; margin-bottom:12px; padding:0">Настоящият текст е част от книгата на Светлин Наков и колектив:</p>
			<a href="http://www.introprogramming.info/" style="text-decoration:none">
				<div style="text-align:center; font-size: 13pt; font-weight: bold">Въведение в програмирането с Java</div>
			</a>
			<p style="margin-top:12px; padding:0">Можете да изтеглите цялата книга безплатно от <a href="http://www.introprogramming.info">www.introprogramming.info</a>.</p>
		</div>
	</div>
</div>

<div class=Section31>

<h1 style='margin-top:24.0pt;margin-right:28.35pt;margin-bottom:.5in;
margin-left:28.35pt'><a name="_Toc218278561"></a><a name="_Toc218196254"></a><a
name="_Глава_23._Примерна"></a><span lang=BG>Глава 23. Примерна тема от изпит в
НАРС – 30.09.2005 г.</span></h1>

<h2><a name="_Toc218196255"><span lang=BG>Автори</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Стефан Стаев</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Светлин Наков</span></p>

<h2><a name="_Toc218196256"><span lang=BG>В тази тема...</span></a></h2>

<p class=MsoNormal><span lang=BG>В настоящата тема ще разгледаме условията и ще
предложим решения на три примерни задачи от изпит в НАРС, проведен на
30.09.2005 г. При решаването им ще приложим на практика описаната методология в
главата &quot;<a href="#_Глава_22._Как">Как да решаваме задачи по програмиране</a>&quot;.</span></p>

<b><span lang=BG style='font-size:14.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h2><a name="_Toc218196257"><span lang=BG>Задача 1: Извличане на текста от HTML
документ</span></a></h2>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Даден е HTML файл
с име </span><span class=Code><span lang=BG>Problem1.html</span></span><span
lang=BG>. Да се напише програма, която отстранява от него всички HTML тагове и
запазва само текста вътре в тях. Изходът да се изведе във файла </span><span
class=Code><span lang=BG>Рroblem1.txt</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Примерен входен
файл </span><span class=Code><span lang=BG>Рroblem1.html</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;html&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;head&gt;&lt;title&gt;Welcome to our
  site!&lt;/title&gt;&lt;/head&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;body&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;center&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;img src=&quot;/en/img/logo.gif&quot; width=&quot;130&quot;
  height=&quot;70&quot; alt=&quot;Logo&quot;&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;font size=&quot;-1&quot;&gt;&lt;a href=&quot;/index.html&quot;&gt;Home&lt;/a&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;a href=&quot;/</span><span style='font-family:"Courier New"'>contacts</span><span
  lang=BG style='font-family:"Courier New"'>.html&quot;&gt;Contacts&lt;/a&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;a href=&quot;/about.html&quot;&gt;About&lt;/a&gt;&lt;/font&gt;&lt;p&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;/center&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;/body&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;/html&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Примерен изходен
файл </span><span class=Code><span lang=BG>Problem1.txt</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New"'>Welcome to our site!</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New"'>Home</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New"'>Contacts</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>About</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196258"><span lang=BG>Измисляне на идея за решение</span></a></h3>

<p class=MsoNormal><span lang=BG>Първото, което ни хрумва, като идея за решение
на тази задача е да четем последователно (примерно ред по ред или буква по
буква) входния файл и да махаме всички тагове. Лесно се вижда, че всички тагове
започват със символа </span>&quot;<span class=Code><span lang=BG>&lt;</span></span>&quot;<span
lang=BG> и завършват със символа &quot;</span><span class=Code><span lang=BG>&gt;</span></span><span
lang=BG>&quot;. Това се отнася и за отварящите и за затварящите тагове. Това
означава, че от всеки ред във файла трябва да се премахнат всички поднизове,
започващи с &quot;</span><span class=Code><span lang=BG>&lt;</span></span><span
lang=BG>&quot; и завършващи с &quot;</span><span class=Code><span lang=BG>&gt;</span></span><span
lang=BG>&quot;.</span></p>

<h3><a name="_Toc218196259"><span lang=BG>Проверка на идеята</span></a></h3>

<p class=MsoNormal><span lang=BG>Имаме идея за решаване на задачата. Дали
идеята е вярна? Първо трябва да я проверим. Можем да я проверим дали е вярна за
примерния входен файл, а след това да помислим дали няма някакви специални
случаи, за които идеята би могла да е некоректна.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Взимаме лист и
химикал и проверяваме на ръка идеята дали е вярна. Задраскваме всички поднизове
от текста, които започват със символа &quot;</span><span class=Code><span
lang=BG>&lt;</span></span><span lang=BG>&quot; и завършват със символа &quot;</span><span
class=Code><span lang=BG>&gt;</span></span><span lang=BG>&quot;. Като го
направим, виждаме, че остава само чистия</span>т<span lang=BG> текст и всички
тагове изчезват:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;html&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;head&gt;&lt;title&gt;</span></s><span lang=BG
  style='font-family:"Courier New"'>Welcome to our site!<s>&lt;/title&gt;&lt;/head&gt;</s></span></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;body&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;center&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;img src=&quot;/en/img/logo.gif&quot; width=&quot;130&quot;
  height=&quot;70&quot; alt=&quot;Logo&quot;&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;font size=&quot;-1&quot;&gt;&lt;a href=&quot;/index.html&quot;&gt;</span></s><span
  lang=BG style='font-family:"Courier New"'>Home<s>&lt;/a&gt;</s></span></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;a href=&quot;/cont</span></s><s><span style='font-family:
  "Courier New"'>acts</span></s><s><span lang=BG style='font-family:"Courier New"'>.html&quot;&gt;</span></s><span
  lang=BG style='font-family:"Courier New"'>Contacts<s>&lt;/a&gt;</s></span></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;a href=&quot;/about.html&quot;&gt;</span></s><span
  lang=BG style='font-family:"Courier New"'>About<s>&lt;/a&gt;&lt;/font&gt;&lt;p&gt;</s></span></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;/center&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;/body&gt;</span></s></p>
  <p class=MsoNormal style='margin-top:0in'><s><span lang=BG style='font-family:
  "Courier New"'>&lt;/html&gt;</span></s></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега остава да
измислим някакви по-специални случаи. Нали не искаме да напишем 200 реда код и
чак тогава да се сетим за тях и да трябва да преправяме цялата програма? Затова
е важно да проверим проблемните ситуации, за които се сетим, още сега, преди да
сме почнали да пишем кода на решението.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да се сетим
за следния специален пример:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;html&gt;&lt;body&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>Click&lt;a
  href=&quot;info.html&quot;&gt;on this</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>link&lt;/a&gt;for
  more info.&lt;br /&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>This
  is&lt;b&gt;bold&lt;/b&gt;text</span><span lang=BG style='font-family:"Courier New"'>.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;/body&gt;&lt;/html&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В него има две
особености:</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=BG>Има тагове, съдържащи текст, които се отварят и затварят
на различни редове.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span><span lang=BG>Има тагове, които съдържат хем текст, хем други тагове в
себе си.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Какъв трябва да е
резултатът за този пример? Ако директно махнем всички тагове, ще получим нещо
такова:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>Clickon
  this</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>linkfor
  more info.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>This
  isboldtext</span><span lang=BG style='font-family:"Courier New"'>.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Или може би трябва
да следваме правилата на езика HTML и да получим следния текст:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>Click</span><span
  style='font-family:"Courier New"'> </span><span style='font-family:"Courier New"'>on
  this link for more info.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>This
  is bold</span><span style='font-family:"Courier New"'> </span><span
  style='font-family:"Courier New"'>text</span><span lang=BG style='font-family:
  "Courier New"'>.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Има и други
варианти, например да слагаме всяко парче текст, което не е таг, на нов ред:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>Click</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>on
  this</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>link</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>for
  more info.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>This
  is</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>bold</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>text</span><span
  lang=BG style='font-family:"Courier New"'>.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Ако махнем всичкия текст в таговете и долепим
останалия текст, ще получим думи, които са залепени една до друга. От условието
на задачата не става ясно дали това е исканият резултат или трябва, както в
езика HTML, да получим по един интервал между отделните тагове.</span><span
lang=BG> </span><span lang=BG>В езика HTML всяка поредица от разделители
(интервали, нов ред, табулации и др.) се визуализира като един интервал. Това,
обаче, не е споменато в условието на задачата и не става ясно от примерния вход
и изход.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Не става ясно още
дали трябва да отпечатваме думите, които са в таг, съдържащ в себе си други
тагове или да ги пропускаме. Ако отпечатваме само съдържанието на тагове, в
които има единствено текст, ще получим нещо такова:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>on
  this</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>link</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>bold</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>От условието не става ясно още как се
визуализира текст, който е разположен на няколко реда във вътрешността на някой
таг.</span></p>

<h3><a name="_Toc218196260"><span lang=BG>Изясняване на условието на задачата</span></a></h3>

<p class=MsoNormal><span lang=BG>Първото, което трябва да направим, когато
открием неясен момент в условието на задачата, е да го прочетем внимателно. В
случая условието наистина не е ясно и не ни дава отговор на въпросите.
Най-вероятно не трябва да следваме HTML правилата, защото те не са описани в
усло­вието, но не става ясно дали долепяме думите в съседни тагове или си
разделяме с нов ред.</span></p>

<p class=MsoNormal><span lang=BG>Остава ни само едно: да питаме. Ако сме на
изпит, ще питаме този, който ни е дал изпитните задачи. Ако сме в реалния
живот, то все някой е поръчител на софтуера, който разработваме, и той би могъл
да отговори на възникналите въпроси. Ако никой не може да отговори, избираме
един от вариантите, който ни се струва най-правилен съгласно условието на
задачата и действаме по него.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Приемаме, че
трябва да се отпечата всичкия текст, който остава като премахнем всички
отварящи и затварящи тагове, като използваме за разделител между отделните
текстове празен ред. Ако в текста има празни редове, запазваме ги. За нашия
пример трябва да получим следния изход:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>Click</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>on
  this</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>link</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>for
  more info.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>This
  is</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>bold</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>text</span><span
  lang=BG style='font-family:"Courier New"'>.</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196261"><span lang=BG>Нова идея за решаване на задачата</span></a></h3>

<p class=MsoNormal><span lang=BG>И така, нашата адаптирана към новите
изисквания идея е следната: четем файла ред по ред и във всеки ред заместваме
таговете с нов ред. За да избегнем дублирането на нови редове в резултатния
файл, заместваме всеки два последова­телни нови реда от резултата с един нов
ред.</span></p>

<p class=MsoNormal><span lang=BG>Проверяваме новата идея с оригиналния пример
от условието на задачата и с нашия пример и се убеждаваме, че идеята този път е
вярна. Остава да я реализираме.</span></p>

<h3><a name="_Toc218196262"><span lang=BG>Разбиваме задачата на подзадачи</span></a></h3>

<p class=MsoNormal><span lang=BG>Задачата лесно можем да разбием на подзадачи:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Прочитане на входния файл.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Обработка на един ред от входния файл: заместване на таговете със
символ за нов ред.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Записване на резултата в изходния файл.</span></p>

<h3><a name="_Toc218196263"><span lang=BG>Какво структури от данни да ползваме</span></a>?</h3>

<p class=MsoNormal><span lang=BG>В тази задача трябва да извършваме проста
текстообработка и работа с файлове. Въпросът какви структури от данни да
ползваме не стои пред нас – за четене и писане във файл ще ползваме съответните
класове от пакета </span><span class=Code><span lang=BG>java.io</span></span><span
lang=BG>, а за текстообработката ще ползваме класа </span><span class=Code><span
lang=BG>String</span></span><span lang=BG> и ако се наложи – </span><span
class=Code><span lang=BG>StringBuilder</span></span><span lang=BG>.</span></p>

<h3><a name="_Toc218196264"><span lang=BG>Да помислим за ефективността</span></a></h3>

<p class=MsoNormal><span lang=BG>Ако четем редовете един по един, това няма да
е бавна операция. Самата обработка на един ред може да се извърши чрез някакво
заместване на символи с други – също бърза операция. Не би трябвало да имаме
проблеми с производителността.</span></p>

<p class=MsoNormal><span lang=BG>Може би проблеми ще създаде изчистването на
празните редове. Ако събираме всички редове в някакъв буфер (</span><span
class=Code><span lang=BG>StringBuilder</span></span><span lang=BG>) и след това
премахваме двойните празни редове, този буфер ще заеме много памет при големи
входни файлове (примерно при 500 MB входен файл).</span></p>

<p class=MsoNormal><span lang=BG>За да спестим памет, ще се опитаме да чистим
излишните празни редове още след заместване на таговете със символа за празен
ред.</span></p>

<p class=MsoNormal><span lang=BG>Вече разгледахме внимателно идеята за решаване
на задачата, уверихме се, че е добра и хваща специалните случаи, които могат да
възникнат, и смятаме, че няма да имаме проблеми с производителността. Сега вече
можем спокойно да преминем към имплементация на алгоритъма. Ще пишем стъпка по
стъпка, за да откриваме грешките възможно най-рано.</span></p>

<h3><a name="_Toc218196265"><span lang=BG>Стъпка 1 – прочитане на входния файл</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Първата стъпка от
решението на поставената задача е прочитането входния файл. В нашия случай той
е HTML файл. Това не трябва да ни притеснява, тъй като HTML е текстов формат.
Затова, за да го прочетем, ще използваме класа </span><span class=Code><span
lang=BG>Scanner</span></span><span lang=BG>. Ще обходим входния файл ред по ред
и за всеки ред ще извличаме (засега не ни интересува как) нужната ни информация
(ако има) и ще я за писваме в един </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG>. Извли­чането ще реализираме в следващата стъпка (стъпка 2), а
записването в някоя от по-следващите стъпки.</span><span lang=BG> </span><span
lang=BG>Да напишем нужния код за реализацията на нашата първа стъпка:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> File(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Problem1.html&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Find what we need and save it in </span><span
  style='font-family:"Courier New";color:#006600'>the result</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>scanner.close();</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Чрез написания код
ще прочетем входния файл ред по ред. Да помислим дали сме реализирали добре
първата стъпка. Сещате ли се какво пропус­нахме?</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>С написаното ще
прочетем входния файл, но само ако съществува. Ами ако входния файл не
съществува</span><span lang=BG> </span><span lang=BG>или не може да бъде
отворен по някаква причина? Сегашното ни решение няма да се справи с този
проблем. В кода има и още един проблем: ако настъпи грешка при четенето или
обработката на данните от файла, той няма да бъде затворен.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да избегнем тези
проблеми трябва да изпол­зваме конструкцията </span><span class=Code><span
lang=BG>try-catch-finally</span></span><span lang=BG>. Така, ако възникне изклю­чение
ще го обработим и накрая винаги ще затваряме файла, с които сме работили. Не
трябва да забравяме, че обекта от </span><span class=Code><span lang=BG>Scanner</span></span><span
lang=BG> трябва да е деклариран извън </span><span class=Code><span lang=BG>try</span></span><span
lang=BG> блока, защото иначе ще е недостъпен във </span><span class=Code><span
lang=BG>finally</span></span><span lang=BG> блока. Това не е фатална грешка, но
често се допуска от начинаещите програмисти.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Добре е да
дефинираме името на входния файл като константа, защото вероятно ще го ползваме
на няколко места.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Още нещо: при
четене от текстов файл е редно да зададем кодирането на файла. В случая ще
използваме кодиране </span><span class=Code><span lang=BG>windows-1251</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да видим до какво стигнахме:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HtmlTagRemover {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String INPUT_FILE_NAME =</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.html&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String CHARSET = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;windows-1251&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String args[]) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     StringBuilder result = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> File(INPUT_FILE_NAME), CHARSET);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Process the next line here</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>catch</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (IOException ioex) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><span style='font-family:"Courier New";
  color:black'>err</span><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Can not read file &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + INPUT_FILE_NAME + </span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;.&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          scanner.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Справихме се с описаните
проблеми и изглежда вече имаме коректно реализирано четенето на входния файл. За
да сме напълно сигурни можем да тестваме. Например да изпишем съдържанието на
входния файл на конзолата, а след това да пробваме с несъществуващ файл. Изписването
ще става в </span><span class=Code><span lang=BG>while</span></span><span
lang=BG> цикъла чрез </span><span class=Code><span lang=BG>System.out.println(scanner.nextLine())</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако тестваме с
примера от условието на задачата, резултатът е следният:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;html&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;head&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;title&gt;Welcome
  to our site!&lt;/title&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;/head&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;center&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;img
  src=&quot;/en/img/logo.gif&quot; width=&quot;130&quot; height=&quot;70&quot;
  alt=&quot;Logo&quot;&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;br&gt;&lt;br&gt;&lt;br&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;font
  size=&quot;-1&quot;&gt;&lt;a href=&quot;/index.html&quot;&gt;Home&lt;/a&gt; -
  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;a
  href=&quot;/contenst.html&quot;&gt;Contacts&lt;/a&gt; -</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;a
  href=&quot;/about.html&quot;&gt;About&lt;/a&gt;&lt;/font&gt;&lt;p&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;/center&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&lt;/body&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;/html&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега, нека
пробваме с несъществуващ файл. Да заменим името на файла </span><span
class=Code><span lang=BG>Problem1.html</span></span><span lang=BG> с </span><span
class=Code><span lang=BG>Problem2.html</span></span><span lang=BG>. Резултатът
от това е следният:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>File Problem2.html not found</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Уверихме се, че дотук написаният код е верен. Да
преминем към следва­щата стъпка.</span></p>

<h3><a name="_Toc218196266"><span lang=BG>Стъпка 2 – премахване на таговете</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега трябва да
измислим подходящ начин да премахнем всички тагове. Какъв да бъде начинът?</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Един възможен
начин е като проверяваме реда символ по символ. За всеки символ от текущия ред
ще търсим символа &quot;&lt;&quot;. От него надясно ще знаем, че е имаме
някакъв таг (отварящ или затварящ). Краят на тага символът &quot;&gt;&quot;. Така
можем да откриваме таговете и да ги премахваме. За да не получим долепяне на
думите в съседни тагове, ще заместваме всеки таг със символа за празен ред &quot;</span><span
class=Code><span lang=BG>\n</span></span><span lang=BG>&quot;.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Алгоритъмът не е
сложен за имплементиране, но дали няма по-хитър начин? Можем ли да използваме
регулярни изрази? С тях лесно можем да търсим тагове и да ги заместваме с &quot;</span><span
class=Code><span lang=BG>\n</span></span><span lang=BG>&quot;, нали? Същевременно
кодът няма да е сложен и при възникване на грешки по–лесно ще бъдат отстранени.
Ще се спрем на този вариант. Какво трябва да направим? Първо трябва да напишем
регулярния израз. Ето как изглежда той:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;[^&gt;]*&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Идеята е проста:
всеки низ, който започва с &quot;</span><span class=Code><span lang=BG>&lt;</span></span><span
lang=BG>&quot;, продължава с произволи символи, различни от &quot;</span><span
class=Code><span lang=BG>&gt;</span></span><span lang=BG>&quot; и завършва с &quot;</span><span
class=Code><span lang=BG>&gt;</span></span><span lang=BG>&quot;</span>, е HTML <span
lang=BG>таг</span>. <span lang=BG>Ето как можем да заместим таговете със символ
за нов ред:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeAllTags(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  String strWithoutTags = str.replaceAll(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;&lt;[^&gt;]*&gt;&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> strWithoutTags;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След като
написахме тази стъпка, трябва да я тестваме. За целта отново ще изписваме
намерените низове на конзолата чрез </span><span class=Code><span lang=BG>System.out.
println()</span></span><span lang=BG>. Да тестваме кода, който получихме:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>HtmlTagRemover.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HtmlTagRemover {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> =</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.html&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>CHARSET</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;windows-1251&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String args[]) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> File(</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>), </span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>CHARSET</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          line = <i>removeAllTags</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          System.</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>out</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>.println(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>catch</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (IOException ioex) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>err</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Can read file &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + </span><i><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>INPUT_FILE_NAME</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          scanner.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeAllTags(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String strWithoutTags = str.replaceAll(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;&lt;[^&gt;]*&gt;&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> strWithoutTags;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако стартираме
програмата за нашия специален пример, резултатът ще бъде е следният:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><i><span lang=BG style='font-family:"Courier New"'>(празен
  ред)</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Click</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>on this</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>for more info.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><i><span lang=BG style='font-family:"Courier New"'>(празен
  ред)</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>This is</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>bold</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>text.</span></p>
  <p class=MsoNormal style='margin-top:0in'><i><span lang=BG style='font-family:
  "Courier New"'>(празен ред)</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Всичко е работи
отлично, само, че имаме излишни празни редове. Можем ли да ги премахнем? Това
ще е следващата ни стъпка.</span></p>

<h3><a name="_Toc218196267"><span lang=BG>Стъпка 3 – премахване на празните
редове</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да премахнем
излишните празни редове, като заменяме двоен празен ред &quot;</span><span
class=Code><span lang=BG>\n\n</span></span><span lang=BG>&quot; с единичен
празен ред &quot;</span><span class=Code><span lang=BG>\n</span></span><span
lang=BG>&quot;. Ето примерен метод, който извършва замяната:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeDoubleNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  String result = str.replaceAll(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Както, винаги, преди да продължим напред,
тестваме метода дали работи коректно. Пробваме с текст, в който няма празни
редове, а след това добавяме 2, 3, 4 и 5 празни реда, включително в началото и
в края на текста.</span></p>

<p class=MsoNormal><span lang=BG>Установяваме, че методът не работи коректно,
когато има 4 празни реда един след друг. Например ако подадем като входни данни
&quot;</span><span class=Code><span lang=BG>ab\n\n\n\ncd</span></span><span
lang=BG>&quot;, получаваме &quot;</span><span class=Code><span lang=BG>ab\n\n\cd</span></span><span
lang=BG>&quot; вместо &quot;</span><span class=Code><span lang=BG>ab\ncd</span></span><span
lang=BG>&quot;. Този дефект се получава, защото </span><span class=Code><span
lang=BG>replaceAll()</span></span><span lang=BG> </span><span lang=BG>намира и
замества съвпаденията еднократно отляво надясно. Ако в резултат на заместване
се появи отново търсеният низ, той бива прескочен.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Видяхте колко е
полезно всеки метод да бъде тестван на момента, а не накрая да се чудим защо
програмата не работи и да имаме 200 реда код, пълен с грешки. Ранното откриване
на дефектите е много полезно и трябва да го правите винаги, когато е възможно.
Ето поправения код:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeDoubleNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (str.indexOf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>) != -1) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     str = str.replaceAll(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\n\n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> str;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След серия
тестове, се убеждаваме, че сега вече методът работи коректно. Сега можем да
тестваме дали метод ни спасява от излишните нови редове. За целта правим
следната промяна:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  line = <i>removeAllTags</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  <b>line = <i>removeDoubleNewLines</i>(line);</b></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(line);</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изглежда пак има
празни редове. От къде ли идват? Вероятно, ако имаме ред, който съдържа само
тагове, той ще създаде проблем. Следователно трябва да предвидим този случай. Добавяме
следната проверка:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! line.equals(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(line);</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Това ни спасява от повечето празни редове, но
не и от всички.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако се замислим,
би могло да се случи така, че някой ред да започва или завършва с таг. Тогава
този таг ще бъде заменен с единичен празен ред и така в началото или в края на
реда може да има празен ред. Това означава, че трябва да чистим празните редове
в началото и в края на всеки ред. Ето как можем да направим въпросното изчистване:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String trimNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> start = 0;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (start &lt; str.length() &amp;&amp; str.charAt(start)==</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>'\n'</span><span
  lang=BG style='font-family:"Courier New";color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     start++; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> end = str.length()-1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (end &gt;= 0 &amp;&amp; str.charAt(end)==</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>'\n'</span><span lang=BG
  style='font-family:"Courier New";color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     end--; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (start &gt; end) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  String trimmed = str.substring(start, end+1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> trimmed;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Методът работи
много просто: преминава отляво надясно пред входния символен низ и прескача
всички символи за празен ред. След това преминава отдясно наляво и отново
прескача всички символи за празен ред. Ако лявата и дясната позиция са се
разминали, това означава, че низът или е празен, или съдържа само символи за
празен ред. Тогава връщаме празен низ. Иначе връщаме всичко надясно от
стартовата позиция и наляво от крайната позиция.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Както винаги,
тестваме въпросния метод дали работи коректно с няколко примера, сред които
празен низ, низ без нови редове, низ с нови редове отляво или отдясно или и от
двете страни и низ само с нови редове. Убеждаваме се, че методът работи
коректно.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега остава да
модифицираме логиката на обработката на входния файл:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  line = <i>removeAllTags</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  line = <i>removeDoubleNewLines</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  line = <i>trimNewLines</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! line.equals(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     writer.println(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Този път тестваме
и се убеждаваме, че всичко работи коректно.</span></p>

<h3><a name="_Toc218196268"><span lang=BG>Стъпка 4 – записване на резултата във
файл</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Остава ни да
запишем резултата в изходен файл. За да записваме резултата в изходния файл ще
използваме </span><span class=Code><span lang=BG>PrintStream</span></span><span
lang=BG>. Тази стъпка е тривиална. Трябва да се съобразим само, че писането във
файл може да предизвика изключение и затова трябва да променим леко логиката за
обработка на грешки и за отварянето и затварянето на потоците за входния и
изходния файл.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето какво се
получава най-накрая като изход от програмата:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code>HtmlTagRemover</span><span class=Code><span lang=BG>.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HtmlTagRemover {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.html&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.txt&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>CHARSET</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;windows-1251&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String args[]) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     PrintWriter writer = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>null</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> File(</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>), </span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>CHARSET</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       writer = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> PrintWriter(</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>CHARSET</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner.hasNextLine()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          line = <i>removeAllTags</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          line = <i>removeDoubleNewLines</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          line = <i>trimNewLines</i>(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! line.equals(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            writer.println(line);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>catch</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (IOException ioex) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>err</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Can read or write file &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + ioex);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (scanner != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          scanner.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (writer != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          writer.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeAllTags(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String strWithoutTags = str.replaceAll(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;&lt;[^&gt;]*&gt;&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> strWithoutTags;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String trimNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> start = 0;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (start &lt; str.length() &amp;&amp; str.charAt(start)==</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>'\n'</span><span
  lang=BG style='font-family:"Courier New";color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       start++; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> end = str.length()-1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (end &gt;= 0 &amp;&amp; str.charAt(end)==</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>'\n'</span><span lang=BG
  style='font-family:"Courier New";color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       end--; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (start &gt; end) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String trimmed = str.substring(start, end+1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> trimmed;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeDoubleNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (str.indexOf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>) != -1) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       str = str.replaceAll(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> str;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196269"><span lang=BG>Тестване на решението</span></a></h3>

<p class=MsoNormal><span lang=BG>Досега тествахме отделните стъпки от решението
на задачата. Чрез извършените тестове на отделните стъпки намаляваме
възможността за грешки, но това не значи, че не трябва да тестваме цялото
решение. Може да сме пропуснали нещо, нали?</span></p>

<p class=MsoNormal><span lang=BG>Тестваме с примерния входен файл от условието
на задачата. Всичко работи коректно.</span></p>

<p class=MsoNormal><span lang=BG>Тестваме с нашия &quot;сложен&quot; пример.
Всичко работи добре.</span></p>

<p class=MsoNormal><span lang=BG>Задължително трябва да тестваме граничните
случаи и да пуснем тест за производителност.</span></p>

<p class=MsoNormal><span lang=BG>Започваме с празен файл. Изходът е коректен –
празен файл.</span></p>

<p class=MsoNormal><span lang=BG>Тестваме с файл, който съдържа само една дума &quot;</span><span
class=Code><span lang=BG>Hello</span></span><span lang=BG>&quot; и не съдържа
тагове. Резултатът е коректен – изходът съдържа само &quot;</span><span
class=Code><span lang=BG>Hello</span></span><span lang=BG>&quot;</span>.</p>

<p class=MsoNormal><span lang=BG>Тестваме с файл, който съдържа само тагове и
не съдържа текст. Резултатът е отново коректен – празен файл.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Пробваме да сложим
празни редове на най-невероятни места във входния файл. Пускаме следния тест:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Hello</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>&lt;</span><span style='font-family:"Courier New"'>br&gt;&lt;br&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&lt;b&gt;I&lt;b&gt;
  am here</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>I
  am not &lt;b&gt;here&lt;/b&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изходът е следният:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>Hello</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>I</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'> am here</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>I am not
  </span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>here</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Изглежда открихме дребен дефект. Има един
интервал в началото на един от редовете. Според условието не е много ясно дали
това е дефект, но нека се опитаме да го оправим.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Добавяме следния
код при обработката на поредния ред от входния файл:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>line
  = line.trim();</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Дефектът не се
премахва. Пускаме дебъгера и забелязваме защо се получава така. Причината е, че
отпечатваме в изходния файл символен низ със стойност &quot;</span><span
class=Code><span lang=BG>I\n am here</span></span><span lang=BG>&quot; и така
получаваме интервал след празен ред. Можем да поправим дефекта, като навсякъде
от празен ред, следван от празно пространство (празен ред, интервал, табулация
и т.н.). Ето поправката:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeDoubleNewLines(String str) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  str = str.replaceAll(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\n\\s+&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> str;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Направихме метода хем по-кратък, хем
по-коректен. Единствено трябва да му сменим името с някакво по-адекватно,
примерно нещо като </span><span class=Code><span lang=BG>removeNewLinesWithWhiteSpace()</span></span>.</p>

<p class=MsoNormal><span lang=BG>Сега трябва отново да тестваме упорито след
поправката. Слагаме нови редове и интервали пръснати безразборно и се уверяваме
се, че всичко работи вече коректно.</span></p>

<p class=MsoNormal><span lang=BG>Остана един последен тест – за
производителност. Лесно можем да създадем обемен входен файл. Дърпаме някой
известен сайт, примерно <a href="http://java.sun.com/">http://java.sun.com/</a>,
взимаме му сорс кода и го копираме 1000 пъти. Получаваме достатъчно голям
входен файл.</span><span lang=BG> </span><span lang=BG>В нашия случай се получи
44 MB файл с 947 000 реда. За обработката му бяха нужни под 10 секунди, което е
напълно приемлива скорост.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Като надникнем в
резултата, обаче, забелязваме много неприятен проб­лем. В него има части от
тагове. По-точно виждаме следното:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>&lt;!--</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>var
  s_pageName=&quot;home page&quot;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span style='font-family:"Courier New"'>//--&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Бързо става ясно, че сме изпуснали един много
интересен случай. В HTML може един таг да бъде затворен няколко реда след
отварянето си, т.е. един таг може да е разположен на няколко последователни
реда. Точно такъв е нашият случай: имаме таг с коментари, който съдържа </span>J<span
lang=BG>avaScript код.</span> Ако програмата работеше коректно, щеше <span
lang=BG>да отреже целия таг вместо да го запази в изходния файл.</span></p>

<p class=MsoNormal><span lang=BG>Видяхте колко е полезно тестването и колко е
важно. В някои сериозни фирми (като например Майкрософт) решение без тестове се
счита за готово на 50%. Това означава, че ако пишете код 2 часа, трябва да
отделите за тестване (ръчно или автоматизирано) поне още 2 часа! Само така
можете да създадете качествен софтуер.</span></p>

<p class=MsoNormal><span lang=BG>Колко жалко, че открихме проблема чак сега
вместо в началото, когато проверявахме дали е правилна идеята ни за решение на
задачата, прди да сме написали програмата. Понякога се случва така, нама как.</span></p>

<h3><a name="_Toc218196270"><span lang=BG>Как да оправим проблема с тагове на
два реда?</span></a></h3>

<p class=MsoNormal><span lang=BG>Първата идея, която ни хрумва, е да заредим в
паметта целия входен файл и да го обработваме като един голям стринг вместо ред
по ред. Това е идея, която изглежда ще работи, но ще работи бавно и ще
консумира голямо количество памет. Нека потърсим друга идея.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Очевидно не можем
да четем файла ред по ред. Можем ли да го четем символ по символ? Ако можем,
как ще обработваме таговете? Хрумва ни, че ако четем файла символ по символ,
можем във всеки един момент да знаем дали сме в таг или сме извън таг и ако сме
извън таг, можем да печатаме всичко, което прочетем. Ще се получи нещо такова:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>inTag</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New"'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! &lt;end </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> file is reached&gt;) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = &lt;read next </span><span lang=BG style='font-family:
  "Courier New"'>character&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&lt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     inTag = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&gt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     inTag = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! inTag) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       print(ch);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Идеята е много
проста и лесна за реализация. Ако я реализираме директно, ще имаме проблема с
празните редове и проблема със слива­нето на текст от съседни тагове. За да
разрешим този проблем, можем да натрупваме текста в </span><span class=Code><span
lang=BG>StringBuilder</span></span> и да го<span lang=BG> отпечатваме при край
на файла или при преминаване към таг. Ще се получи нещо такова:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>inTag</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>StringBuilder </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>buffer</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! &lt;end </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> file is reached&gt;) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = &lt;read next character&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&lt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! inTag) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       printBuffer(buffer);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     buffer.clear();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     inTag = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&gt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     inTag = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! inTag) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       buffer.append(ch);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }         </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>printBuffer(buffer);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако добавим и
логиката за избягване на празните редове, както и четенето на входа и писането
на резултата, ще получим цялостно решение на задачата по новия алгоритъм:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.FileInputStream;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.IOException;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.InputStreamReader;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.PrintWriter;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> SimpleHtmlTagRemover {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.html&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem1.txt&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>CHARSET</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;windows-1251&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>throws</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> IOException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     InputStreamReader reader = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> InputStreamReader(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> FileInputStream(</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>), </span><i><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>CHARSET</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     PrintWriter writer = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> PrintWriter(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>CHARSET</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> inTag = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       StringBuilder buffer = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> nextChar = reader.read();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (nextChar == -1) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// End of file reached</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            <i>printBuffer</i>(writer, buffer);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>break</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) nextChar;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&lt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! inTag) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>              <i>printBuffer</i>(writer, buffer);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            buffer.setLength(0);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            inTag = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>true</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'&gt;'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            inTag = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>false</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// We have other character (not &quot;&lt;&quot; or &quot;&gt;&quot;)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! inTag) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>               buffer.append(ch);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }         </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       reader.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       writer.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> printBuffer(PrintWriter writer,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       StringBuilder buffer) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String str = buffer.toString();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String trimmed = str.trim();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String textOnly = <i>removeNewLineWithWhiteSpace</i>(trimmed);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (textOnly.length() != 0) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       writer.println(textOnly);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String removeNewLineWithWhiteSpace(String str){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     str = str.replaceAll(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\n\\s+&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> str;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>За простота сме пропуснали обработката на
грешки при четене и писане във файл. При възникване на изключение го изхвърляме
от главния метод и оставяме виртуалната машина да го отпечата в конзолата.</span></p>

<p class=MsoNormal><span lang=BG>Входният файл чете символ по символ с класа </span><span
class=Code><span lang=BG>InputStreamReader</span></span><span lang=BG>. За
съжаление не можем да ползваме любимият ни клас </span><span class=Code><span
lang=BG>Scanner</span></span><span lang=BG>, защото той няма метод за четене на
единичен символ.</span></p>

<p class=MsoNormal><span lang=BG>Първоначално буферът за натрупване на текст е
празен. В главния цикъл анализираме всеки прочетен символ. Имаме следните
случаи:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако стигнем до края на файла, отпечатваме каквото има в буфера и
алгоритъмът приключва.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>При срещане на символ &quot;</span><span class=Code><span lang=BG>&lt;</span></span><span
lang=BG>&quot;</span> (<span lang=BG>начало на таг</span>) <span lang=BG>първо
отпечатваме буфера (ако установим, че преминаваме от текст към таг). След това
зачистваме буфера и установяваме </span><span class=Code><span lang=BG>isTag = true</span></span>.</p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>При срещане на символ &quot;</span><span class=Code>&gt;</span><span
lang=BG>&quot;</span><span lang=BG> </span><span lang=BG>(край на таг)
установяваме </span><span class=Code><span lang=BG>isTag = </span></span><span
class=Code>false</span>. <span lang=BG>Това ще позволи следващите след тага
символи да се натрупват в буфера.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>При срещане на някой друг символ (текст или празно пространство), той
се добава към буфера, ако сме извън таг. Ако сме в таг, символът се игнорира.</span></p>

<p class=MsoNormal><span lang=BG>Печатането на буфера се грижи да премахва
празните редове в текста и да изчиства празното пространство в началото и в
края на текста. Как точно извършваме това, вече разгледахме в предходното
решение на задачата, което се оказа грешно.</span></p>

<h3><a name="_Toc218196271"><span lang=BG>Тестване на новото решение</span></a></h3>

<p class=MsoNormal><span lang=BG>Остава да тестваме задълбочено новото решение.
Изпълняваме всички тестове, които проведохме за предното решение. Добавяме тест
с тагове, които се разпростират на няколко реда. Отново тестваме за
производител­ност със сайта на Java 1000 пъти. Уверяваме се, че и за него
програмата работи коректно и дори е по-бърза.</span></p>

<p class=MsoNormal><span lang=BG>Най-накрая вече сме готови за следващата
задача.</span></p>

<h2><a name="_Toc218196272"><span lang=BG>Задача 2: Лабиринт</span></a></h2>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Даден е лабиринт,
който се състои от N x N квадратчета, всяко от които може да е проходимо (</span><span
class=Code><span lang=BG>0</span></span><span lang=BG>) или не (</span><span
class=Code><span lang=BG>x</span></span><span lang=BG>). В едно от
квадратчетата се намира нашият герой Минчо (</span><span class=Code><span
lang=BG>*</span></span><span lang=BG>):</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#D9D9D9;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>*</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=BG>Две квадратчета са съседни, ако имат обща
стена. Минчо може на една стъпка да преминава от едно проходимо квадратче в
съседно на него проходимо квадратче. Ако Минчо стъпи в клетка, която е на
границата на лабиринта, той може с една стъпка да излезе извън него. Напишете
програма, която по даден лабиринт отпе­чатва минималния брой стъпки, необходими
на Минчо, за да излезе от лабиринта или -1 ако няма изход.</span></p>

<p class=MsoNormal><span lang=BG>Входните данни се четат от текстов файл с име </span><span
class=Code><span lang=BG>Problem2.in</span></span><span lang=BG>. На първия ред
във файла стои числото N (2 &lt; N &lt; 100). На следващите N реда стоят по N
символа, всеки от които е или &quot;</span><b><span lang=BG style='font-family:
"Courier New"'>0</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>x</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>*</span></b><span lang=BG>&quot;.
Изходът представлява едно число и трябва да се изведе във файла </span><span
class=Code><span lang=BG>Problem2.out</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Примерен входен
файл </span><span class=Code><span lang=BG>Problem2.in</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>6</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>xxxxxx</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>0x000x</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>x*0x0x</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>xxxx0x</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>00000x</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>0xxx0x</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Примерен изходен
файл </span><span class=Code>P</span><span class=Code><span lang=BG>roblem2.out</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>9</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196273"><span lang=BG>Измисляне на идея за решение</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Имаме лабиринт и
трябва да намерим най-краткия път в него. Това не е лесна задача и трябва доста
да помислим или да сме прочели някъде как се решават такива задачи.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нашият алгоритъм
ще започва от работата си от началната точка, която ни е дадена. Знаем, че
можем да се предвижваме в съседна клетка хори­зонтално и вертикално, но не и по
диагонал. Нашият алгоритъм трябва да обхожда лабиринта по някакъв начин, за да
намери в него най-късия път. Как да обхождаме клетките в лабиринта?</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Един възможен
начин за обхождане е следният: стартираме от началната клетка. Преместваме се в
съседна клетка на текущата (която е прохо­дима), след това в съседна клетка на
нея (която е проходима и все още непосетена), след това в съседна на последната
посетена (която е проходима е все още непосетена) и така продължаваме
рекурсивно напред, докато или стигнем изход от лабиринта, или стигнем до място,
от където няма продължение (няма съседна клетка, която е свободна и
непосетена). В този момент се връщаме от рекурсията (към предходната клетка, от
която сме стигнали текущата) и посещаваме друга клетка на предходната клетка.
Ако няма продължение, се връщаме още назад. Описаният рекурсивен процес
представлява обхождане на лабиринта в дълбочина (спомнете си главата &quot;<a
href="#_Глава_10._Рекурсия">Рекурсия</a>&quot;).</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Възниква въпросът &quot;Нужно
ли е да минаваме през една клетка повече от един път&quot;? Ако минаваме през
една клетка най-много веднъж, то бързо ще обходим целия лабиринт и ако има
изход, ще го намерим. Обаче мини­мален ли ще е този път. Ако си нарисуваме
процеса на хартия, бързо ще се убедим, че намереният път няма да е минимален.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако при връщане от
рекурсията отбелязваме като свободна клетката, която напускаме, ще позволим до
една и съща клетка да стигаме много­кратно, идвайки по различен път. Пълното
рекурсивно обхождане на лабиринта на практика ще намери всички възможни пътища
от началната клетка до всяка други клетка. От всички тези пътища можем да
вземем най-късия път до клетка на границата на лабиринта (изход) и така ще
намерим решение на задачата.</span></p>

<h3><a name="_Toc218196274"><span lang=BG>Проверка на идеята</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изглежда имаме
идея за решаване на задачата: с рекурсивно обхождане намираме всички пътища в
лабиринта от началната клетка до клетка на границата на лабиринта и измежду
всички тези пътища избираме най-късия. Нека да проверим идеята.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Взимаме лист
хартия и си правим един примерен лабиринт. Пробваме алгоритъма. Вижда се, че
той намира всички пътища от началната клетка до някой от изходите, като доста
обикаля напред-назад. В крайна сметка намира всички изходи и измежду всички
пътища може да се избере най-краткият.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Дали идеята
работи, ако няма изход? Правим си втори лабиринт, който е без изход. Пробваме
алгоритъма върху него, отново на лист хартия. Виж­даме, че след доста обикаляне
напред-назад алгоритъмът не намира нито един изход и приключва.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изглежда имаме
правилна идея за решаване на задачата. Да преминем напред и да помислим за
структурите от данни.</span></p>

<h3><a name="_Toc218196275"><span lang=BG>Какви структури от данни да използваме?</span></a></h3>

<p class=MsoNormal><span lang=BG>Първо трябва да преценим как да съхраняваме
лабиринта. Съвсем естест­вено е да ползваме матрица от символи, точно като тази
на картинката. Ще считаме, че една клетка е проходима и можем да влезем в нея,
ако съдържа символ, различен от символа '</span><span class=Code><span lang=BG>x</span></span><span
lang=BG>'. Може да пазим лабиринта и в матрица с числа или булеви стойности, но
разликата не е съществена. Матрицата от символи е удобна за отпечатване, а това
ще ни помогне докато дебъгваме. Няма много възможности за избор. Ще съхраняваме
лабиринта в матрица от символи.</span></p>

<p class=MsoNormal><span lang=BG>След това трябва да решим в каква структура да
запомняме обходените до момента клетки по време на рекурсията (текущия път). На
нас ни трябва винаги последната обходена клетка. Това ни навежда на мисълта за
структура, която спазва &quot;последен влязъл, пръв излязъл&quot;, тоест стек.
Можем да ползваме </span><span class=Code><span lang=BG>Stack&lt;Cell&gt;</span></span><span
lang=BG>, където </span><span class=Code><span lang=BG>Cell</span></span><span
lang=BG> е клас, съдържащ коорди­натите на една клетка (номер на ред и номер на
колона).</span></p>

<p class=MsoNormal><span lang=BG>Остава да помислим в какво да запомняме
намерените пътища</span>, <span lang=BG>за да можем да извлечем накрая
най-късия от тях. Ако се замислим малко, не е нужно да пазим всички пътища.
Достатъчно е да помним текущия път и най-късият път за момента. Дори не е
необходимо да пазим най-късия път за момента, ами само неговата дължина. Всеки
път, когато намерим път до изход от лабиринта, можем да взимаме неговата
дължина и ако тя е по-малка от най-късата дължина за момента, да я запомняме.</span></p>

<p class=MsoNormal><span lang=BG>Изглежда намерихме ефективни структури от
данни. Според препоръките за решаване на задачи, още не трябва да се втурваме
да пишем кода на програмата, защото трябва да помислим за ефективността на
алгоритъма.</span></p>

<h3><a name="_Toc218196276"><span lang=BG>Да помислим за ефективността</span></a></h3>

<p class=MsoNormal><span lang=BG>Нека да проверим идеята си от следна точка на
ефективността? Какво правим ние? Намираме всички възможни пътища и от тях
взимаме най-късия. Няма спор, че алгоритъмът ще работи, но ако лабиринтът стане
много голям, дали ще работи бързо?</span></p>

<p class=MsoNormal><span lang=BG>За да отговорим на този въпрос, трябва да
помислим колко за пътищата. Ако вземем празен лабиринт, то на всяка стъпка на
рекурсията ще имаме средно по 3 свободни продъл­жения (като изключим клетката,
от която идваме).</span></p>

<p class=MsoNormal><span lang=BG>Така, ако имаме примерно лабиринт 10 на 10,
пътят може да стане дълъг до 100 клетки и по време на обхождането на всяка
стъпка ще имаме по 3 съседни клетки. Изглежда броят пътища е число от порядъка
на 3 на степен 100. Очевидно алгоритъмът ще приспи компютъра много бързо.</span></p>

<p class=MsoNormal><span lang=BG>Намерихме сериозен проблем на алгоритъма. Той
ще работи много бавно, дори при малки лабиринти, а при големи изобщо няма да
работи!</span></p>

<h3><a name="_Toc218196277"><span lang=BG>Да измислим нова идея</span></a></h3>

<p class=MsoNormal><span lang=BG>Разбрахме, че обхождането на всички пътища в лабиринта
е неправилен подход, затова трябва да измислим друг.</span></p>

<p class=MsoNormal><span lang=BG>Нека започнем от началната клетка и да обходим
всички нейни съседни и да ги маркираме като обходени. За всяка обходена клетка
ще запомняме едно число, което е равно на броя клетки, през които сме
преминали, за да достигнем до нея (дължина на пътя от началната клетка до
текущата).</span></p>

<p class=MsoNormal><span lang=BG>За началната клетка дължината на пътя е 0. За
нейните съседи дължината на пътя трябва да е 1, защото с 1 движение можем да ги
достигнем от началната клетка. За съседните клетки на съседите на началната
клетка дължината на пътя е 2. Можем да продължим да разсъждаваме по този начин
и ще стигнем до следния алгоритъм:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Записваме дължина на пътя 0 за началната клетка. Отбелязваме я като
посетена.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>За всяка съседна клетка на началната отбелязваме, че пътят до нея е с
дължина 1. Отбелязваме тези клетки като посетени.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>За всяка клетка, която е съседна на клетка с дължина 1 и не е посетена,
записваме, че е дължината на пътя до нея е 2. Отбелязваме въпросните клетки
като посетени.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Продължавайки аналогично, на N-тата стъпка намираме всички непосетени
все още клетки, които са на разстояние N премествания от началната клетка и ги
отбелязваме като посетени.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да
визуализираме процеса по следния начин (взимаме друг лабиринт, за да покажем
по-добра идеята):</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Стъпка 0 –
отбелязваме разстоянието от началната клетка до нея самата с 0 (за удобство на
картинката отбелязваме свободните клетки с &quot;</span><span class=Code><span
lang=BG>-</span></span><span lang=BG>&quot;):</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#D9D9D9;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Стъпка 1 –
отбелязваме с 1 всички проходими съседи на клетки със стойност 0:</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#D9D9D9;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Стъпка 2 –
отбелязваме с 2 всички проходими съседи на клетки със стойност 1:</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#D9D9D9;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Стъпка 3 –
отбелязваме с 3 всички проходими съседи на клетки със стойност 2:</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>&nbsp;</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'><b><span lang=BG
  style='font-size:10.0pt;font-family:"Verdana","sans-serif"'><br clear=all
  style='page-break-before:always'>
  <br clear=all style='page-break-before:always'>
  </span></b>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>3</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>1</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>2</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>3</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>-</span></b></p>
  </td>
  <td width=23 style='width:17.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Продължавайки
така, е ведно, че в един момент или ще достигнем клетка на границата на
лабиринта (т.е. изход) или ще установим, че такава не е достижима.</span></p>

<h3><a name="_Toc218196278"><span lang=BG>Проверяване производителността на
новия алгоритъм</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Понеже никога не
посещаваме повече от веднъж една и съща клетка, броят стъпки, които извършва
този алгоритъм, не би трябвало да е голям. Примерно, ако имаме лабиринт с
размери 100 на 100, той ще има 10 000 клетки, всяка от които ще посетим
най-много веднъж и за всяка посетена клетка ще проверим всеки неин съсед дали е
свободен, т.е. ще извършим по 4 проверки. В крайна сметка ще извършим най-много
40 000 проверки и ще обходим най-много 10 000 клетки. Общо ще направим около 50
000 операции. Това означава, че алгоритъмът ще работи мигновено.</span></p>

<h3><a name="_Toc218196279"><span lang=BG>Проверяване коректността на новия
алгоритъм</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изглежда този път
нямаме проблем с производителността. Имаме бърз алгоритъм.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да проверим дали е
коректен. За целта си рисуваме на лист хартия някой по-голям и по-сложен
пример, в който има много изходи и много пътища и започваме да изпълняваме
алгоритъма. Изглежда работи коректно.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След това пробваме
с лабиринт без изход. Изглежда алгоритъмът завър­шва, но не намира изход.
Следователно работи коректно.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Пробваме още 2-3
примера и се убеждаваме, че този алгоритъм винаги намира най-краткия път до
някой изход и винаги работи бързо, защото обхожда всяка клетка от лабиринта
най-много веднъж.</span></p>

<h3><a name="_Toc218196280"><span lang=BG>Какви структури от данни да
използваме?</span></a></h3>

<p class=MsoNormal><span lang=BG>С новия алгоритъм обхождаме последователно
всички съседни клетки на началната клетка. Можем да ги сложим в някаква
структура данни, примерно масив или по-добре списък, че в масива не можем да
добавяме.</span></p>

<p class=MsoNormal><span lang=BG>След това взимаме списъка с достигнатите на
последната стъпка клетки и добавяме в друг списък техните съседи.</span></p>

<p class=MsoNormal><span lang=BG>Така получаваме списък<sub>0</sub>, който съдържа
началната клетка, списък<sub>1</sub>, който съдържа проходимите съседни на
началната клетка, след това списък<sub>2</sub>, който съдържа проходимите
съседи на списък<sub>1</sub> и т.н. На </span><span class=Code><span lang=BG>n</span></span><span
lang=BG>-тата стъпка получаваме списък<sub>n</sub>, който съдържа всички
клетки, достижими за точно </span><span class=Code><span lang=BG>n</span></span><span
lang=BG> стъпки, т.е. клетките на разстояние </span><span class=Code><span
lang=BG>n</span></span><span lang=BG> от стартовата клетка.</span></p>

<p class=MsoNormal><span lang=BG>Изглежда можем да ползваме списък от списъци,
за да пазим клетките, получени на всяка стъпка. Ако се замислим, за да получим </span><span
class=Code><span lang=BG>n</span></span><span lang=BG>-тия списък</span>,<span
lang=BG> ни е достатъчен (</span><span class=Code><span lang=BG>n-1</span></span><span
lang=BG>)-вия. Реално не ни трябва списък от списъци, а само списъкът от
последната стъпка.</span></p>

<p class=MsoNormal><span lang=BG>Можем да достигнем и до по-генерален извод:
Клетките се обработват в реда на постъпване: когато свършват клетките от стъпка
</span><span class=Code><span lang=BG>k</span></span><span lang=BG>, чак тогава
се обработват клетките от стъпка </span><span class=Code><span lang=BG>k+1</span></span><span
lang=BG>, а едва след тях – клетките от стъпка </span><span class=Code><span
lang=BG>k+2</span></span><span lang=BG> и т.н. Процесът прилича на опашка –
по-рано постъпилите клетки се обработват по-рано.</span></p>

<p class=MsoNormal><span lang=BG>За да реализираме алгоритъма, можем да
използваме опашка от клетки. За целта трябва да дефинираме клас клетка (</span><span
class=Code><span lang=BG>Cell</span></span><span lang=BG>), който да съдържа
координатите на дадена клетка (ред и колона). Можем да пазим в матрицата за
всяка клетка на какво разстояние се намира от началната клетка или -1, ако
разстоянието още не е пресметнато.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако се замислим
още малко, разстоянието от стартовата клетка може да се пази в самата клетка (в
класа </span><span class=Code><span lang=BG>Cell</span></span><span lang=BG>)
вместо да се прави специална матрица за разстоянията. Така ще се спести памет.</span></p>

<p class=MsoNormal><span lang=BG>Вече имаме яснота за структурите данни. Остава
да реализираме алго­ритъма – стъпка по стъпка.</span></p>

<h3><a name="_Toc218196281"><span lang=BG>Стъпка 1 – класът Cell</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да започнем
от дефиницията на класа </span><span class=Code><span lang=BG>Cell</span></span><span
lang=BG>. Той ще ни трябва, за да запазим стартовата клетка, от която започва
търсенето на пътя:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>row</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>col</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>distance</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Може да му добавим
и конструктор за удобство:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>row</span><span lang=BG style='font-family:"Courier New";
  color:black'> = row;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>col</span><span lang=BG style='font-family:"Courier New";
  color:black'> = col;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>distance</span><span lang=BG style='font-family:"Courier New";
  color:black'> = distance;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196282"><span lang=BG>Стъпка 2 – прочитане на входния файл</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще четем входния
файл ред по ред чрез познатия ни клас </span><span class=Code><span lang=BG>Scanner</span></span><span
lang=BG>. На всеки ред ще анализираме символите и ще ги записваме в матрица от
символи. При достигане на символ &quot;</span><span class=Code><span lang=BG>*</span></span><span
lang=BG>&quot; ще запомним координатите му</span><span lang=BG> </span><span
lang=BG>в инстанция на класа </span><span class=Code><span lang=BG>Cell</span></span><span
lang=BG>, за да знаем от къде да започнем търсенето на най-краткия път за
излизане от лабиринта.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да
дефинираме клас </span><span class=Code><span lang=BG>Maze</span></span><span
lang=BG> и в него да пазим матрицата на лабиринта и стартовата клетка:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Maze.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Maze {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>[][] </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>startCell</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> readFromFile(String fileName)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> FileNotFoundException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> File(fileName));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Read maze size</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'> = scanner.nextInt();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Create the maze</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>[</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>][</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Read the maze cells from the file</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row=0; row&lt;</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>; row++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col = 0; col &lt; line.length(); col++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = line.charAt(col); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>[row][col] = ch;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'*'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>              </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>startCell</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell(row, col, 0);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Вече имаме класа </span><span
class=Code><span lang=BG>Maze</span></span><span lang=BG> и подходящо представяне
на данните от входния файл. За да сме сигурни, че написаното дотук е вярно
трябва да тестваме. Можем да проверим дали матрицата е вярно попълнена, като я
отпечатаме на конзолата. Друг вариант е да се разгледат стойностите на полетата
от класа </span><span class=Code><span lang=BG>Maze</span></span><span lang=BG>
през дебъгера на Eclipse.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След като тестваме
написаното дотук продължаваме със следващата стъпка</span>, <span lang=BG>а
именно търсенето на най-краткия път.</span></p>

<h3><a name="_Toc218196283"><span lang=BG>Стъпка 3 – намиране на най-къс път</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем директно да
имплементираме алгоритъма, който вече дискути­рахме. Трябва да дефинираме
опашка и в нея да сложим в началото стартовата клетка. След това в цикъл трябва
да взимаме поредната клетка от опашката и да добавяме всичките й непосетени
проходими съседи. На всяка стъпка има шанс да стъпим в клетка от границата на
лабиринта, при което считаме, че сме намерили изход и търсенето приключва.
Повтаряме цикъла докато опашката свърши. При всяко влизане посещение на дадена
клетка проверяваме дали клетката е свободна и ако е свободна, я маркираме като
непроходима. Така избягваме повторно попадане в същата клетка. Ето как изглежда
имплементацията на алгоритъма:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> findShortestPath(Cell startCell) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New"'>//
  Queue for traversing the cells in the maze</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Queue&lt;Cell&gt; visitedCells = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> LinkedList&lt;Cell&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  visitCell(visitedCells, startCell.row, startCell.col, 0);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New"'>//
  Perform Breath-First-Search (BFS)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! visitedCells.isEmpty()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Cell currentCell = visitedCells.remove();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row = currentCell.row;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col = currentCell.col;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance = currentCell.distance;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ((row == 0) || (row == size-1)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       || (col == 0) || (col == size-1)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New"'>//
  We are at the maze border</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance + 1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitCell(visitedCells, row, col + 1, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitCell(visitedCells, row, col - 1, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitCell(visitedCells, row + 1, col, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitCell(visitedCells, row - 1, col, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New"'>// We
  didn't reach any cell at the maze border -&gt; no path</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> -1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> visitCell(Queue&lt;Cell&gt; visitedCells, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (maze[row][col] != </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>'x'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New"'>//
  Cell is free. Visit it</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     maze[row][col] = </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>'x'</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Cell cell = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Cell(row, col, distance);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitedCells.add(cell);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }    </span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Проверка след стъпка 3</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt;text-autospace:none'><span
lang=BG>Преди да се захванем със следващата стъпка, трябва да тестваме, за да
проверим нашия алгоритъм. Трябва да пробваме нормалния случай, както и граничните
случаи, когато няма изход, когато се намираме на изход, когато входният файл не
съществува или квадратната матрица е с размер нула. Едва след това може да
започнем решаването на следващата стъпка.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека да пробваме
случая, в който имаме дължина нула на квадратната матрица във входния файл:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:red'>Exception in thread &quot;main&quot; </span><u><span lang=BG
  style='font-family:"Courier New";color:navy'>java.lang.NullPointerException</span></u></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:red'>  at Maze.findShortestPath(</span><u><span lang=BG
  style='font-family:"Courier New";color:navy'>Maze.java:59</span></u><span
  lang=BG style='font-family:"Courier New";color:red'>)</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:red'>  at Maze.main(</span><u><span lang=BG
  style='font-family:"Courier New";color:navy'>Maze.java:104</span></u><span
  lang=BG style='font-family:"Courier New";color:red'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Допуснали сме
грешка. Проблемът е в това, че при създаване на обект от класа </span><span
class=Code><span lang=BG>Maze</span></span><span lang=BG>, променливата, в която
ще помним началната клетка, се инициализира с </span><span class=Code><span
lang=BG>null</span></span><span lang=BG>.</span><span lang=BG> </span><span
lang=BG>Ако лабиринтът няма клетки (дължина 0) или липсва стартовата клетка, би
трябвало програмата да връща резултат -1, а не да дава изключение. Можем да
добавим проверка в началото на метода </span><span class=Code><span lang=BG>findShortestPath()</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> findShortestPath(Cell startCell) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (startCell == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Start cell is missing -&gt; no path</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> -1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>  </span><span lang=BG>…</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В останалите случаи изглежда, че алгоритъмът
работи.</span></p>

<h3><a name="_Toc218196284"><span lang=BG>Стъпка 4 – записване на резултата във
файл</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Остава да запишем
резултата от метода </span><span class=Code><span lang=BG>FindShortestWay()</span></span><span
lang=BG> в изходния файл. Това е тривиална задача:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> saveResult(String fileName, </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>int</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> result) </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> IOException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  FileWriter writer = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> FileWriter(fileName);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     writer.write(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + result);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     writer.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда пълният
код на решението на задачата:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Maze.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.io.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.*;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Maze {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem2.in&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Problem2.out&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>row</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>col</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>distance</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>row</span><span lang=BG style='font-family:"Courier New";
  color:black'> = row;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>col</span><span lang=BG style='font-family:"Courier New";
  color:black'> = col;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>distance</span><span lang=BG style='font-family:"Courier New";
  color:black'> = distance;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>[][] </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>startCell</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> readFromFile(String fileName)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> FileNotFoundException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner scanner = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Scanner(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> File(fileName));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Read maze size</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'> = scanner.nextInt();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Create the maze</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>[</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>][</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Read the maze cells from the file</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row=0; row&lt;</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>; row++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          String line = scanner.nextLine();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col = 0; col &lt; line.length(); col++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = line.charAt(col); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>[row][col] = ch;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (ch == </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'*'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>              </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>startCell</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cell(row, col, 0);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       scanner.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> findShortestPath(Cell startCell) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (startCell == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Start cell is missing -&gt; no path</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> -1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Queue for traversing the cells in the maze</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Queue&lt;Cell&gt; visitedCells = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> LinkedList&lt;Cell&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     visitCell(visitedCells, startCell.</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>row</span><span lang=BG
  style='font-family:"Courier New";color:black'>, startCell.</span><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>col</span><span
  lang=BG style='font-family:"Courier New";color:black'>, 0);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Perform Breath-First-Search (BFS)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (! visitedCells.isEmpty()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Cell currentCell = visitedCells.remove();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row = currentCell.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>row</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col = currentCell.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>col</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance = currentCell.</span><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>distance</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ((row == 0) || (row == </span><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>size</span><span lang=BG style='font-family:
  "Courier New";color:black'>-1)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          || (col == 0) || (col == </span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>size</span><span lang=BG
  style='font-family:"Courier New";color:black'>-1)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// We are at the maze border</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance + 1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       visitCell(visitedCells, row, col + 1, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       visitCell(visitedCells, row, col - 1, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       visitCell(visitedCells, row + 1, col, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       visitCell(visitedCells, row - 1, col, distance + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// We didn't reach any cell at the maze border -&gt; no path</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> -1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> visitCell(Queue&lt;Cell&gt; visitedCells,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> row, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> col, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> distance) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>[row][col] != </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'x'</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Cell is free. Visit it</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>maze</span><span lang=BG style='font-family:"Courier New";
  color:black'>[row][col] = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>'x'</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Cell cell = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Cell(row, col, distance);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       visitedCells.add(cell);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }    </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> saveResult(String fileName, </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>int</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> result) </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> IOException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     FileWriter writer = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> FileWriter(fileName);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       writer.write(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + result);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>finally</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       writer.close();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>throws</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> IOException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Maze maze = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Maze();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     maze.readFromFile(</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>INPUT_FILE_NAME</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> pathLength = maze.findShortestPath(maze.</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>startCell</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     maze.saveResult(</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>OUTPUT_FILE_NAME</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>, pathLength);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196285"><span lang=BG>Тестване на решението на задачата</span></a></h3>

<p class=MsoNormal><span lang=BG>След като имаме решение на задачата трябва да
тестваме. Вече тествахме граничните случаи и случаи като липса на изход или
началната позиция да е на изхода. Видяхме, че алгоритъмът работи коректно.</span></p>

<p class=MsoNormal><span lang=BG>Остава да тестваме с голям лабиринт, например
1000 на 1000. Можем да си направим такъв лабиринт много лесно – с copy/paste.</span><span
lang=BG> </span><span lang=BG>Изпълняваме теста и се убеждаваме, че програмата
работи коректно за големия тест и работи изключително бързо – не се усеща
каквото и да е забавяне.</span></p>

<p class=MsoNormal><span lang=BG>При тестването трябва да се опитваме по
всякакъв начин да счупим нашето решение. Пускаме още няколко по-трудни примера
(примерно лабиринт с проходими клетки във формата на спирала). Можем да сложим
голям лабиринт с много пътища, но без изход. Можем да сложим и каквото още се
сетим.</span></p>

<p class=MsoNormal><span lang=BG>Накрая се убеждаваме, че имаме коректно
решение и преминаваме към следващата задача.</span></p>

<h2><a name="_Toc218196286"><span lang=BG>Задача 3: Магазин за авточасти</span></a></h2>

<p class=MsoNormal><span lang=BG>Фирма планира създаване на система за
управление на магазин за авто­части. Една част може да се използва при различни
модели автомо­били и има следните характеристики:</span></p>

<p class=MsoNormal><span lang=BG>Код, наименование, категория (за ходовата
част, гуми и джанти, за двигателя, аксесоари и т.н.), покупна цена, продажна
цена, списък с модели автомобили, за които може да се използва (даден автомобил
се описва с марка, модел и година на производство, примерно BMW 316i, 1992),
фирма-производител.</span></p>

<p class=MsoNormal><span lang=BG>Фирмите-производители се описват с
наименование, държава, адрес, телефон и факс.</span></p>

<p class=MsoNormal><span lang=BG>Да се проектира съвкупност от класове с връзки
между тях, които моделират данните за магазина. Да се напише демонстрационна
програма, която показва коректната работа на всички класове.</span></p>

<h3><a name="_Toc218196287"><span lang=BG>Измисляне на идея за решение</span></a></h3>

<p class=MsoNormal><span lang=BG>От нас се изисква да създадем съвкупност от
класове и връзки между тях, които да описват данните за магазина. Трябва да
разберем кои съществи­телни са важни за решаването на задачата. Те са обекти от
реалния свят, на които съответстват класове.</span></p>

<p class=MsoNormal><span lang=BG>Кои са тези съществителни, които ни интересуват?
Имаме магазин, авточасти, автомобили и фирми-производители. Трябва да създадем
клас описващ магазин. Той ще се казва </span><span class=Code><span lang=BG>Shop</span></span><span
lang=BG>. Другите класове съответно са </span><span class=Code><span lang=BG>Part</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>Car</span></span><span lang=BG>
и </span><span class=Code><span lang=BG>Manufacturer</span></span><span
lang=BG>. В условието на задачата има и други съществи­телни, например код на
една част или година на производство на дадена кола. За тези съществителни няма
да създаваме отделни класове, защото можем да използваме примитивните типове в </span>J<span
lang=BG>ava. Това означава, че в класа </span><span class=Code><span lang=BG>Part
</span></span><span lang=BG>ще има примерно поле </span><span class=Code><span
lang=BG>code</span></span><span lang=BG> от тип </span><span class=Code><span
lang=BG>String</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Вече знаем кои ще са нашите класове, както и
полетата, които ги описват. Остава да си изясним връзките между обектите.</span></p>

<h4><span lang=BG>Каква структури от данни да използване, за да опишем връзката
между два класа?</span></h4>

<p class=MsoNormal><span lang=BG>За да опишем връзката между два класа можем да
използваме масив. При масива имаме достъп до елементите му по индекс, но веднъж
след като го създадем не можем да му променяме дължината. Това го прави
неудобен за нашата задача, понеже не знаем колко части ще имаме в магазина и по
всяко време може да докарат още части или някой да купи някоя част и да се
наложи да я изтрием или променим.</span></p>

<p class=MsoNormal><span lang=BG>По-удобен е </span><span class=Code><span
lang=BG>ArrayList&lt;</span></span><span class=Code>T</span><span class=Code><span
lang=BG>&gt;</span></span><span lang=BG>. Той притежава предим­ствата на масив,
а освен това е с променлива дължина и с него лесно се реализира въвеж­дане и
изтриване на елементи.</span></p>

<p class=MsoNormal><span lang=BG>Засега изглежда, че </span><span class=Code><span
lang=BG>ArrayList&lt;T&gt;</span></span><span lang=BG> е най-подходящ. За да се
убедим ще разгледаме още няколко структури от данни. Например хеш-таблица – не
е удобна в този случаи, понеже структурата &quot;части&quot; не от типа
ключ-стойност. Тя би била подходяща, ако в магазина всяка част има уникален
номер (например баркод). Тогава ще можем да ги търсим по този уникален номер.</span><span
lang=BG> </span><span lang=BG>Структури като стек и опашка са неуместни.</span></p>

<p class=MsoNormal><span lang=BG>Структурата &quot;множество&quot; и нейните
имплементации </span><span class=Code><span lang=BG>TreeSet</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>HashSet</span></span><span
lang=BG> се ползват, когато имаме уникалност по даден ключ. Може би на места,
ще е добра да ползваме тази структура, за да избегнем повторения. Трябва да
имаме предвид, че ползването на </span><span class=Code><span lang=BG>HashSet&lt;T&gt;</span></span><span
lang=BG> изисква да имаме методи </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG>, дефинирани коректно в типа </span><span class=Code><span lang=BG>T</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>В крайна сметка избираме да ползваме </span><span
class=Code><span lang=BG>ArrayList&lt;T&gt;</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>HashSet&lt;T&gt;</span></span><span lang=BG>.</span></p>

<h3><a name="_Toc218196288"><span lang=BG>Разделяне на задачата на подзадачи</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега остава да си
изясним въпроса от къде да започнем написването на задачата. Ако започнем да
пишем класа </span><span class=Code><span lang=BG>Shop</span></span><span
lang=BG>, ще се нуждаем от класа </span><span class=Code><span lang=BG>Part</span></span><span
lang=BG>. Това ни подсеща, че трябва да започнем от клас, който не зависи от
другите. Ще разделим написването на всеки клас на подзадача, като ще започнем
от независещите от другите класове:</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Клас описващ автомобил – </span><span class=Code><span
lang=BG>Car</span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Клас описващ производител на части – </span><span
class=Code><span lang=BG>Manufacturer</span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Клас описващ част за автомобили – </span><span
class=Code><span lang=BG>Part</span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Клас за магазина – </span><span class=Code>S</span><span
class=Code><span lang=BG>hop</span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Клас за тестване на останалите класове с примерни
данни – </span><span class=Code><span lang=BG>TestShop</span></span></p>

<h3><a name="_Toc218196289"><span lang=BG>Имплементиране: стъпка по стъпка</span></a></h3>

<p class=MsoNormal><span lang=BG>Започваме написването на класовете, които сме
описали в нашата идея. Ще ги създаваме в реда, по който са изброени в списъка.</span></p>

<h4><span lang=BG>Стъпка 1: класът Car</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Започваме
решаването на задачата с дефинирането на класа </span><span class=Code><span
lang=BG>Car</span></span><span lang=BG>. В дефиницията имаме три полета, които
показват производителя, модела и годината на производство на една кола и стандартния
метод </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>, който връща низ с информация за дадена кола. Дефинираме го по след­ния
начин:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Car.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Car {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Car(String brand, String model, String productionYear){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'> = brand;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'> = model;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'> = productionYear;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&lt;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;,&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New"'>&quot;,&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&gt;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Стъпка 2: класът Manufacturer</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Следва да
реализираме дефиницията на класа </span><span class=Code><span lang=BG>Manufacturer</span></span><span
lang=BG>, който описва производителя на дадена част. Той ще има пет полета –
име, държава, адрес, телефонен номер и факс. Класът ще има и два метода – </span><span
class=Code><span lang=BG>getName()</span></span><span lang=BG> и стандартния
метод </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>. Първия</span>т<span lang=BG> ще връща низ с името за даден
производител, а вторият – цялата информация за него.</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Manufacturer.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Manufacturer {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>country</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>address</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>phoneNumber</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>fax</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Manufacturer(String name,String country,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       String address, String phoneNumber, String fax) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> = name;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>country</span><span lang=BG style='font-family:"Courier New";
  color:black'> = country;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>address</span><span lang=BG style='font-family:"Courier New";
  color:black'> = address;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>phoneNumber</span><span lang=BG style='font-family:"Courier New";
  color:black'> = phoneNumber;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>fax</span><span lang=BG style='font-family:"Courier New";
  color:black'> = fax;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String getName(){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString(){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; &lt;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>+</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>country</span><span lang=BG style='font-family:"Courier New";
  color:black'>+ </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;,&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>address</span><span lang=BG style='font-family:"Courier New";
  color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;,&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>phoneNumber</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;,&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>fax</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&gt;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Стъпка 3: класът Part</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега трябва да
дефинираме класа </span><span class=Code><span lang=BG>Part</span></span><span
lang=BG>. Дефиницията му ще включва следните полета – име, код, категория, списък
с коли, с които може да се използва дадената част, начална и крайна цена и
производител. Тук вече ще използваме избраната от нас структура от данни </span><span
class=Code><span lang=BG>ArrayList&lt;T&gt;</span></span><span lang=BG>. В
случая ще бъде </span><span class=Code><span lang=BG>ArrayList&lt;Car&gt;</span></span><span
lang=BG>. Полето показващо производителя на частта ще бъде от тип </span><span
class=Code><span lang=BG>Manufacturer</span></span><span lang=BG>, защото
задача изисква да се помни допълнителна информация за производителя. Ако се
искаше да се знае само името на производителя (както случая с класа Car) нямаше
да има нужда от този клас. Щяхме да имаме поле от тип </span><span class=Code><span
lang=BG>String</span></span><span lang=BG>. За полето, което описва категорията
на частта ще използваме </span><span class=Code><span lang=BG>enum</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>PartCategory.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>enum</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> PartCategory {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>ENGINE</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>TIRES</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>EXHAUST</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>SUSPENSION</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>BRAKES</span></i></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще създадем и
метод, който ще отпечатва на конзолата полетата. Той ще се казва </span><span
class=Code><span lang=BG>printParts(PrintStream output)</span></span><span
lang=BG>. Нужен ни е метод за добавяне на кола</span><span lang=BG> </span><span
lang=BG>(обект от тип </span><span class=Code><span lang=BG>Car</span></span><span
lang=BG>) в списъка с колите (в </span><span class=Code>HashSet</span><span
class=Code><span lang=BG>&lt;Car&gt;</span></span><span lang=BG>). Той ще се
казва </span><span class=Code><span lang=BG>addSupportedCar(Car car)</span></span><span
lang=BG>. Ето го и кода на класа </span><span class=Code><span lang=BG>Part</span></span><span
lang=BG>:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Part.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.HashSet;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Part {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>code</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> PartCategory </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>category</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashSet&lt;Car&gt; </span><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>supportedCars</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>buyPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>sellPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Manufacturer </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>manufacturer</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Part(String name, </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>double</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> buyPrice, </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>double</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> sellPrice,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          Manufacturer manufacturer, String code,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          PartCategory category) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> = name;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>buyPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'> = buyPrice;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>sellPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'> = sellPrice;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>manufacturer</span><span lang=BG style='font-family:"Courier New";
  color:black'> = manufacturer;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>code</span><span lang=BG style='font-family:"Courier New";
  color:black'> = code;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>category</span><span lang=BG style='font-family:"Courier New";
  color:black'> = category;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>supportedCars</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashSet&lt;Car&gt;();   </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> аddSupportedCar(Car car) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>supportedCars</span><span lang=BG style='font-family:"Courier New";
  color:black'>.add(car);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     StringBuilder result = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Part: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;-code: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>code</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;-category: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>category</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;-buyPrice: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>buyPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;-sellPrice: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>sellPrice</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;-manufacturer: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>this</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>.</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>manufacturer</span><span
  lang=BG style='font-family:"Courier New";color:black'> +</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;---Supported cars---&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Car car:</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>supportedCars</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       result.append(car);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       result.append(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;----------------------\n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result.toString();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Понеже ползваме </span><span
class=Code><span lang=BG>HashSet&lt;Car&gt;</span></span><span lang=BG> е
необходимо да дефинираме методите </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG>. За по-лесно ползваме функцията в Eclipse за автоматично генериране на
код</span>, <span lang=BG>достъпна от контекстното меню (Source </span><span
lang=BG style='font-family:Wingdings'>&agrave;</span><span lang=BG> Generate
hashCode() и equals()…):</span></p>

<p class=MsoNormal align=center style='margin-bottom:6.0pt;text-align:center'><span
lang=BG><img border=0 width=527 height=186
src="image201.jpg"></span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Получаваме следния
автоматично генериран код:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> hashCode() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> prime = 31;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result = 1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + ((</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>brand</span><span lang=BG
  style='font-family:"Courier New";color:black'> == </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>null</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>) ? 0 :</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'>.hashCode());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + ((</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>model</span><span lang=BG
  style='font-family:"Courier New";color:black'> == </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>null</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>) ? 0 :</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'>.hashCode());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + ((</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>productionYear</span><span
  lang=BG style='font-family:"Courier New";color:black'> == </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>) ? 0 :</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'>.hashCode());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> equals(Object obj) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> == obj)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (obj == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (getClass() != obj.getClass())</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Car other = (Car) obj;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'> == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'> != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (!</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'>.equals(other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>brand</span><span lang=BG style='font-family:"Courier New";
  color:black'>))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'> == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'> != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (!</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'>.equals(other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>model</span><span lang=BG style='font-family:"Courier New";
  color:black'>))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'> == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'> != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (!</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'>.equals(other.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>productionYear</span><span lang=BG style='font-family:"Courier New";
  color:black'>))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Стъпка 4: класът Shop</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Вече имаме всички
нужни класове за създаване на класа </span><span class=Code><span lang=BG>Shop</span></span><span
lang=BG>. Той ще има две полета – име и списък от части, които се продават. Списъкът
ще бъде </span><span class=Code><span lang=BG>ArrayList&lt;Part&gt;</span></span><span
lang=BG>. Ще си добавим и два метода </span><span class=Code><span lang=BG>addPart(Part
part)</span></span><span lang=BG> и </span><span class=Code>toString()</span><span
lang=BG>. Чрез първия ще добавяме нова част, а чрез втория ще отпечатаме името
на магазина и частите в него. Ето примерна реали­зация:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Shop.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.ArrayList;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Shop {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ArrayList&lt;Part&gt; </span><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>parts</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Shop(String name){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> = name;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>parts</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ArrayList&lt;Part&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> addPart(Part part){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>parts</span><span lang=BG style='font-family:"Courier New";
  color:black'>.add(part);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@</span><span lang=BG style='font-family:"Courier New"'>Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     StringBuilder result = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     result.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Shop: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>name</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;\n\n&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(Part part : </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>parts</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       result.append(part);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       result.append(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result.toString();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Стъпка 5: класът ТestShop</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Създадохме всички
нужни класове. Остава да създадем още един, с който да демонстрираме
използването на всички останали класове. Той ще се казва </span><span
class=Code><span lang=BG>ТestShop</span></span><span lang=BG>. В </span><span
class=Code><span lang=BG>main()</span></span><span lang=BG> метода ще създадем
два производителя и няколко коли. Ще ги добавим към две части. Частите ще
добавим към обект от тип </span><span class=Code><span lang=BG>Shop</span></span><span
lang=BG>. Накрая ще отпечатаме всичко на конзолата. Ето при­мерния код:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>TestShop.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> TestShop {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String args[]) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Manufacturer bmw = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Manufacturer(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;BWM&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Germany&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Bavaria&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;665544&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;876666&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Manufacturer lada = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Manufacturer(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;Lada&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Russia&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Moscow&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;653443&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;893321&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car bmw316i = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;BMW&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;316i&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1994&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car ladaSamara = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Lada&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Samara&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1987&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car mazdaMX5 = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Mazda&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;MX5&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1999&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car mercedesC500 = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Car(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Mercedes&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;C500&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;2008&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car trabant = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Trabant&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;super&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1966&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car opelAstra = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Opel&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Astra&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1997&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Part cheapPart = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Part(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Tires 165/50/13&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, 302.36,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       345.58, lada, </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;T332&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, PartCategory.</span><i><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>TIRES</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     cheapPart.аddSupportedCar(ladaSamara);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     cheapPart.аddSupportedCar(trabant);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Part expensivePart = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Part(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;BMW Engine Oil&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       633.17, 670.0, bmw, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Oil431&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, PartCategory.</span><i><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>ENGINE</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(bmw316i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(mazdaMX5);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(mercedesC500);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(opelAstra);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Shop newShop = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Shop(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Tunning shop&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     newShop.addPart(cheapPart);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     newShop.addPart(expensivePart);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(newShop);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Това е резултатът
от изпълнението на нашата програма:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Shop: Tunning shop</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Part: Tires 165/50/13</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-code: T332</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-category: TIRES</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-buyPrice: 302.36</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-sellPrice: 345.58</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-manufacturer: Lada &lt;Russia,Moscow,653443,893321&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>---Supported cars---</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Lada,Samara,1987&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Trabant,super,1966&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>----------------------</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Part: BMW Engine Oil</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-code: Oil431</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-category: ENGINE</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-buyPrice: 633.17</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-sellPrice: 670.0</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-manufacturer: BWM &lt;Germany,Bavaria,665544,876666&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>---Supported cars---</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Opel,Astra,1997&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;BMW,316i,1994&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Mazda,MX5,1999&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Mercedes,C500,2008&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>----------------------</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218196290"><span lang=BG>Тестване на решението</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Накрая остава да
тестваме нашата задача. Всъщност ние направихме това с класа </span><span
class=Code><span lang=BG>TestShop</span></span><span lang=BG>. Това обаче не
означава, че сме изтествали напълно нашата задача. Трябва да се проверят
граничните случаи, например когато някои от списъците са празни. Да променим
малко кода в </span><span class=Code><span lang=BG>main()</span></span><span
class=Code><span lang=BG> </span></span><span lang=BG>метода,</span><span
lang=BG> </span><span lang=BG>за да пуснем задачата с празен списък: </span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>TestShop.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> TestShop {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String args[]) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Manufacturer bmw = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Manufacturer(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;BWM&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Germany&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Bavaria&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;665544&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;876666&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Manufacturer lada = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Manufacturer(</span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;Lada&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Russia&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Moscow&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;653443&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;893321&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car bmw316i = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;BMW&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;316i&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1994&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car ladaSamara = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Lada&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Samara&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1987&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car mazdaMX5 = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Mazda&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;MX5&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1999&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car mercedesC500 = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Car(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Mercedes&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;C500&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;2008&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car trabant = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Trabant&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;super&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1966&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Car opelAstra = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Car(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Opel&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Astra&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;1997&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Part cheapPart = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Part(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Tires 165/50/13&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, 302.36,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       345.58, lada, </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;T332&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, PartCategory.</span><i><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>TIRES</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Part expensivePart = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Part(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;BMW Engine Oil&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       633.17, 670.0, bmw, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Oil431&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, PartCategory.</span><i><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>ENGINE</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(bmw316i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(mazdaMX5);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(mercedesC500);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     expensivePart.аddSupportedCar(opelAstra);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Shop newShop = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Shop(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Tunning shop&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     newShop.addPart(cheapPart);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     newShop.addPart(expensivePart);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(newShop);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Резултатът от този
тест е следният:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Shop: Tunning shop</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Part: Tires 165/50/13</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-code: T332</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-category: TIRES</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-buyPrice: 302.36</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-sellPrice: 345.58</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-manufacturer: Lada &lt;Russia,Moscow,653443,893321&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>---Supported cars---</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>----------------------</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Part: BMW Engine Oil</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-code: Oil431</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-category: ENGINE</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-buyPrice: 633.17</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-sellPrice: 670.0</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>-manufacturer: BWM &lt;Germany,Bavaria,665544,876666&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>---Supported cars---</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Opel,Astra,1997&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;BMW,316i,1994&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Mazda,MX5,1999&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&lt;Mercedes,C500,2008&gt;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>----------------------</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>От резултата се
вижда, че списъкът от коли на евтината част е празен. Това е и правилният
изход. Следователно нашата задача изпълнява коректно граничния случай с празен
списък.</span></p>

<h2><a name="_Toc218196291"><span lang=BG>Упражнения</span></a></h2>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:14.2pt;text-indent:-14.2pt'><span lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=BG>Даден входен файл</span><span class=Code><span
lang=BG> mails.txt</span></span><span lang=BG>, който съдържа имена на
потребители и  техните </span>email<span lang=BG> адреси. Всеки ред от файла изглежда
така:</span></p>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=512 valign=top style='width:384.3pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left'><span
  lang=BG style='font-family:"Courier New"'>&lt;first name&gt; &lt;last
  name&gt; &lt;username&gt;@&lt;host&gt;.&lt;domain&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:.2in'><span lang=BG>Има изискване за имейл адресите – </span><span
class=Code><span lang=BG>&lt;username&gt;</span></span><span lang=BG> може да е
последова­телност от латински букви (</span><span class=Code><span lang=BG>a</span></span><span
lang=BG>-</span><span class=Code><span lang=BG>z</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>A</span></span><span lang=BG>-</span><span class=Code><span
lang=BG>Z</span></span><span lang=BG>) и долна черна (</span><span class=Code><span
lang=BG>_</span></span><span lang=BG>), </span><span class=Code><span lang=BG>&lt;
host&gt;</span></span><span lang=BG> е последователност от малки латински букви
(</span><span class=Code><span lang=BG>a</span></span><span lang=BG>-</span><span
class=Code><span lang=BG>z</span></span><span lang=BG>), а </span><span
class=Code><span lang=BG>&lt;domain&gt;</span></span><span lang=BG> има огра­ничение
от 2 до 4 малки латински букви (</span><span class=Code><span lang=BG>a</span></span><span
lang=BG>-</span><span class=Code><span lang=BG>z</span></span><span lang=BG>). Да
се напише програма, която намира валидните </span>email <span lang=BG>адреси и
ги записва заедно с имената на потребителите в изходен файл </span><span
class=Code><span lang=BG>validMails.txt</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:14.2pt;text-indent:-14.2pt'><span lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=BG>Даден е лабиринт, който се състои от N x N
квадратчета, всяко от които може да е проходимо (0) или не (x):</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;background:
  #B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>&nbsp;</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#E6E6E6;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>*</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=24 style='width:17.95pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>x</span></b></p>
  </td>
  <td width=24 style='width:17.95pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>0</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-left:.2in'><span lang=BG>В едно от
квадратчетата се намира отново нашият герой Минчо (*). Две квадратчета са
съседни, ако имат обща стена. Минчо може на една стъпка да преминава от едно
проходимо квадратче в съседно на него проходимо квадратче. Напишете програма,
която по даден лабиринт отпечатва броя на възможните изходи от лабиринта.</span></p>

<p class=MsoNormal style='margin-left:.2in'><span lang=BG>Входните данни се
четат от текстов файл с име </span><span class=Code><span lang=BG>Problem.in</span></span><span
lang=BG>. На първия ред във файла стои числото N (2 &lt; N &lt; 1000). На
следващите N реда стоят по N символа, всеки от които е или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>0</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>x</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>*</span></b><span lang=BG>&quot;.
Изходът представлява едно число и трябва да се изведе във файла </span><span
class=Code><span lang=BG>Problem.out</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:14.2pt;text-indent:-14.2pt'><span lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=BG>Даден е лабиринт, който се състои от N x N
квадратчета, всяко от които може да е проходимо или не. Проходимите клетки съдържат
малка латинска буква между &quot;</span><span class=Code><span lang=BG>а</span></span><span
lang=BG>&quot; и &quot;</span><span class=Code><span lang=BG>z</span></span><span
lang=BG>&quot;, а непроходимите – '</span><span class=Code><span lang=BG>#</span></span><span
lang=BG>'. В едно от квадратчетата се намира Минчо. То е означено с &quot;</span><span
class=Code><span lang=BG>*</span></span><span lang=BG>&quot;.</span></p>

<p class=MsoNormal style='margin-left:.2in'><span lang=BG>Две квадратчета са
съседни, ако имат обща стена. Минчо може на една стъпка да преминава от едно
проходимо квадратче в съседно на него проходимо квадратче.</span><span lang=BG>
</span><span lang=BG>Когато Минчо минава през проходимите квадрат­чета,</span><span
lang=BG> </span><span lang=BG>той си записва буквите от всяко квадратче. На
всеки изход получава дума. Напишете програма, която по даден лабиринт отпе­чатва
думите, които се образуват при всички възможни изходи от лабиринта.</span></p>

<div align=center>

<table class=WarningMessage border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;background:
  white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>a</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>k</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>m</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-left:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>z</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>a</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>d</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>a</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>a</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#E6E6E6;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>*</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>m</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>d</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>r</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>i</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>f</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>i</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>d</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=23 style='width:17.0pt;border:solid windowtext 1.0pt;border-top:
  none;background:#B3B3B3;padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>d</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>d</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:#B3B3B3;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>#</span></b></p>
  </td>
  <td width=23 style='width:17.0pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:17.0pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG>t</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='margin-left:.2in'><span lang=BG>Входните данни се
четат от текстов файл с име </span><span class=Code><span lang=BG>Problem.in</span></span><span
lang=BG>. На първия ред във файла стои числото N (2 &lt; N &lt; 10). На
следващите N реда стоят по N символа, всеки от които е или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>0</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>#</span></b><span lang=BG>&quot; или &quot;</span><b><span
lang=BG style='font-family:"Courier New"'>*</span></b><span lang=BG>&quot;.
Изходът представлява едно число и трябва да се изведе във файла </span><span
class=Code><span lang=BG>Problem.out</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Фирма планира създаване на система за управление на звукозаписна
компания. Звукозаписната компания има име, адрес, собственик и из­пъл­нители. Всеки
изпълнител има име, псевдоним и създадени албуми. Албумите се описват с име, жанр,
година на издаване, брой на прода­дените копия и списък от песни. Песните, от
своя страна се описват с име и времетраене. Да се проектира съвкупност от
класове с връзки между тях, които моделират данните за звукозаписната компания.
Да се реализира тестов клас, който демонстрира работата на всички останали
класове.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Фирма планира създаване на система за управление на компания за
недвижими имоти. Компанията има име, собственик, Булстат, служи­тели и разполага
със списък от имоти за продажба. Служители се опис­ват с име, длъжност и стаж. Компанията
продава няколко вида имоти – апартаменти, къщи, незастроени площи и магазини. Всички
те се характеризират с площ, цена на квадратен метър и местоположение. За някои
от тях има допълнителна информация. За апартамента има данни за номер на етажа,
дали в блока има </span><span lang=BG style='font-size:9.0pt'>асансьор и дали е
обзаведен. За къщите се зная квадратните метри на застроена част и на незастроената
(двора), на колко етажа е и дали е обзаведена. </span><span lang=BG>Да се
проектира съвкупност от класове с връзки между тях, които моделират данните за компа­нията.
Да се реализира тестов клас, който демонстрира работата на всички останали
класове.</span></p>

<h2><a name="_Toc218196292"><span lang=BG>Решения и упътвания</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Задачата е подобна на първата от примерния изпит. Отново трябва да чете
ред по ред от входния файл и чрез подходящ регулярен израз да извличате имейл
адресите.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt;text-indent:14.2pt'><span
lang=BG>Примерен входен файл:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:20.1pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=512 valign=top style='width:383.8pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Ivan Dimitrov ivan_dimitrov@abv.bg</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Svetlana Todorova Svetlana_tv@mail.bg</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Kiril Kalchev kalchev@gmail.com</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Todor Ivanov todo*r@888.com</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Ivelina Petrova ivel&amp;7@abv.bg</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Petar Petrov pesho&lt;5.mail.bg</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt;text-indent:14.2pt'><span
lang=BG>Изходен файл:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:20.1pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=512 valign=top style='width:383.8pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Ivan Dimitrov ivan_dimitrov@abv.bg</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Svetlana Todorova Svetlana_tv@mail.bg</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New"'>Kiril Kalchev kalchev@gmail.com</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Тествайте
внимателно решението си преди да преминете към следва­щата задача.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Възможните изходи от лабиринта са всички клетки, които се намират на
границата на лабиринта и са достижими от стартовата клетка. Задачата се решава
с дребна модификация на решението на задачата за лабиринта.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Задачата е изглежда подобна на предната, но се искат всички възможни
пътища до изхода. Можете да направите рекурсивно търсене с връщане назад (</span>backtracking)
и <span lang=BG>да натрупвате в </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> бук­вите до изхода, за да образувате думите, които трябва да се
отпечатат. При големи лабиринти задачата няма решение (защото се използва пълно
изчерпване и броят пътища до някой от изходите може да е ужасно голям).</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Трябва да напишете нужните класове – </span><span class=Code><span
lang=BG>MusicCompany</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Singer</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Album</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Song</span></span><span lang=BG>. Помислете за връзките между класовете
и какви структури данни да ползвате за тях. За отпечатването припокривайте
метода </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG> от </span><span class=Code><span lang=BG>java.lang.Object</span></span><span
lang=BG>.</span><span lang=BG> </span><span lang=BG>Тествайте всички методи и
граничните случаи.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Класовете, които трябва да напишете са<b> </b></span><span class=Code><span
lang=BG>EstateCompany</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Employee</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Apartment</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>House</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>Shop</span></span><span lang=BG> и </span><span class=Code><span
lang=BG>Area</span></span><span lang=BG>. Забележете, че класовете, които ще
описват недвижимите имоти имат някои еднакви характеристики. Изне­сете тези
характеристики в базов отделен клас </span><span class=Code><span lang=BG>Estate</span></span><span
lang=BG>. Създайте метод </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>, който да изписва на конзолата данните от този клас.</span><span
lang=BG> </span><span lang=BG>Пренапишете метода за класовете, които наследяват
този клас, за да показва цялата информация за всеки клас.</span><span lang=BG> </span><span
lang=BG>Тествайте всички методи и граничните случаи.</span></p>

<p class=MsoNormal><span lang=BG>&nbsp;</span></p>

</div>

<span lang=BG style='font-size:10.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span>

</div>

</body>

</html>
