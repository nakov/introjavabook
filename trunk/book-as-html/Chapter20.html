<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>Introduction to Programming with Java Book - Chapter 20</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial CYR";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:SunSans-Regular;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:SAfon;}
@font-face
	{font-family:"Courier New CYR";
	panose-1:2 7 3 9 2 2 5 2 4 4;}
@font-face
	{font-family:StarSymbol;}
@font-face
	{font-family:OpenSymbol;
	panose-1:5 1 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sawasdee;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"MV Boli";}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Academy;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Antiqua;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Baltica;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Bookvar;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Ariel";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Courier";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Dutch Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Kursiv";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Palatia";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Domkrat;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Geneva;
	panose-1:2 2 226 0 0 0 0 0 0 0;}
@font-face
	{font-family:Hebar;
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Izhitsa;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Kaliakra;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Karina;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:KarinaBlack;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OldCyr;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Opal;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OpalB;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TimesNakov;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Timok;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TmsCyr;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Zhikaryov;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"OCR-B 10 BT";
	panose-1:2 11 6 1 2 2 2 2 2 4;}
@font-face
	{font-family:"OCR-A BT";
	panose-1:2 15 5 1 2 2 4 2 3 4;}
@font-face
	{font-family:"WP MultinationalA Courier";
	panose-1:5 0 0 9 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Courier";
	panose-1:2 6 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"WP MultinationalA Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalA Roman";
	panose-1:2 2 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"WP MultinationalB Roman";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Nina;
	panose-1:2 11 6 6 3 5 4 4 2 4;}
@font-face
	{font-family:sshlinedraw;
	panose-1:0 0 4 9 0 0 0 0 0 0;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"DejaVu Sans";
	panose-1:2 11 6 3 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Condensed";
	panose-1:2 11 6 6 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Mono";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Serif";
	panose-1:2 6 6 3 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Serif Condensed";
	panose-1:2 6 6 6 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Light";
	panose-1:2 11 2 3 3 8 4 2 2 4;}
@font-face
	{font-family:"Myriad Pro";
	panose-1:2 11 6 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web";
	panose-1:2 11 8 3 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web Pro";
	panose-1:2 11 5 3 3 4 3 2 2 4;}
@font-face
	{font-family:Myriade;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Myriad Web Pro Condensed";
	panose-1:2 11 5 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Segoe Condensed";
	panose-1:2 11 6 6 4 2 0 2 2 3;}
@font-face
	{font-family:ZWAdobeF;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@StarSymbol";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:.5in;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Verdana","sans-serif";}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Verdana","sans-serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Verdana","sans-serif";}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Verdana","sans-serif";}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:9.9pt;
	text-align:justify;
	font-size:9.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:20.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:30.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-14.15pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	background:navy;
	font-size:10.0pt;
	font-family:"Tahoma","sans-serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Cambria","serif";
	color:#243F60;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Cambria","serif";
	color:#404040;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Code
	{mso-style-name:Code;
	font-family:"Courier New";
	font-weight:bold;}
p.WarningMessage, li.WarningMessage, div.WarningMessage
	{mso-style-name:"Warning Message";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
p.WarningMessageAfter6pt, li.WarningMessageAfter6pt, div.WarningMessageAfter6pt
	{mso-style-name:"Warning Message + After\:  6 pt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page Section1
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section1
	{page:Section1;}
@page Section2
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section2
	{page:Section2;}
@page Section3
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section3
	{page:Section3;}
@page Section4
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section4
	{page:Section4;}
@page Section5
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section5
	{page:Section5;}
@page Section6
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section6
	{page:Section6;}
@page Section7
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section7
	{page:Section7;}
@page Section8
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section8
	{page:Section8;}
@page Section9
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section9
	{page:Section9;}
@page Section10
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section10
	{page:Section10;}
@page Section11
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section11
	{page:Section11;}
@page Section12
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section12
	{page:Section12;}
@page Section13
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section13
	{page:Section13;}
@page Section14
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section14
	{page:Section14;}
@page Section15
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section15
	{page:Section15;}
@page Section16
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section16
	{page:Section16;}
@page Section17
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section17
	{page:Section17;}
@page Section18
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section18
	{page:Section18;}
@page Section19
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section19
	{page:Section19;}
@page Section20
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section20
	{page:Section20;}
@page Section21
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section21
	{page:Section21;}
@page Section22
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section22
	{page:Section22;}
@page Section23
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section23
	{page:Section23;}
@page Section24
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section24
	{page:Section24;}
@page Section25
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section25
	{page:Section25;}
@page Section26
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section26
	{page:Section26;}
@page Section27
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section27
	{page:Section27;}
@page Section28
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section28
	{page:Section28;}
@page Section29
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section29
	{page:Section29;}
@page Section30
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section30
	{page:Section30;}
@page Section31
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section31
	{page:Section31;}
@page Section32
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section32
	{page:Section32;}
@page Section33
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section33
	{page:Section33;}
@page Section34
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section34
	{page:Section34;}
@page Section35
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section35
	{page:Section35;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section28>

<h1><a name="_Toc218278558"></a><a name="_Toc218196138"></a><a
name="_Глава_20._Принципи"></a><span lang=BG>Глава 20. Принципи на
обектно-ориентираното програмиране</span></h1>

<h2><a name="_Toc218196139"><span lang=BG>Автор</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Михаил Стойнов</span></p>

<h2><a name="_Toc218196140"><span lang=BG>В тази тема...</span></a></h2>

<p class=MsoNormal><span lang=BG>В настоящата тема ще се запознаем с принципите
на обектно-ориен­тира­ното програмиране: наследяване на класове и
имплементиране на интер­фейси, абстракция на данните и поведението, капсулация
на данните и скриване на информация за имплементацията на класовете, полимор­физъм
и виртуални методи. Ще обясним в детайли принципите за свърза­ност на
отговорностите и функционално обвързване (</span>cohesion<span lang=BG> и</span>
coupling).<span lang=BG> Ще опишем накратко как се извършва обектно-ориентирано
моделиране и как се създава обектен модел по описание на даден бизнес проблем.
Ще се запознаем с езика </span>UML <span lang=BG>и ролята му в процеса на
обектно-ориентира­ното моделиране. Накрая ще разгледаме съвсем накратко
концепцията &quot;шаблони за дизайн&quot; и ще дадем няколко типични примера за
шаблони, широко използвани в практиката.</span></p>

<b><span lang=BG style='font-size:14.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h2><a name="_Toc218196141"><span lang=BG>Да си припомним: класове и обекти</span></a></h2>

<p class=MsoNormal><b><span lang=BG>Класовете</span></b><span lang=BG> са
описание (модел) на реални предмети или явления, наречени същности (</span>entities<span
lang=BG>). Например класът </span>&quot;<span lang=BG>Студент</span>&quot;<span
lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Класовете имат характеристики – в програмирането
са наречени <b>свойства (properties)</b>. Например съвкупност от оценки.</span></p>

<p class=MsoNormal><span lang=BG>Класовете имат и поведение<b> – </b>в
програмирането са наречени <b>методи</b> <b>(methods)</b>. Например явяване на
изпит.</span></p>

<p class=MsoNormal><span lang=BG>Методите и свойствата могат да бъдат видими и
невидими – от това зависи дали всеки може да ги използва или са само за
вътрешна употреба в рамките на класа.</span></p>

<p class=MsoNormal><b><span lang=BG>Обектите (objects)</span></b><span lang=BG>
са екземпляри (инстанции) на класовете. Например Иван е Студент, Петър също е
студент.</span></p>

<h2><a name="_Toc218196142"><span lang=BG>Обектно-ориентирано програмиране
(ООП)</span></a></h2>

<p class=MsoNormal><span lang=BG>Обектно</span>-<span lang=BG>ориентираното
програмиране е наследник на процецурното (структурно) програмиране.
Процедурното програмиране най-общо казано описва програмите чрез група от
преизползваеми парчета код (проце­дури), които дефинират входни и изходни
параметри. Процедурните прог­рами представляват съвкупност от процедури, които
се извикват една друга.</span></p>

<p class=MsoNormal><span lang=BG>Проблемът при процедурното програмиране е, че
преизползваемостта на кода е трудно постижима и ограничена – само процедурите
могат да се преизползват, а те трудно могат да бъдат направени общи и гъвкави.
Няма лесен начин да се реализират абстрактни структури от данни, които имат
различни имплементации.</span></p>

<p class=MsoNormal><span lang=BG>Обектно-ориентираният подход залага на
парадигмата, че всяка програма работи с данни, описващи същности (предмети и
явления) от реалния живот. Например една счетоводна програма работи с фактури,
стоки, складове, наличности, продажби и т.н.</span></p>

<p class=MsoNormal><span lang=BG>Така се появяват обектите – те описват
характеристиките (свойства) и поведението (методи) на тези същности от реалния
живот.</span></p>

<p class=MsoNormal><b><span lang=BG>Основни предимства и цели на ООП</span></b><span
lang=BG> – да позволи по-бърза разра­ботка на сложен софтуер и по-лесната му
поддръжка. ООП позволява по лесен начин да се преизползва кода, като залага на
прости и общоприети правила (принципи). Нека ги разгледаме.</span></p>

<h2><a name="_Toc218196143"><span lang=BG>Основни принципи на ООП</span></a></h2>

<p class=MsoNormal><span lang=BG>За да бъде един програмен език обектно-ориентиран,
той трябва не само да позволява работа с класове и обекти, но и трябва да дава
възможност за имплементирането и използването на принципите и концепциите на
ООП: наследяване, абстракция, капсулация и полиморфизъм. Сега ще разгле­даме в
детайли всеки от тези основни принципи на ООП.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>Наследяване (Inheritance)</span></b></p>

<p class=MsoNormal style='margin-left:28.4pt'><span lang=BG>Ще обясним за как
йерархиите от класове подобряват четимостта на кода и позволяват преизползване
на функцио­налност.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>Абстракция (Abstraction)</span></b></p>

<p class=MsoNormal style='margin-left:28.4pt'><span lang=BG>Ще се научим да
виждаме един обект само от гледната точка, която ни интересува, и да игнорираме
всички останали детайли.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>Капсулация (Encapsulation)</span></b></p>

<p class=MsoNormal style='margin-left:28.4pt'><span lang=BG>Ще се научим да
скриваме ненужните детайли в нашите класове и да предоставяме прост и ясен
интерфейс за работа с тях.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>Полиморфизъм (Polymorphism)</span></b></p>

<p class=MsoNormal style='margin-left:28.4pt'><span lang=BG>Ще обясним как да
работим по еднакъв начин с различни обекти, които дефинират специфична
имплементация на някакво абстрактно поведение.</span></p>

<h3><a name="_Toc218196144"><span lang=BG>Наследяване (Inheritance)</span></a></h3>

<p class=MsoNormal><b><span lang=BG>Наследяването</span></b><span lang=BG> е
основен принцип от обектно-ориентираното програми­ране. То позволява на един
клас да &quot;наследява&quot; (поведение и характе­ристики) от друг, по-общ
клас. Например лъвът е от семейство котки. Всички котки имат четири лапи,
хищници са, преследват жертвите си. Тази функцио­налност може да се напише
веднъж в клас Котка и всички хищници да я преизползват – тигър, пума, рис и
т.н.</span></p>

<h4><span lang=BG>Как се дефинира наследяване в Java?</span></h4>

<p class=MsoNormal><span lang=BG>Наследяването в Java става с ключовата дума </span><span
class=Code><span lang=BG>extends</span></span><span lang=BG>. В Java и други
модерни езици за програмиране един клас може да наследи само един друг клас <b>(single
inheritance)</b>, за разлика от C++, където се поддържа множествено наследяване
<b>(multiple inheritance)</b>. Ограничението е поро­дено от това, че при
наследяване на два класа с еднакъв метод е трудно да се реши кой от тях да се
използва (при C++ този проблем е решен много сложно). В </span>Java <span
lang=BG>могат да се наследяват множество интерфейси, за които ще говорим
по-късно.</span></p>

<p class=MsoNormal><span lang=BG>Класът, който наследяваме, се нарича <b>клас-родител</b>
или още <b>базов клас (base class, super class)</b>.</span></p>

<h4><span lang=BG>Наследяване на класове – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да разгледаме един
пример за наследяване на класове в Java. Ето как изглежда базовият (родителски)</span><span
lang=BG> </span><span lang=BG>клас:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Felidae.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae { </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Latin </span><span style='font-family:"Courier New";
  color:#006600'>word</span><span lang=BG style='font-family:"Courier New";
  color:#006600'> for </span><span style='font-family:"Courier New";color:#006600'>&quot;</span><span
  lang=BG style='font-family:"Courier New";color:#006600'>cat</span><span
  style='font-family:"Courier New";color:#006600'>&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>male</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>male</span><span lang=BG style='font-family:"Courier New";
  color:black'> = male;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> isMale() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>male</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> setMale(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>male</span><span lang=BG style='font-family:"Courier New";
  color:black'> = male;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда и
класът</span>-<span lang=BG>наследник </span><span class=Code><span lang=BG>Lion</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> weight) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(male);</span><span lang=BG style='font-family:"Courier New";
  color:#006600'> // Shall be explained in the next paragraph</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'> = weight;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> getWeight() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> setWeight(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> weight) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'> = weight;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Ключовата дума super</span></h4>

<p class=MsoNormal><span lang=BG>В горния пример в конструктора на </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG> използваме ключовата
дума </span><span class=Code><span lang=BG>super</span></span><span lang=BG>.
Тя указва да бъде използван базовият клас и позволява достъп до негови методи,
конструктори и член-променливи. Със </span><span class=Code><span lang=BG>super()</span></span><span
lang=BG> можем да извикваме конструктор на базовия клас. Със </span><span
class=Code><span lang=BG>super.method()</span></span><span lang=BG> можем да
извикваме метод на базовия клас, да му подаваме параметри и да използ­ваме
резултата от него. Със </span><span class=Code><span lang=BG>super.field</span></span><span
lang=BG> можем да вземем стойността на член-променлива на базовия клас или да й
присвоим друга стойност.</span></p>

<p class=MsoNormal><span lang=BG>В Java наследените от базовия клас методи
могат да се <b>пренаписват</b> (<b>override</b>). Това означава да им се
подмени имплементацията, като ори­ги­налният сорс код от базовия клас се
игнорира, а на негово място се написва друг код. Повече за пренаписването на
методи ще обясним в секцията &quot;<a href="#_Виртуални_методи">Виртуални
методи</a>&quot;.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да извикваме
непренаписан метод от базовия клас и без </span><span class=Code><span lang=BG>super</span></span><span
lang=BG>. Употребата на ключовата дума е необходима само ако имаме пренаписан
метод или променлива със същото име в наследения клас.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span class=Code><span lang=BG>super</span></span><span
  lang=BG> може да се използва изрично, за яснота. </span><span class=Code><span
  lang=BG>super. method()</span></span><span lang=BG>  извиква метод, който
  задължително е от базовия клас. Такъв код се чете по-лесно, защото знаем къде
  да търсим въпросния метод.</span></p>
  <p class=WarningMessage style='margin-top:6.0pt'><span lang=BG>Имайте
  предвид, че ситуацията с </span><span class=Code><span lang=BG>this</span></span><span
  lang=BG> не е такава. </span><span class=Code><span lang=BG>this</span></span><span
  lang=BG> може да означава както метод от конкретния клас, така и метод от
  който и да е базов клас.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Можете да погледнете примера в секцията <a
href="#_Нива_на_достъп">нива на достъп при наследя­ване</a>. В него ясно се
вижда до кои членове (методи, конструктори и член-променливи) на базовия клас
имаме достъп.</span></p>

<h4><span lang=BG>Конструкторите при наследяване</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>При наследяване на
един клас, нашите конструктори задължително трябва да извикат конструктор на
базовия клас, за да може и той да инициализира член-променливите си. Ако не го
направим изрично, в началото на всеки наш конструктор компилаторът поставя
извикване на базовия конструктор без параметри: </span><span class=Code><span
lang=BG>super()</span></span><span lang=BG>. Ако базовият клас няма конструктор
по подразбиране (без параметри), нашите конструктори трябва да извикат изрично
някои от другите конструктори на базовия клас. Липсата на изрично извикване предизвиква
грешка при компилация.</span></p>

<h4><span lang=BG>Конструкторите и super – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Разгледайте класа </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG> от последния пример,
той няма конструктор по подразбиране. Да разгледаме следния клас-наследник на </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AfricanLion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion {    </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> weight) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>If
  we comment the next line, </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>AfricanLion</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>//</span><span style='font-family:"Courier New";color:#006600'>
  will not compile. Try it.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(male, weight);</span><span lang=BG style='font-family:"Courier New";
  color:#006600'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String.<i>format</i>(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;(AfricanLion, male: %s, weight: %s)&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.isMale(), </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.getWeight() );</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако закоментираме</span><span
lang=BG> </span><span lang=BG>или изтрием реда &quot;</span><span class=Code><span
lang=BG>super(male, weight);</span></span><span lang=BG>&quot;, класът </span><span
class=Code><span lang=BG>AfricanLion</span></span><span lang=BG> няма да се
компилира. Опитайте.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Извикването на конструктор на базов
  клас трябва винаги да е на първия ред от нашия конструктор. Иначе компи­латорът
  дава грешка. Идеята е полетата на базовия клас да бъдат инициализирани преди
  да започ­нем да инициа­лизираме полета в класа-наследник, защото може те да
  разчитат на някое поле от базовия клас.</span></p>
  </td>
 </tr>
</table>

<h4><a name="_Нива_на_достъп"></a><span lang=BG>Нива на достъп при наследяване</span></h4>

<p class=MsoNormal><span lang=BG>В главата </span>&quot;<span lang=BG><a
href="#_Глава_14._Дефиниране">Дефиниране на класове</a></span>&quot;<span
lang=BG> разгледахме нивата на достъп за свойствата и методите: </span><span
class=Code><span lang=BG>public</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>private</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>default</span></span><span lang=BG> (friendly). Освен
тях в Java има и още едно ниво на достъп – </span><span class=Code><span
lang=BG>protected</span></span><span lang=BG>. То е свързано с наследяването.</span></p>

<p class=MsoNormal><span lang=BG>Когато се наследява един базов клас:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Всички негови </span><span class=Code><span lang=BG>public</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>protected </span></span><span
lang=BG>методи и свойства са видими за класа наследник.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Всички негови </span><span class=Code><span lang=BG>private </span></span><span
lang=BG>методи и свойства не са видими за класа наследник.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Всички негови </span><span class=Code><span
lang=BG>default</span></span><span lang=BG> (friendly) методи и свойства са
видими за класа наследник само ако базовият клас и наследникът са в един и същ
пакет (package).</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример, с
който ще демонстрираме нивата на видимост при наследяване:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Felidae.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Latin for cat</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:#0000C0'> male</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Call
  another constructor with default values</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>male</span><span lang=BG style='font-family:"Courier New";
  color:black'> = male;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>//...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда и
класът </span><span class=Code><span lang=BG>Lion</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> weight) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(male); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// visible - Felidae's public constructor.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New"'>.male
  = male; <span style='color:#006600'>// invsible – male is private.</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>weight</span><span lang=BG style='font-family:"Courier New";
  color:black'> = weight;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>//...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако се опитаме да
компилираме този пример, ще получим грешка, тъй като </span>private <span
lang=BG>променливата </span><span class=Code><span lang=BG>male</span></span><span
lang=BG> </span><span lang=BG>от класа </span><span class=Code><span lang=BG>Felidae</span></span><span
lang=BG> </span><span lang=BG>не е достъпна от класа </span><span class=Code><span
lang=BG>Lion</span></span>.</p>

<h4><span lang=BG>Класът Object</span></h4>

<p class=MsoNormal><span lang=BG>Появата на обектно-ориентираното програмиране
de facto става попу­лярно с</span><span lang=BG> </span><span lang=BG>езика
C++. В него често се налага да се пишат класове, които трябва да работят с
обекти от всякакъв тип. В C++ този проблем се решава по начин, който не се
смята за много обектно-ориентиран стил (чрез използване на указатели).</span></p>

<p class=MsoNormal><span lang=BG>Архитектите на Java поемат в друга посока. Те
създават клас, който всички други класове пряко или косвено да наследяват и до
който всеки обект може да бъде преобразуван. В този клас е удобно да бъдат
сложени важни методи и тяхната имплементация по подразбиране. Този клас се
нарича </span><span class=Code><span lang=BG>Object</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>В </span>Java <span lang=BG>всеки клас, който
не наследява друг клас изрично, наследява системния клас </span><span
class=Code><span lang=BG>java.lang.Object</span></span><span lang=BG> по
подразбиране. За това се грижи компилаторът. Всеки клас, който наследява друг
клас, наследява инди­ректно </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG> от него. Така всеки клас явно или неявно наследява </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG> и има в себе си всички
негови методи и полета.</span></p>

<p class=MsoNormal><span lang=BG>Благодарение на това свойство всеки обект може
да бъде преобразуван до </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG>. Типичен пример за ползата от неявното наследяване на </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG> </span><span
lang=BG>е при колекциите, които разгледахме в <a href="#_Глава_16._Линейни">главите
за структури от данни</a>. Списъчните структури (например </span><span
class=Code><span lang=BG>ArrayList</span></span>) <span lang=BG>могат да рабо­тят
с всякакви обекти, защото ги разглеждат като инстанции на класа </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG>.</span></p>

<h4><span lang=BG>Java, стандартните библиотеки и Object</span></h4>

<p class=MsoNormal><span lang=BG>В Java има много предварително написани
класове (вече разгледахме доста от тях в главите за <a
href="#_Глава_16._Линейни">колекции</a>, <a href="#_Глава_15._Текстови">текстови
файлове</a> и <a href="#_Глава_13._Символни">символни низове</a>). Тези класове
са част от Java платформата – навсякъде, където има Java, ги има и тях. Тези
класове се наричат <b>стандартни</b> <b>клас-библиотеки – standard class
libraries</b></span>.</p>

<p class=MsoNormal><span lang=BG>Java е първата платформа, която идва с такъв
богат набор от предва­рително написани класове. Голяма част от тях работят с </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG>, за да могат да
бъдат използвани на възможно най-много места.</span></p>

<p class=MsoNormal><span lang=BG>В Java има и доста библиотеки, които могат да
се добавят допълнително и съвсем логично се наричат просто клас-библиотеки или
още външни библиотеки.</span></p>

<h4><span lang=BG>Object – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека разгледаме
класа </span><span class=Code><span lang=BG>Object</span></span><span lang=BG>
с един пример:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>ObjectExample.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ObjectExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     AfricanLion africanLion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Implicit
  casting</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Object object = africanLion;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В този пример
преобразувахме един </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG> в </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG>. Тази операция се нарича <b>upcasting</b></span><span lang=BG> </span><span
lang=BG>и е позволена, защото </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG> е непряк наслед­ник на класа </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG>.</span></p>

<h4><span lang=BG>Методът Object.toString()</span></h4>

<p class=MsoNormal><span lang=BG>Един от най-използваните методи, идващи от класа
</span><span class=Code><span lang=BG>Object,</span></span><span lang=BG> е </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>. Той връща
текстово представяне на обекта. Всеки обект има такъв метод и следователно всеки
метод има текстово представяне. Този метод се използва, когато отпечатваме
обект чрез </span><span class=Code><span lang=BG>System.out.println()</span></span>.</p>

<h4><span lang=BG>Object.toString()</span><span lang=BG> – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример, в
който извикваме </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG> метода:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>ToStringExample.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ToStringExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     AfricanLion africanLion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(africanLion.toString());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Result</span><span
  lang=BG style='font-family:"Courier New";color:#006600'>: &quot;introjavabook.AfricanLion@de6ced&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Тъй като </span><span
class=Code><span lang=BG>AfricanLion</span></span><span lang=BG> не пренаписва</span>
(override<span lang=BG>) метода </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>, в конкретния случай се извиква имплементацията от базовия клас. </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>Felidae</span></span><span lang=BG> също не
пренаписват този метод, следователно се извиква импле­ментацията</span>, <span
lang=BG>наследена от класа </span><span class=Code><span lang=BG>java.lang.Object</span></span><span
lang=BG>. В резултата, който виждаме по-горе, се съдържа пакетът на обекта,
името на класа, както и странна стойност след </span><span class=Code><span
lang=BG>@</span></span><span lang=BG> знака. Това всъщност е хеш кодът на обект
в шестнайсетична бройна система. Това не е адресът в паметта, а някаква друга
стойност. Обикновено тази стойност е различна за различните оебкти.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'>E<span lang=BG>то я и
оригиналната имплементация на метода </span><span class=Code><span lang=BG>Object.toString()</span></span><span
lang=BG>, извадена от сорс кода на стандартните библиотеки в Java:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Object.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>Public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Object {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> getClass().getName() +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;@&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + Integer.<i>toHexString</i>(hashCode());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Пренаписване на toString() – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека сега ви
покажем колко полезно може да е пренаписването на метода </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>, наследено от </span><span
class=Code><span lang=BG>java.lang.Object</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AfricanLion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion {    </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> weight) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(male, weight);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String.<i>format</i>(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;(AfricanLion, male: %s, weight: %s)&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.isMale(), </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.getWeight());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В горния код използваме
</span><span class=Code><span lang=BG>String.format(String format, Object...
args)</span></span><span lang=BG> </span><span lang=BG>метода, за да
форматираме резултата по подходящ начин. Ето как можем след това да извикваме</span><span
lang=BG> </span><span lang=BG>пренаписания метод </span><span class=Code><span
lang=BG>toString()</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>ToStringExample.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ToStringExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     AfricanLion africanLion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion(</span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>true</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>, 15);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(africanLion);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Result: &quot;[AfricanLion, male: true, weight: 15]&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Забележете, че
извикването на </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG> става скрито. Когато на метода  </span><span class=Code><span lang=BG>println()</span></span><span
lang=BG> подадем някакъв обект, този обект първо се преобразува до стринг чрез </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG> метода му и
след това се отпечатва в изходния поток.</span><span lang=BG> </span><span
lang=BG>Така при печатане на конзолата няма нужда изрично да преобразу­ваме
обектите до стринг.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr style='height:88.7pt'>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt;
  height:88.7pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt;height:88.7pt'>
  <p class=WarningMessageAfter6pt><span lang=BG>Ако ползваме средата Eclipse и
  искаме да сме сигурни, че пренаписваме метод, можем да следим за зелен триъ­гълник,
  който показва, че нашият метод пренаписва друг:</span></p>
  <p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG><img border=0
  width=444 height=76
  src="image174.jpg"></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>От Java 5 нататък има
начин да укажем изрично на компилатора, че искаме нашият метод да пренаписва
друг. За целта се използват се т. нар. <b>анотации</b>, а в конкретния случай
се използва анотацията </span><span class=Code><span lang=BG>@Override</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AfricanLion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion {    </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String.<i>format</i>(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;(AfricanLion, male: %s, weight: %s)&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.isMale(), </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.getWeight());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изричното указване
на компилатора, че искаме да пренапишем метод от базов клас, е препоръчителна
практика и намалява грешките. Ако си съз­дадем навика при пренаписване на метод
винаги да ползваме анотацията </span><span class=Code><span lang=BG>@Override</span></span><span
lang=BG>, ако случайно сбъркаме една буква от името на метода или типовете на
неговите параметри, компилаторът веднага ще ни съобщи за грешката.</span></p>

<h4><span lang=BG>Транзитивност при наследяването</span></h4>

<p class=MsoNormal><span lang=BG>В математиката транзитивност означава
прехвърляне на взаимоотноше­ния. Нека вземем операцията &quot;по-голямо&quot;.
Ако А&gt;В и В&gt;С, то можем да заключим, че А&gt;С. Това означава, че
релацията &quot;по-голямо&quot; (&gt;) е транзи­тивна, защото може еднозначно
да бъде определено дали А е по-голямо от С или обратното.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако клас </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG style='font-family:
"Courier New";color:black'> </span><span lang=BG>наследява клас </span><span
class=Code><span lang=BG>Felidae</span></span><span lang=BG>, а клас </span><span
class=Code><span lang=BG>AfricanLion</span></span><span lang=BG> наследява
клас&nbsp;</span><span class=Code><span lang=BG>Lion</span></span><span
lang=BG>, това индиректно означава, че </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG> наследява </span><span class=Code><span lang=BG>Felidae</span></span><span
lang=BG>. Следователно </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG> също има свойство </span><span class=Code><span lang=BG>male</span></span><span
lang=BG>, което е дефинирано във </span><span class=Code><span lang=BG>Felidae</span></span><span
lang=BG>. Това полезно свойство позволява определена функционал­ност да бъде
описана в най-подходящия за нея клас.</span></p>

<h4><span lang=BG>Транзитивност – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример,
който демонстрира транзитивността при наследяване:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>TransitiveInheritance.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> TransitiveInheritance {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     AfricanLion africanLion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion(</span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>true</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>, 15);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Method
  defined in</span><span lang=BG style='font-family:"Courier New";color:#006600'>
  Felidae</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     africanLion.isMale();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Method
  defined in</span><span lang=BG style='font-family:"Courier New";color:#006600'>
  Felidae</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     africanLion.setMale(</span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>true</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Заради транзитивността на наследяването можем
да сме сигурни, че всички класове имат </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG> и другите методи на </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG> без значение кой клас наследяват.</span></p>

<h4><span lang=BG>Йерархия на наследяване</span></h4>

<p class=MsoNormal><span lang=BG>Ако тръгнем да описваме всички големи котки,
рано или късно се стига до сравнително голяма група класове</span>, <span
lang=BG>които се наследяват един друг. Всички тези класове, заедно с базовите
такива, образуват йерархия от класове на големите котки. Такива йерархии могат
да се опишат най-лесно чрез клас-диаграми. Нека разгледаме какво е това &quot;клас-диаграма&quot;.</span></p>

<h4><a name="_Клас-диаграми"></a><span lang=BG>Клас-диаграми</span></h4>

<p class=MsoNormal><b><span lang=BG>Клас-диаграмата</span></b><span lang=BG> е
един от няколко вида диаграми дефинирани в UML. <b>UML (Unified Modeling
Language)</b> е нотация за визуализация на раз­лични процеси и обекти, свързани
с разработката на софтуер. Обяснена е по-подробно <a href="#_Нотацията_UML">към
края на тази глава</a>. Сега, нека ви разкажем малко за клас-диаграмите, защото
те се използват, за да описват визуално йерар­хиите от класове, наследяването и
вътрешността на самите класове.</span></p>

<p class=MsoNormal><span lang=BG>В клас-диаграмите има възприети правила класовете
да се рисуват като правоъгълници с име, атрибути (член-променливи) и операции
(методи), а връзките между тях се обозначават с различни видове стрелки.</span></p>

<p class=MsoNormal><span lang=BG>Накратко ще обясним два термина от UML, за по
ясно разбиране на при­мерите. Единият е <b>генерализация (generalization)</b>.
Генерализация е обобщаващо понятие за наследяване на клас или имплементация на
интерфейс (за <a href="#_Интерфейси">интерфейси</a> ще обясним след малко).
Другият термин се нарича <b>асоциация (association)</b>. Например &quot;Лъвът има
лапи&quot;, където </span><span class=Code><span lang=BG>Лапа</span></span><span
lang=BG> е друг клас. Генерализация и асоциация са двата най-основни начина за
преизползване на код.</span></p>

<h4><span lang=BG>Един клас от клас диаграма – пример</span></h4>

<p class=MsoNormal><span lang=BG>Ето как изглежда една примерна клас-диаграма
на един клас:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=136 height=68
src="image175.gif"></span></p>

<p class=MsoNormal><span lang=BG>Класът е представен като правоъгълник, разделен
на 3 части, разполо­жени една под друга. В най-горната част е дефинирано името
на класа. В следващата част след него са атрибутите (термин от UML) на класа (в
Java се наричат член-променливи и свойства). Най-отдолу са операциите (в UML)
или методите (в Java). Плюсът/минусът в началото указват дали
атрибутът/операцията са видими (</span><span class=Code><span lang=BG>+</span></span><span
lang=BG> означава </span><span class=Code><span lang=BG>public</span></span><span
lang=BG>) или невидими (</span><span class=Code><span lang=BG>-</span></span><span
lang=BG> означава </span><span class=Code><span lang=BG>private</span></span><span
lang=BG>). </span><span class=Code><span lang=BG>Protected</span></span><span
lang=BG> членовете се означават със символа </span><span class=Code><span
lang=BG>#</span></span><span lang=BG>.</span></p>

<h4><span lang=BG>Клас-диаграма – генерализация – пример</span></h4>

<p class=MsoNormal><span lang=BG>Ето пример за клас диаграма, показваща
генерализация:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=138 height=249
src="image176.gif"></span></p>

<p class=MsoNormal><span lang=BG>В този пример стрелките означават
генерализация или наследяване.</span></p>

<h4><span lang=BG>Асоциации</span></h4>

<p class=MsoNormal><span lang=BG>Асоциациите представляват връзки между
класовете. Те моделират взаи­моотношения. Могат да дефинират множественост (1
към 1, 1 към много, много към 1, 1 към 2, ..., и много към много).</span></p>

<p class=MsoNormal><span lang=BG>Асоциация <b>много към много (many-to-many)</b>
се означава по следния начин:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=246 height=56
src="image177.gif"></span></p>

<p class=MsoNormal><span lang=BG>Асоциация <b>много към много (many-to-many) по
атрибут</b> се означава по следния начин:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=329 height=57
src="image178.gif"></span></p>

<p class=MsoNormal><span lang=BG>В този случай има свързващи атрибути, които
показват в кои променливи се държи връзката между класовете.</span></p>

<p class=MsoNormal><span lang=BG>Асоциация <b>едно към много (one-to-many)</b>
се означава така:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=227 height=57
src="image179.gif"></span></p>

<p class=MsoNormal><span lang=BG>Асоциация <b>едно към едно (one-to-one)</b> се
означава така:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=246 height=56
src="image180.gif"></span></p>

<h4><span lang=BG>От диаграма към класове</span></h4>

<p class=MsoNormal><span lang=BG>От клас-диаграмите най-често се създават
класове. Диаграмите улесняват и ускоряват дизайна на класовете на един софтуерен
проект.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>От горната
диаграма можем директно да създадем класове.</span><span lang=BG> </span><span
lang=BG>Ето класът </span><span class=Code><span lang=BG>Country</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Country.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Country {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Country's</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>capital.</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Capital </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>capital</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Capital getCapital() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>capital</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> setCapital(Capital capital) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>capital</span><span lang=BG style='font-family:"Courier New";
  color:black'> = capital;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето и класа </span><span
class=Code><span lang=BG>Capital</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Capital.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Capital { }</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Агрегация</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Агрегацията е
специален вид асоциация. Тя моделира връзката &quot;цяло / част&quot;. <b>Агрегат</b>
наричаме родителския клас. <b>Компоненти</b> наричаме агре­гираните класове. В
единия край на агрегацията има празен ромб:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=309 height=69
src="image181.gif"></span></p>

<h4><span lang=BG>Композиция</span></h4>

<p class=MsoNormal><span lang=BG>Запълнен ромб означава композиция.
Композицията е агрегация, при която компонентите не могат да съществуват без
агрегата (родителя):</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=309 height=69
src="image182.gif"></span></p>

<h3><a name="_Toc218196145"></a><a name="_Абстракция_(Abstraction)"></a><span
lang=BG>Абстракция (Abstraction)</span></h3>

<p class=MsoNormal><span lang=BG>Следващият основен принцип от
обектно-ориентираното програмиране</span>, <span lang=BG>който ще разгледаме, е
&quot;абстракция&quot;. <b>Абстракцията</b> означава да работим с нещо, което
знаем как да използваме, но не знаем как работи вътрешно. Например имаме
телевизор. Не е нужно да знаем как работи телевизорът отвътре, за да го
ползваме. Нужно ни е само дистанционното, и с малък брой бутони (интерфейс на
дистанционното) можем да гледаме телевизия.</span></p>

<p class=MsoNormal><span lang=BG>Същото се получава и с обектите в ООП. Ако
имаме обект </span><span class=Code><span lang=BG>Лаптоп</span></span><span
lang=BG> и той се нуждае от процесор, просто използваме обекта </span><span
class=Code><span lang=BG>Процесор</span></span><span lang=BG>. Не знаем (или
по-точно не се интересуваме) как той смята вътрешно. За да го използваме, е
достатъчно да извикваме метода </span><span class=Code><span lang=BG>сметни()</span></span><span
lang=BG> с подходящи параметри.</span></p>

<p class=MsoNormal><span lang=BG>Абстракцията е нещо, което правим всеки ден.
Това е действие, при което игнорираме всички детайли, които не ни интересуват
от даден обект и разглеждаме само детайлите, които имат значение за проблема,
който решаваме. Например в хардуера съществува абстракция &quot;устройство за
съхранение на данни&quot;, което може да бъде твърд диск, USB </span>memory
stick, <span lang=BG>флопи диск или CD-ROM устройство. Всяко от тях работи
вътрешно по различен начин, но от гледна точка на операционната система и на
програмите в нея те се използват по еднакъв начин – на тях се записват файлове
и директории. В Windows имаме Windows Explorer и той умее да работи по еднакъв
начин с всички устройства, независимо дали са твърд диск или USB </span>stick.<span
lang=BG> Той работи с абстракцията &quot;устройство за съхранение на данни&quot;
</span>(<span lang=BG>storage device) и не се интересува как точно данните се
четат и пишат. За това се грижат драйверите за съответните устройства. Те се
явяват конкретни имплементации на интерфейса &quot;устройство за съхране­ние на
данни&quot;.</span></p>

<p class=MsoNormal><span lang=BG>Абстракцията е една от най-важните концепции в
програмирането и в ООП. Тя ни позволява да пишем <b>код, който работи с
абстрактни струк­тури от данни</b> (например списък, речник, множество и
други). Имайки абстрактния тип данни ние можем да работим с него през неговия
интер­фейс, без да се интересуваме от имплементацията му. Например можем да
запазим във файл всички елементи на списък, без да се интересуваме дали той е
реализиран с масив, чрез свързана имплементация или по друг начин. Този код
остава непроменен, когато работим с различни конкретни типове данни. Дори можем
да пишем нови типове данни (които се появяват на по-късен етап) и те да работят
с нашата програма, без да я променяме.</span></p>

<p class=MsoNormal><span lang=BG>Абстракцията ни позволява и нещо много важно –
<b>да дефинираме интерфейс на нашите програми</b>, т.е. да дефинираме всички
задачи, които тази програма може да извърши, както и съответните входни и
изходни данни. Така можем да направим няколко по-малки програми, всяка от които
да извършва някаква по-малка задача. Това, допълнено от факта, че можем да
работим с абстрактни данни, ни дава голяма гъвка­вост при свързването на тези
по-малки програми в една по-голяма и ни дава повече възможности за
преизползване на код. Тези малки подпро­грами се наричат компоненти. Този начин
на писане на програми намира широко приложение в практиката, защото ни
позволява не само да преизползваме обекти, а дори цели подпрограми.</span></p>

<h4><span lang=BG>Абстракция – пример за абстрактни данни</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример, в
който дефинираме конкретен тип данни &quot;африкански лъв&quot;, но след това
го използваме по абстрактен начин – чрез абстрак­цията &quot;лъв&quot;. Тази
абстракция не се интересува от детайлите на всички видове лъвове.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AbstractDataExample.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AbstractDataExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Lion lion = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Lion(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>true</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>, 150);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Felidae bigCat1 = lion;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     AfricanLion africanLion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Felidae bigCat2 = africanLion;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><a name="_Интерфейси"></a><span lang=BG>Интерфейси</span></h4>

<p class=MsoNormal><span lang=BG>В езика Java <b>интерфейсът</b> е дефиниция на
роля (на група абстрактни действия). Той дефинира какво поведение трябва да има
един обект, без да указва как точно се реализира това поведение.</span></p>

<p class=MsoNormal><span lang=BG>Един обект може да има много роли (да
имплементира много интерфейси) и ползвателите му могат да го използват от
различни гледни точки.</span></p>

<p class=MsoNormal><span lang=BG>Например един обект </span><span class=Code><span
lang=BG>Човек</span></span><span lang=BG> може да има ролите </span><span
class=Code><span lang=BG>Военен</span></span><span lang=BG> (с поведение &quot;стреляй
по противника&quot;), </span><span class=Code><span lang=BG>Съпруг</span></span><span
lang=BG> (с поведение &quot;обичай жена си&quot;), </span><span class=Code><span
lang=BG>Данъкоплатец</span></span><span lang=BG> (с поведение &quot;плати си
данъка&quot;). Всеки човек обаче импле­ментира това поведение по различен
начин: </span><span class=Code><span lang=BG>Иван</span></span><span lang=BG>
си плаща данъците навреме, </span><span class=Code><span lang=BG>Георги</span></span><span
lang=BG> – не навреме, </span><span class=Code><span lang=BG>Петър</span></span><span
lang=BG> – въобще не ги плаща.</span></p>

<p class=MsoNormal><span lang=BG>Някой може да попита защо най-базовият за
всички обекти клас </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG> не е всъщност интерфейс. Причината е, че тогава всеки клас щеше да
трябва да имплементира група методи, а това би отнемало излишно време. Оказва
се, че и не всеки клас има нужда от специфична реализация, тоест имплемен­тацията
по подразбиране върши работа в повечето случаи. От класа </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG> не е нужно да се пренапише
(повторно имплементира) никой метод, но ако се наложи, това може да се направи.
Пренаписването на методи е обяснено в детайли <a href="#_Виртуални_методи">след
малко</a>.</span></p>

<h4><span lang=BG>Интерфейси – ключови понятия</span></h4>

<p class=MsoNormal><span lang=BG>В интерфейса може да има само декларации на
методи и константи.</span></p>

<p class=MsoNormal><b><span lang=BG>Декларация на метод (method declaration)</span></b><span
lang=BG> е съвкупността от връщания тип на метода + сигнатурата на метода. Връщаният
тип е просто за яснота какво ще върне метода.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><b><span lang=BG>Сигнатура на
метод (method signature)</span></b><span lang=BG> е съвкупността от името на
метода + описание на параметрите (тип и последователност). В един
клас/интерфейс всички методи трябва да са с различни сигнатури и да не съвпадат
със сигнатури на наследени методи.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Това, което идентифицира един метод, е
  неговата сигна­тура. Връщаният тип не е част нея. Причината е, че ако два метода
  се различават само по връщания тип (напри­мер два класа, които се наследяват
  един друг), то не може еднозначно да се идентифицира кой метод трябва да се
  извика.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b><span lang=BG>Имплементация на клас/метод (class/method
implementation)</span></b><span lang=BG> е тялото със сорс код на класа/метода.
Най често е заключено между скобите </span><span class=Code><span lang=BG>{</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>}</span></span><span lang=BG>.
При методите се нарича още <b>тяло на метод</b>.</span></p>

<h4><span lang=BG>Интерфейси – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Интерфейсът в Java
се дефинира с ключовата думичка </span><span class=Code><span lang=BG>interface</span></span><span
lang=BG>. В него може да има само декларации на методи, както и статични
променливи (за константи например).</span><span lang=BG> </span><span lang=BG>Ето
един пример за интерфейс:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Reproducible.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>interface</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Reproducible {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Mammal[] reproduce(Mammal mate);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда и
класа </span><span class=Code><span lang=BG>Lion</span></span><span lang=BG>,
който имплементира интерфейса </span><span class=Code><span lang=BG>Reproducible</span></span>:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>implements</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Reproducible {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Mammal[] reproduce(Mammal anotherLion) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     return new Mammal[]{new Lion(), new Lion()};</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В интерфейса методите само се декларират,
имплементацията е в класа, който имплементира интерфейса - </span><span
class=Code><span lang=BG>Lion</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Класът, който имплементира даден интерфейс,
трябва да имплементира всеки метод от него. Изключение – ако класът е
абстрактен, тогава да имплементира нула, няколко или всички методи. Всички
останали методи имплементират в някой от класовете наследници.</span></p>

<h4><span lang=BG>Абстракция и интерфейси</span></h4>

<p class=MsoNormal><span lang=BG>Най-добрият начин да се реализира абстракция е
да се работи с интер­фейси. Един компонент работи с интерфейси, които друг
имплементира. Така подмяната на втория компонент няма да се отрази на първия,
стига новият компонент да имплементира старите интерфейси. Интерфейсът се
нарича още <b>договор</b> (<b>contract</b>). Всеки компонент, имплементирайки
един интерфейс, спазва определен договор. Така два компонента, стига да спазват
правилата на договора, могат да общуват един с друг, без да знаят как работи другата
страна.</span></p>

<p class=MsoNormal><span lang=BG>Примери за важни интерфейси от Java
collections framework са </span><span class=Code><span lang=BG>java. util.List</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>java.util.Collection</span></span><span
lang=BG>. Всички стандартни колекции импле­мен­тират тези интерфейси и
различните компоненти си прехвърлят различни имплементации (масиви или свързани
списъци, хеш-таблици, червено-черни дървета и др.) винаги под общ интерфейс.
Ето как изглежда част от йерархията на колекциите в Java:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=510 height=504
src="image183.jpg"></span></p>

<p class=MsoNormal><span lang=BG>Колекциите са един отличен пример на
обектно-ориентирана библиотека с класове и интерфейси, при която се използват
много активно всички основни принципи на ООП: абстракция, наследяване,
капсулация и поли­морфизъм. От картинката се вижда, че абстрактните типове
данни са дефинирани като интерфейси (</span><span class=Code><span lang=BG>Collection</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>List</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>Set</span></span><span lang=BG>,
</span><span class=Code><span lang=BG>Map</span></span><span lang=BG> и други),
а конкретните им имплементации са техни преки или непреки наследници в
йерархията (</span><span class=Code><span lang=BG>ArrayList</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>LinkedList</span></span>, <span
class=Code><span lang=BG>HashSet</span></span><span lang=BG>,</span><span
lang=BG> </span><span class=Code><span lang=BG>HashMap</span></span>, <span
class=Code><span lang=BG>TreeMap</span></span><span lang=BG> </span><span
lang=BG>и други</span>).</p>

<h4><span lang=BG>Кога да използваме абстракция и интерфейси?</span></h4>

<p class=MsoNormal><span lang=BG>Отговорът на този въпрос е: винаги, когато искаме
да постигнем абстрак­ция на данни или действия, чиято имплементация по-късно
може да се подмени. Написаният код срещу интерфейси е много по-издръжлив срещу
промени, отколкото напи­саният срещу конкретни кла­сове. Работата през
интерфейси е често сре­щана и силно препоръчвана практика – едно от основните
правила за писане на качествен код.</span></p>

<h4><span lang=BG>Кога да пишем интерфейси?</span></h4>

<p class=MsoNormal><span lang=BG>Винаги е добра идея да се използват
интерфейси, когато се предоставя функционалност на друг компонент. В интерфейса
се слага само функцио­налността (като декларация), която другите трябва да
виждат.</span></p>

<p class=MsoNormal><span lang=BG>Вътрешно в една програма/компонент
интерфейсите могат да се използват за дефиниране на роли. Така един обект може
да се използва от много класове чрез различните му роли.</span></p>

<h3><a name="_Toc218196146"><span lang=BG>Капсулация (Encapsulation)</span></a></h3>

<p class=MsoNormal><b><span lang=BG>Капсулацията</span></b><span lang=BG> е
един от основните принципи на обектно-ориентираното програмиране. Тя се нарича
още &quot;скриване на информацията&quot; (<b>infor­mation hiding</b>). Един
обект трябва да предоставя на ползвателя си само необходимите средства за
управление. Една </span><span class=Code><span lang=BG>Секретарка</span></span><span
lang=BG> ползваща един </span><span class=Code><span lang=BG>Лаптоп</span></span><span
lang=BG> знае само за екран, клавиатура и мишка, а всичко останало е скрито. Тя
няма нужда да знае за вътрешността на </span><span class=Code><span lang=BG>Лаптопа</span></span><span
lang=BG>, защото не й е нужно и може да оплеска нещо. Тогава част от свойствата
и методите остават скрити за нея.</span></p>

<p class=MsoNormal><span lang=BG>Изборът какво е скрито и какво е публично
видимо е на този, който пише класа. Когато програмираме трябва да дефинираме
като private (скрит) всеки метод или поле, които не ползваме от друг клас.</span></p>

<h4><span lang=BG>Капсулация – примери</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример за
скриване на методи, които не е нужда да са известни на потребителя, а се
ползват вътрешно само от автора на класа. Първо дефинираме абстрактен клас </span><span
class=Code><span lang=BG>Felidae</span></span><span lang=BG>, който дефинира
публичните опера­ции на котките (независимо какви точно котки имаме):</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Felidae.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae { </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Latin for cat</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> walk();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда
класът </span><span class=Code><span lang=BG>Lion</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>implements</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Reproducable {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> movePaw(Paw paw) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span style='font-family:"Courier New";color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span style='font-family:"Courier New";color:black'>  </span><span
  style='font-family:"Courier New";color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> walk() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.movePaw(frontLeft);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.movePaw(frontRight);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.movePaw(bottomLeft);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.movePaw(bottomRight);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Публичният метод </span><span class=Code><span
lang=BG>walk()</span></span><span lang=BG> извиква 4 пъти някакъв друг скрит (</span><span
class=Code><span lang=BG>private</span></span><span lang=BG>) метод. Така
интерфейсът (в този случай абстрактният клас) е кратък – само един метод.
Имплементацията обаче извиква друг метод, също част от имплементацията, но
скрит за ползвателя на класа. Така класът </span><span class=Code><span
lang=BG>Lion</span></span><span lang=BG> не разкрива публично информация за
това как работи вътрешно и това му дава възможност на по-късен етап да промени
имплементацията си без останалите класове да разберат (и да имат нужда от
промяна).</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Друг пример за
абстракция е класът </span><span class=Code><span lang=BG>ArrayList</span></span><span
lang=BG> от стандартните библио­теки на Java. Ако отворим сорс кода на този
клас, ще видим, че в него има десетки полета и методи, които са дефинирани като
</span><span class=Code><span lang=BG>private</span></span><span lang=BG> </span><span
lang=BG>(скрити) и са достъпни само вътрешно от класа:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>ArrayList.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util</span><span lang=BG style='font-family:"Courier New"'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ArrayList&lt;E&gt; </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>extends</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AbstractList&lt;E&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>implements</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> List&lt;E&gt;, RandomAccess, Cloneable, Serializable {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>long</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>serialVersionUID</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> =</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     8683452581122892189L;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>transient</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Object[] </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>elementData</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> fastRemove(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span style='font-family:"Courier New";color:black'>r</span><span
  lang=BG style='font-family:"Courier New";color:black'>angeCheck(</span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>int</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> index) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> writeObject(ObjectOutputStream s) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> readObject(ObjectInputStream s) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Както виждаме, освен познатите ни публични
методи в класа </span><span class=Code><span lang=BG>ArrayList</span></span><span
lang=BG> има и скрити неща. Това са вътрешните структури, съхраняващи елемен­тите
на структурата (</span><span class=Code><span lang=BG>elementData</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>size</span></span><span
lang=BG>) и някои тайни методи, които не би трябвало да се извикват извън
класа. Скриването на тези детайли гарантира, че никой освен самия клас </span><span
class=Code><span lang=BG>ArrayList</span></span><span lang=BG> няма да бута
директно по данните и така няма да има възможност да сбърка нещо. Ако всички
полета в </span><span class=Code><span lang=BG>ArrayList</span></span><span
lang=BG> бяха дефинирани като публични, щеше да е много трудно да накараме
потребителите да обновяват в синхрон променливите </span><span class=Code><span
lang=BG>size</span></span><span lang=BG> и </span><span class=Code><span
lang=BG>elementData</span></span><span lang=BG>. Понеже тези променливи са
скрити, класът </span><span class=Code><span lang=BG>ArrayList</span></span><span
lang=BG> се грижи вътрешно за тях и няма опасност някой да ги разбута.</span></p>

<h3><a name="_Toc218196147"><span lang=BG>Полиморфизъм (Polymorphism)</span></a></h3>

<p class=MsoNormal><span lang=BG>Следващият основен принцип от
обектно-ориентираното програмиране е &quot;полиморфизъм&quot;. <b>Полиморфизмът</b>
позволява третирането на обекти от наследен клас като обекти от негов базов
клас. Например големите котки (базов клас) хващат жертвите си (метод) по
различен начин. Лъвът (клас наследник) ги дебне, докато Гепардът (друг
клас-наследник) просто ги надбягва.</span></p>

<p class=MsoNormal><span lang=BG>Полиморфизмът дава възможността да третираме
произволна голяма котка просто като голяма котка и да кажем &quot;хвани
жертвата си&quot;, без значение каква точно е голямата котка.</span></p>

<p class=MsoNormal><span lang=BG>Полиморфизмът може много да напомня на
абстракцията, но в програми­рането се свързва най-вече с пренаписването
(override) на методи<b> </b>в нас­ледените класове с цел промяна на
оригиналното им поведение, насле­дено от базовия клас. Абстракцията се свързва
със създаването на интерфейс на компонент или функционалност (дефиниране на
роля). Пренаписва­нето на методи ще разгледаме в детайли след малко.</span></p>

<h4><span lang=BG>Абстрактни класове</span></h4>

<p class=MsoNormal><span lang=BG>Какво става, ако искаме да кажем, че класът </span><span
class=Code><span lang=BG>Felidae</span></span><span lang=BG> е непълен и само
наследниците му могат да имат инстанции? Това става с ключовата дума </span><span
class=Code><span lang=BG>abstract</span></span><span lang=BG> пред името на
класа и означава, че класът не е готов и не може да бъде инстанциран. Такъв
клас се нарича <b>абстрактен клас</b>. А как да укажем коя точно част от класа
не е пълна? Това отново става с ключовата дума </span><span class=Code><span
lang=BG>abstract</span></span><span lang=BG> пред името на метода, който трябва
да бъде имплементиран. Този метод се нарича <b>абстрактен метод</b> и не може
да притежава имплементация, а само декларация.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Всеки клас, който
има поне един абстрактен метод, трябва да бъде абстрактен. Логично, нали?
Обратното, обаче не е в сила. Възможно е да дефинирам клас като абстрактен дори
когато в него няма нито един абстрактен метод.</span></p>

<p class=MsoNormal><span lang=BG>Абстрактните класове са нещо средно между клас
и интерфейс. Те могат да дефинират обикновени методи и абстрактни методи.
Обикновените методи имат тяло (имплементация), докато абстрактните методи са
празни (без имплементация) и са оставени да бъдат реализирани от класовете-наследници.</span></p>

<h4><span lang=BG>Абстрактен клас – примери</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да разгледаме един
пример за абстрактен клас:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Felidae.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Latin for cat</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> isMale() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> setMale(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> male) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.male = male;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> catchPray(Object pray);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Забележете в
горния пример как нормалните методи </span><span class=Code><span lang=BG>isMale()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>setMale()</span></span><span
lang=BG> имат тяло, а абстрактният метод </span><span class=Code><span lang=BG>catchPray()</span></span><span
lang=BG> няма тяло.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> catchPray(Object pray) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.hide();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.ambush();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.run();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето още един
пример за абстрактно поведение, реализирано чрез абстрак­тен клас и полиморфно
извикване на абстрактен метод. Първо дефини­раме абстрактния клас </span><span
class=Code><span lang=BG>Animal</span></span>:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Animal.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Animal {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> printInformation() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;I am &quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'> + </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.getClass().getSimpleName() + </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;.&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(getTypicalSound());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>protected</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String getTypicalSound();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Дефинираме и класа
</span><span class=Code>Cat</span><span lang=BG>, който наследява абстрактния
клас </span><span class=Code><span lang=BG>Animal</span></span><span lang=BG> и
дефинира имплементация за абстрактния метод </span><span class=Code><span
lang=BG>getTypicalSound()</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Cat.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Cat </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Animal {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>protected</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String getTypicalSound() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Miaoooow!&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Animal cat = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Cat();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     cat.printInformation();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Output:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>//   I am Cat.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>//   Miaoooow!</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В примера методът </span><span class=Code><span
lang=BG>printInformation()</span></span><span lang=BG> </span><span lang=BG>от
абстрактния клас свършва своята работа като разчита на резултата от извикването
на абстрактния метод </span><span class=Code><span lang=BG>getTypicalSound()</span></span><span
lang=BG>, който се очаква да бъде имплементиран по различен начин за различните
животни (различните наследници на класа </span><span class=Code><span lang=BG>Animal</span></span><span
lang=BG>).</span><span lang=BG> </span><span lang=BG>Различните животни издават
различни звуци, но отпечатването на информация за животно е една и съща
функционалност за всички животни и затова е изнесена в базовия клас.</span></p>

<h4><span lang=BG>Чист абстрактен клас</span></h4>

<p class=MsoNormal><span lang=BG>Абстрактните класове, както и интерфейсите не
могат да се инстанцират. Ако се опитате да създадете инстанция на абстрактен
клас, ще получите грешка по време на компилация. Понякога даден клас може да
бъде деклариран като абс<b>трактен дори и да няма нито един абстрактен метод</b>,
просто, за да се забрани директното му използване, без да се създава инст<b>анция
на негов наследник.</b></span></p>

<p class=MsoNormal><b><span lang=BG>Чист абстрактен клас (pure abstract class)</span></b><span
lang=BG> е абстрактен клас, който няма нито един имплементиран метод, както и
нито една член промен­лива. Много напомня на интерфейс. Основната разлика е, че
един клас може да имплементира много интерфейси и наследява само един клас (бил
той и чист абстрактен клас).</span></p>

<p class=MsoNormal><span lang=BG>В началото при съществуването на множествено
наследяване не е имало нужда от интерфейси. За да бъде заместено, се е наложило
да се появят интерфейсите, които да носят многото роли на един обект.</span></p>

<h4><a name="_Виртуални_методи"></a><span lang=BG>Виртуални методи</span></h4>

<p class=MsoNormal><span lang=BG>Метод, който може да се пренапише в клас
наследник, се нарича <b>виртуален метод (virtual method)</b>. Всички методи в
Java са виртуални, без изрично да се дефинират като такива. Ако не искаме да
бъдат виртуални, ги маркираме с ключовата дума </span><span class=Code><span
lang=BG>final</span></span><span lang=BG>. Тогава никой клас-наследник не може
да декларира и дефинира метод със същата сигнатура.</span></p>

<p class=MsoNormal><span lang=BG>Виртуалните методи са важни за <b>пренаписването
на методи</b> <b>(method overriding)</b>, което е в сърцето на полиморфизма.</span></p>

<h4><span lang=BG>Виртуални методи – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Имаме клас,
наследяващ друг, като и двата имат общ метод. И двата метода пишат на
конзолата. Ето как изглежда класът </span><span class=Code><span lang=BG>Lion</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> catchPray(Object pray) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.out.println(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Lion.catchPray&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда и
класът </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AfricanLion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void </span></b><span lang=BG style='font-family:"Courier New";
  color:black'>catchPray(Object pray) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;AfricanLion.catchPray&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Правим три опита
за създаване на инстанции и извикване на метода</span><span lang=BG
style='font-family:"Courier New";color:black'> </span><span class=Code><span
lang=BG>catchPray</span></span><span lang=BG style='font-family:"Courier New";
color:black'>.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>VirtualMethodsExample.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> VirtualMethodsExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String... args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Lion lion = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Lion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       lion.catchPray(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Will
  print</span><span style='font-family:"Courier New";color:#006600'> <span
  lang=BG>&quot;Lion.catchPray&quot;</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       AfricanLion lion = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> AfricanLion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       lion.catchPray(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Will
  print</span><span style='font-family:"Courier New";color:#006600'> <span
  lang=BG>&quot;AfricanLion.catchPray&quot;</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Lion lion = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> AfricanLion();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       lion.catchPray(</span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Will
  print</span><span style='font-family:"Courier New";color:#006600'> <span
  lang=BG>&quot;AfricanLion.catchPray&quot;, </span></span><span
  style='font-family:"Courier New";color:#006600'>because</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>the
  variable</span><span lang=BG style='font-family:"Courier New";color:#006600'>
  lion </span><span style='font-family:"Courier New";color:#006600'>has value
  of type </span><span lang=BG style='font-family:"Courier New";color:#006600'>AfricanLion</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В последния опит ясно се вижда как всъщност се
извиква пренаписаният метод, а не базовият. Това се случва, защото се проверява
кой всъщност е истинският клас, стоящ зад променливата, и се проверява дали той
има имплементиран (пренаписан) този метод.</span></p>

<p class=MsoNormal><span lang=BG>Пренаписването на методи се нарича още: <b>припокриване
(подмяна) на виртуален метод</b>.</span></p>

<p class=MsoNormal><span lang=BG>Както виртуалните, така и абстрактните методи
могат да бъдат припокри­вани. Абстрактните методи всъщност представляват
виртуални методи без конкретна имплементация. Всички методи, които са
дефинирани в даден интерфейс са абстрактни и следователно виртуални, макар и
това да не е дефинирано изрично.</span></p>

<h4><span lang=BG>Виртуални методи и скриване на методи</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В горния пример
имплементацията на базовия клас остана скрита и неиз­ползвана. Ето как можем да
ползваме и нея като част от новата имплемен­тация (в случай че не искаме да
подменим, а само да допълним старата имплементация):</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Lion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Felidae {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> catchPray(Object pray) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.out.println(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Lion.catchPray&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда и
класът </span><span class=Code><span lang=BG>AfricanLion</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>AfricanLion.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> AfricanLion </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Lion {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> catchPray(Object pray) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;AfricanLion.catchPray&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;calling super.catchPray(pray)&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.catchPray(pray);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В този пример при
извикването на </span><span class=Code><span lang=BG>AfricanLion.catchPray(…)</span></span><span
lang=BG> ще се изпишат 3 реда на конзолата:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>AfricanLion.catchPray</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>calling super.catchPray(pray)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Lion.catchPray</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Кога да използваме полиморфизъм?</span></h4>

<p class=MsoNormal><span lang=BG>Отговорът на този въпрос е прост: винаги,
когато искаме да предоставим възможност имплементацията на даден метод да бъде
подменен в клас-наследник. Добро правило е да се работи с възможно най-базовия
клас или направо с интерфейс. Така промените върху използва­ните класове се
отразяват в много по-малка степен върху класовете, които ние пишем. Колкото
по-малко знае една програма за обкръжава­щите я класове, тол­кова по-малко
промени (ако въобще има някакви) трябва да претърпи тя.</span></p>

<h2><a name="_Toc218196148"><span lang=BG>Свързаност на отговорностите и
функционално обвързване (cohesion и coupling)</span></a></h2>

<p class=MsoNormal><span lang=BG>Термините </span>cohesion и coupling<span
lang=BG> са неразривно свързани с ООП. Те допълват и дообясняват някои от принципите,
които описахме до момента. Нека се запознаем с тях.</span></p>

<h3><a name="_Toc218196149"><span lang=BG>Свързаност на отговорностите
(cohesion)</span></a></h3>

<p class=MsoNormal><span lang=BG>Понятието <b>cohesion (свързаност на
отговорностите)</b> показва до каква степен различните задачи</span><span
lang=BG> </span><span lang=BG>и</span><span lang=BG> </span><span lang=BG>отговорности
на една програма или един компонент са свързани помежду си</span>, <span
lang=BG>т.е. колко фокусиран</span>a <span lang=BG>е програмата в решаването на
една единствена задача. Разделя се на <b>силна свързаност (strong cohesion)</b>
и <b>слаба свързаност (weak cohesion)</b>.</span></p>

<h4><span lang=BG>Силна свързаност на отговорностите (strong cohesion)</span></h4>

<p class=MsoNormal><span lang=BG>Когато кохезията (cohesion) е силна, това
показва, че отговорностите и задачите на една единица код (метод, клас,
компонент, подпрограма) са свързани помежду си и се стремят да решат общ
проблем. Това е нещо, към което винаги трябва да се стремим. Str</span>o<span
lang=BG>ng cohesion е типична харак­теристика на висококачествения софтуер.</span></p>

<h4><span lang=BG>Силна свързаност за клас</span></h4>

<p class=MsoNormal><span lang=BG>Силна свързаност на отговорностите (strong
cohesion) в един клас озна­чава, че този клас описва само един субект. По-горе
споменахме, че един субект може да има много роли (Петър е военен, съпруг, данъко­платец).
Всички тези роли се описват в един и същ клас. Силната свърза­ност означава, че
класът решава една задача, един проблем, а не много едновременно. Клас, който
прави много неща едновременно е труден за разбиране и поддръжка. Представете си
клас, който реализира едно­вре­менно хеш-таблица, предоставя функции за
печатане на принтер, за пращане на e-mail и за работа с тригонометрични
функции. Какво име ще дадем на този клас? Ако се затрудняваме в отговора на
този въпрос, това означава, че нямаме силна свързаност на отговорностите
(cohesion) и трябва да разделим класа на няколко по-малки, всеки от които
решава само една задача.</span></p>

<h4><span lang=BG>Силна свързаност за клас – пример</span></h4>

<p class=MsoNormal><span lang=BG>Като пример за силна свързаност на
отговорности можем да дадем класа </span><span class=Code><span lang=BG>java.lang.Math</span></span>.
<span lang=BG>Той изпълнява една единствена задача – предоставя математически
изчисления и константи:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Sin()</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Cos()</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Asin()</span></span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Sqrt()</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Pow()</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Exp()</span></span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Math.PI</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Math.E</span></span></p>

<h4><span lang=BG>Силна свързаност за метод</span></h4>

<p class=MsoNormal><span lang=BG>Един метод е добре написан, когато изпълнява
само една задача и я изпълнява добре. Метод, който прави много неща, свързани
със съвсем различни задачи, има лоша кохезия и трябва да се раздели на няколко
по-прости метода, които решават само една задача. И тук стои въпросът какво име
ще дадем на метод, който търси прости числа, чертае 3D графика на екрана,
комуникира по мрежата и печата на принтер справки, извлечени от база данни.
Такъв метод има лоша кохезия и трябва да се раздели логически на няколко
метода.</span></p>

<h4><span lang=BG>Слаба свързаност на отговорностите (weak cohesion)</span></h4>

<p class=MsoNormal><span lang=BG>Слаба свързаност се наблюдава при методи,
които вършат по няколко задачи. Тези методи трябва да приемат няколко различни
групи пара­метри, за да извършат различните задачи. Понякога това налага несвър­зани
логически данни да се обединяват за точно такива методи. Използва­нето на слаба
кохезия (</span>weak cohesion<span lang=BG>) е вредно и трябва да се избягва!</span></p>

<h4><span lang=BG>Слаба свързаност на отговорностите – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример за
клас, който има </span>weak cohesion:</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Magic {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> PrintDocument(Document d) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> SendEmail(string recipient,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     string subject, string text) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> CalculateDistanceBetweenPoints(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> x1, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> y1, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> x2, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> y2) { ... }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Добри практики за свързаност на отговорностите</span></h4>

<p class=MsoNormal><span lang=BG>Съвсем логично силната свързаност е &quot;добрият&quot;
начин на писане на код. Понятието се свързва с по-прост и по-ясен сорс код – код,
който по-лесно се поддържа и по-лесно се преизползва (поради по-малкия на брой
задачи, които той изпълнява).</span></p>

<p class=MsoNormal><span lang=BG>Обратно, при слаба свързаност всяка промяна е
бомба със закъснител, защото може да засегне друга функционалност. Понякога
една логическа задача се разпростира върху няколко модула и така промяната й е
по-трудоемка. Преизползването на код също е трудно, защото един компо­нент
върши няколко несвързани задачи и за да се използва отново, трябва да са на
лице точно същите условия, което трудно може да се постигне.</span></p>

<h3><a name="_Toc218196150"><span lang=BG>Функционално обвързване (coupling)</span></a></h3>

<p class=MsoNormal><span lang=BG>Функционално обвързване (coupling) описва
най-вече до каква степен компонентите / класовете зависят един от друг. Дели се
на <b>функцио­нална независимост (loose coupling)</b> и <b>силна
взаимосвързаност (tight coupling)</b>. Функционалната независи­мост обикновено идва
заедно със слабата свързаност на отговорностите и обратно.</span></p>

<h4><span lang=BG>Функционална независимост (loose coupling)</span></h4>

<p class=MsoNormal><span lang=BG>Функционалната независимост (loose coupling)
се характеризира с това, че единиците код (подпрограма / клас / компонент)
общуват с други такива през ясно дефинирани интерфейси (договори) и промяната в
имплемента­цията на един компонент не се отразява на другите, с които той
общува. Когато пишете програмен код, не трябва да разчитате на вътрешни харак­теристики
на компонен­тите (специфично поведение, неописано в интер­фейсите).</span></p>

<p class=MsoNormal><span lang=BG>Договорът трябва да е максимално опростен и да
дефинира единствено нужните за работата на този компонент поведения, като
скрива всички ненужни детайли.</span></p>

<p class=MsoNormal><span lang=BG>Функционалната независимост е характеристика
на кода, към която трябва да се стремите. Тя е една от отличителните черти на
качест­вения програмен код.</span></p>

<h4>L<span lang=BG>oose coupling</span> – <span lang=BG>пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример, в
който имаме функционална независимост между класовете и методите:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Report {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> loadFromFile(String fileName) {…}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> saveToFile(String fileName) {…}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Printer {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> print(Report report) {…}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Example {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Report myReport = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Report();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     myReport.loadFromFile(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;DailyReport.xml&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Printer.<i>print</i>(myReport);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В този пример никой клас и никой метод не
зависи от останалите. Мето­дите зависят само от параметрите, които им се
подават. Ако някой метод ни потрябва в следващ проект, лесно ще можем да го
извадим и изпол­зваме отново.</span></p>

<h4><span lang=BG>Силна взаимосвързаност (tight coupling)</span></h4>

<p class=MsoNormal><span lang=BG>Силна взаимосвързаност имаме при много входни
параметри и изходни параметри и при използване на неописани (в договора)
характеристики на друг компонент (например зависимост от статични полета в друг
клас). При използване на много т. нар. контролни променливи, които оказват
какво да е поведението със същинските данни. Силната взаимосвързаност между два
или повече метода, класа или компонента означава, че те не могат да работят
независимо един от друг и че промяната в един от тях ще засегне и останалите.
Това води до труден за четене код и големи проблеми при поддръжката му.</span></p>

<h4>Tight<span lang=BG> coupling</span> – <span lang=BG>пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример, в
който имаме силна взаимосвързаност между класовете и методите:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> MathParams {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>operand</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>result</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> MathUtil {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> sqrt() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     MathParams.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>result</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = calcSqrt(MathParams.</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>operand</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> SpaceShuttle {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     MathParams.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>operand</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = 64;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     MathUtil.<i>sqrt</i>();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(MathParams.</span><i><span lang=BG style='font-family:
  "Courier New";color:#0000C0'>result</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Такъв код е труден за разбиране и за
поддръжка, а възможността за грешки при използването му е огромна. Помислете
какво се случва, ако друг метод, който извиква </span><span class=Code><span
lang=BG>sqrt()</span></span><span lang=BG> </span><span lang=BG>подава
параметрите си през същите статични променливи </span><span class=Code><span
lang=BG>operand</span></span><span lang=BG> и </span><span class=Code><span
lang=BG>result</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Ако се наложи в следващ проект да използваме
същата функционалност за извличане на корен квадратен, няма да можем просто да
си копираме метода </span><span class=Code><span lang=BG>sqrt()</span></span><span
lang=BG>, а ще трябва да копираме класовете </span><span class=Code><span
lang=BG>MathParams</span></span><span lang=BG> и</span><span lang=BG> </span><span
class=Code><span lang=BG>MathUtil</span></span><span lang=BG> заедно с всичките
им методи. Това прави кода труден за преизползване.</span></p>

<p class=MsoNormal><span lang=BG>Всъщност горният код е пример за лош код по
всички правила на процедурното и обектно-ориентираното програмиране и ако се
замислите, сигурно ще се сетите за още поне няколко неспазени препоръки, които
сме ви давали до момента.</span></p>

<h4><span lang=BG>Добри практики за функционално обвързване</span></h4>

<p class=MsoNormal><span lang=BG>Добрата практика е да не се разчита на нищо
повече от описаното в договора (интерфейса). Разбира се, добра практика е да се
програмира срещу интерфейси, а не срещу конкретни класове (за това вече споме­нахме
в секцията &quot;<a href="#_Абстракция_(Abstraction)">Абстракция</a>&quot;).</span></p>

<p class=MsoNormal><span lang=BG>Добра практика е методите да са гъвкави и да
са готови да работят с всички компоненти, които спазват интерфейса им, а не
само с определени такива. Последното би означавало, че тези методи очакват нещо
специ­фично от компонентите, с които могат да работят. Добра практика е също
всички зависимости да са ясно описани и видими. Иначе поддръжката на такъв код става
трудна (пълно е с подводни камъни).</span></p>

<p class=MsoNormal><span lang=BG>Добър пример за strong cohesion и loose
coupling е библиотеката Java collections framework (колекциите в Java).</span><span
lang=BG> </span><span lang=BG>Класовете за работа с колекции имат силна
кохезия. Всеки от тях решава една задача и позволява лесна преизползваемост.
Тези класове притежават и другата характеристика на качествения програмен код:
loose coupling. Класовете, реализиращи колекциите са необвързани един с друг.
Всеки от тях работи през строго дефиниран интерфейс и не издава детайли за
своята имплементация. Всички методи и полета, които не са от интерфейса, са
скрити, за да се намали възможността за обвързване на други класове с тях.
Методите в класовете за колекции не зависят от статични променливи и не
разчитат на никакви входни данни, освен вътрешното си състояние и подадените им
параметри. Това е добрата практика, до която рано или късно всеки програмист
достига като понатрупа опит.</span></p>

<h3><a name="_Toc218196151"><span lang=BG>Код като спагети (spaghetti code)</span></a></h3>

<p class=MsoNormal><b><span lang=BG>Спагети код</span></b><span lang=BG> е
неструктуриран код с неясна логика, труден за четене, разбиране и за
поддържане. Това е код, в който последователността е нарушена и объркана. Това
е код, който има weak cohesion и tight coupling. Този код се свързва се със
спагети, защото също като тях е оплетен и завъртян. Като дръпнеш един спагет
(т. е. един клас или метод), цялата чиния спагети може да се окаже, оплетена в
него (т. е. промяна на един метод или клас води до още десетки други промени
поради силната зависимост между тях). Спагети кодът е почти невъз­можно да се
преизползва, защото няма как да отделиш тази част от него, която върши работа.</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=138 height=173
src="image184.jpg"></span></p>

<p class=MsoNormal><span lang=BG>Спагети кодът се получава, когато сте писали
някакъв код, след това сте го допълнили, след това изискванията са се променили
и вие сте нагодили кода към тях, след това пак са се пременили и т.н. С времето
спагетите се оплитат все повече и повече и идва момент, в който всичко трябва
да се пренапише от нулата.</span></p>

<h3><a name="_Toc218196152"><span lang=BG>Cohesion и coupling в инженерните
дисциплини</span></a></h3>

<p class=MsoNormal><span lang=BG>Ако си мислите, че принципите за strong
cohesion и loose coupling се отнасят само за програмирането, дълбоко се заблуждавате.
Това са здрави инженерни принципи, които ще срещнете в строителството, в
машиностроенето, в електрониката и на още хиляди места.</span></p>

<p class=MsoNormal><span lang=BG>Да вземем за пример един твърд диск:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=180 height=156
src="image185.gif"></span></p>

<p class=MsoNormal><span lang=BG>Той решава една единствена задача, нали?
Твърдият диск решава зада­чата за съхранение на данни. Той не охлажда
компютъра, не издава звуци, няма изчислителна сила и не се ползва като
клавиатура. Той е свързан с компютъра само с 2 кабела, т.е. има прост интерфейс
за достъп и не е обвързан с другите периферни устройства. Твърдият диск работи
самостоятелно и другите устройства не се интересуват от това точно как работи.
Централния процесор му казва &quot;чети&quot; и той чете, след това му казва &quot;пиши&quot;
и той пише. Как точно го прави е скрито вътре в него. Различните модели могат
да работят по различен начин, но това си е техен проблем. Виждате, че един
твърд диск притежава strong cohesion, loose coupling, добра абстракция и добра
капсулация. Така трябва да реализирате и вашите класове – да вършат една
задача, да я вършат добре, да се обвързват минимално с другите класове (или
въобще да не се обвързват, когато е възможно), да имат ясен интерфейс и да
добра абстракция и да скриват детайлите за вътрешната си работа.</span></p>

<p class=MsoNormal><span lang=BG>Ето един друг пример: Представете си какво
щеше да стане, ако на дънната платка на компютъра бяха запоени процесорът,
твърдият диск, CD-ROM устрой­ството и клавиатурата. Това означава, че като ви
се повреди някой клавиш от клавиатурата, ще трябва да изхвърлите на боклука
целия компютър. Виждате, че при tight coupling и weak cohesion хардуерът не
може да работи добре. Същото се отнася и за софтуера.</span></p>

<h2><a name="_Toc218196153"><span lang=BG>Обектно-ориентирано моделиране (OOM)</span></a></h2>

<p class=MsoNormal><span lang=BG>Нека приемем, че имаме да решаваме определен
проблем или задача. Този проблем идва обикновено от реалния свят. Той съществува
в дадена реалност, която ще наричаме заобикаляща го среда.</span></p>

<p class=MsoNormal><b><span lang=BG>Обектно-ориентираното моделиране (ООМ)</span></b><span
lang=BG> е процес, свързан с ООП, при който се изваждат всички обекти, свързани
с проблема, който решаваме (създава се модел). Изваждат се само тези техни характерис­тики,
които са свързани с решаването на конкретния проблем. Останалите се игнорират. Така
вече си създаваме нова реалност, която е опростена версия на оригиналната (неин
модел), и то такава, че ни позволява да си решим проблема или задачата.</span></p>

<p class=MsoNormal><span lang=BG>Например, ако моделираме система за продажба
на билети, за един пътник важни характеристики биха могли да бъдат неговото
име, неговата възраст, дали ползва намаление и дали е мъж или жена (ако
продаваме спални места). Пътникът има много други характеристики, които не ни
интересуват, примерно какъв цвят са му очите, кой номер обувки носи, какви
книги харесва или каква бира харесва.</span></p>

<p class=MsoNormal><span lang=BG>При моделирането се създава опростен модел на
реалността с цел решаване на конкретната задача. При обектно-ориентираното
моделиране моделът се прави със средствата на ООП: чрез класове, атрибути на
класовете, методи в класовете, обекти, взаимоотношения между класо­вете и т.н.
Нека разгледаме този процес в детайли.</span></p>

<h3><a name="_Toc218196154"><span lang=BG>Стъпки при обектно-ориентираното
моделиране</span></a></h3>

<p class=MsoNormal><span lang=BG>Обектно-ориентираното моделиране обикновено се
извършва в следните стъпки:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Идентификация на класовете.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Идентификация на атрибутите на класовете.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Идентификация на операциите върху класовете.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Идентификация на връзките между класовете.</span></p>

<p class=MsoNormal><span lang=BG>Ще разгледаме кратък пример, с който ще ви
покажем как могат да се приложат тези стъпки.</span></p>

<h3><a name="_Toc218196155"><span lang=BG>Идентификация на класовете</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека имаме следната
извадка от заданието за дадена система:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG>На потребителя трябва
  да му е позволено да описва всеки продукт по основните му характеристики,
  включващи име и номер на продукта. Ако бар-кодът не съвпада с продукта,
  тогава трябва да бъде генерирана грешка на екрана за съобщения. Трябва да има
  дневен отчет за всички транзакции, специфицирани в секция 9.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как
идентифицираме ключовите понятия:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG>На <b><span
  style='background:silver'>потребителя</span></b> трябва да му е позволено да
  описва всеки <b><span style='background:silver'>продукт</span></b> по
  основните му <b><span style='background:silver'>характеристики</span></b>,
  включващи <b><span style='background:silver'>име</span></b> и <b><span
  style='background:silver'>номер</span></b><span style='background:silver'> <b>на</b>
  <b>продукта</b></span>. Ако <b><span style='background:silver'>бар-кодът</span></b>
  не съвпада с продукта, тогава трябва да бъде генерирана <b><span
  style='background:silver'>грешка</span></b> на <b><span style='background:
  silver'>екрана</span></b><span style='background:silver'> <b>за</b> <b>съобщения</b></span>.
  Трябва да има <b><span style='background:silver'>дневен</span></b><span
  style='background:silver'> </span><b>отчет</b> за всички <b><span
  style='background:silver'>транзакции</span></b>, специфицирани в секция 9.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Току-що идентифицирахме класовете, които ще ни
трябват. Имената на класовете са съществителните имена в текста, най-често
нарицателни в единствено число, например </span><span class=Code><span lang=BG>Студент</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>Съобщение</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>Лъв</span></span><span lang=BG>.
Избягвайте имена, които не идват от текста, примерно: </span><span class=Code><span
lang=BG>СтраненКлас</span></span><span lang=BG>, </span><span class=Code><span
lang=BG>АдресКойтоИмаСтудент</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Понякога е трудно да се прецени дали някой
предмет или явление от реалния свят трябва да бъде клас. Например адресът може
да е клас </span><span class=Code><span lang=BG>Address</span></span><span
lang=BG> или символен низ. Колкото по-добре проучим проблема, толкова по-лесно
ще решим кое трябва да е клас. Когато даден клас стане прекалено голям и
сложен, той трябва да се декомпозира на няколко по-малки класове.</span></p>

<h3><a name="_Toc218196156"><span lang=BG>Идентификация на атрибутите на
класовете</span></a></h3>

<p class=MsoNormal><span lang=BG>Класовете имат атрибути (характеристики),
например: класът </span><span class=Code><span lang=BG>Student</span></span><span
lang=BG> има име, учебно заведение и списък от курсове. Не всички характеристики
са важни за софтуерната система. Например: за класа </span><span class=Code><span
lang=BG>Student</span></span><span lang=BG> цвета на очите е несъществена
характеристика. Само съществените характеристи­ки трябва да бъдат моделирани.</span></p>

<h3><a name="_Toc218196157"><span lang=BG>Идентификация на операциите върху
класовете</span></a></h3>

<p class=MsoNormal><span lang=BG>Всеки клас трябва да има ясно дефинирани
отговорности – какви обекти или процеси от реалния свят представя, какви задачи
изпълнява. Всяко действие в програмата се извършва от един или няколко метода в
някой клас. Действията се моделират с операции (методи).</span></p>

<p class=MsoNormal><span lang=BG>За имената на методите се използват глагол +
съществително. Примери: </span><span class=Code><span lang=BG>PrintReport()</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>ConnectToDatabase()</span></span><span
lang=BG>. Не може веднага да се дефинират всички методи на даден клас.
Дефинираме първо най-важните методи – тези, които реализират основните
отговорности на класа. С времето се появяват още допълнителни методи.</span></p>

<h3><a name="_Toc218196158"><span lang=BG>Идентификация на връзките между
класовете</span></a></h3>

<p class=MsoNormal><span lang=BG>Ако един студент е от определен факултет и за
задачата, която решаваме, това е важно, тогава студент и факултет са свързани.
Тоест класът </span><span class=Code><span lang=BG>Факултет</span></span><span
lang=BG> има списък от </span><span class=Code><span lang=BG>Студенти</span></span><span
lang=BG>. Тези връзки наричаме още асоциации (спомнете си секцията &quot;<a
href="#_Клас-диаграми">клас-диаграми</a>&quot;).</span></p>

<h2><a name="_Toc218196159"></a><a name="_Нотацията_UML"></a><span lang=BG>Нотацията
UML</span></h2>

<p class=MsoNormal><span lang=BG>UML (</span>U<span lang=BG>nified </span>M<span
lang=BG>odelling </span>L<span lang=BG>anguage) бе споменат в секцията за
наследяване. Там разгледахме клас-диаграмите. UML нотацията дефинира още
няколко вида диаграми. Нека разгледаме накратко някои от тях.</span></p>

<h3><a name="_Toc218196160"><span lang=BG>Use case диаграми (случаи на
употреба)</span></a></h3>

<p class=MsoNormal><span lang=BG>Използват се при извличане на изискванията за
описание на възможните действия. <b>Актьорите (actors)</b> представят роли
(типове потребители).</span></p>

<p class=MsoNormal><b><span lang=BG>Случаите на употреба (use cases)</span></b><span
lang=BG> описват взаимодействие между актьорите и системата. Use case моделът е
група use cases –</span><span lang=BG> </span><span lang=BG>предоставя пълно
описание на функционалността на системата.</span></p>

<h4><span lang=BG>Use case диаграми – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда
една </span>sequence <span lang=BG>диаграма</span>:</p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=453 height=229 id="Object 1"
src="image186.gif"></span></p>

<p class=MsoNormal><span lang=BG>Актьорът е някой, който взаимодейства със
системата (потребител, външна система</span><span lang=BG> </span><span
lang=BG>или примерно външната среда). Актьорът има уникално име и евентуално
описание.</span></p>

<p class=MsoNormal><span lang=BG>Един use case описва една от функционалностите
на системата. Той има уникално име и е свързан с актьори. Може да има входни и
изходни условия. Най-често съдържа поток от действия (процес). Може да има и
други изисквания.</span></p>

<h3><a name="_Toc218196161"><span lang=BG>Sequence диаграми</span></a></h3>

<p class=MsoNormal><span lang=BG>Използват се при моделиране на изискванията за
описание на процеси. За по-добро описание на use case сценариите. Позволяват
описание на допълнителни участници в процесите. Използват се при дизайна за
описание на системните интерфейси.</span></p>

<h4><span lang=BG>Sequence диаграми – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда
една </span>sequence <span lang=BG>диаграма</span>:</p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=524 height=265
src="image187.gif"></span></p>

<p class=MsoNormal><b><span lang=BG>Класовете</span></b><span lang=BG> се
представят с колони. <b>Съобщенията (действията)</b> се представят чрез
стрелки. <b>Участниците</b> се представят с широки правоъ­гълници. <b>Състоянията</b>
се представят с пунктирана линии.</span></p>

<h4><span lang=BG>Съобщения – пример</span></h4>

<p class=MsoNormal><span lang=BG>Посоката на стрелката определя изпращача и
получателя на съобщението. Хоризонталните прекъснати линии изобразяват потока
на данните:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=439 height=161 id="Object 4"
src="image188.gif"></span></p>

<h3><a name="_Toc218196162"><span lang=BG>Statechart диаграми</span></a></h3>

<p class=MsoNormal><span lang=BG>Statechart диаграмите описват възможните
състояния на даден процес и възможните преходи между тях. Представляват краен
автомат:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=531 height=297 id="Object 3"
src="image189.gif"></span></p>

<h3><a name="_Toc218196163"><span lang=BG>Activity диаграми</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Представляват
специален тип statechart диаграми, при които състоянията са действия. Показват
потока на действията в системата:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=527 height=224 id="Picture 6"
src="image190.gif"></span></p>

<h2><a name="_Toc218196164"><span lang=BG>Шаблони за дизайн</span></a></h2>

<p class=MsoNormal><span lang=BG>Достатъчно време след появата на
обектно-ориентираната парадигма се оказва, че съществуват множество ситуации,
които се появяват често при писането на софтуер. Например клас, който трябва да
има само една инстанция в рамките на цялото приложение.</span></p>

<p class=MsoNormal><span lang=BG>Появяват се <b>шаблоните за дизайн (design
patterns)</b> – популярни решения на често срещани проблеми от
обектно-ориентираното моде­лиране. Част от тях са най-добре обобщени в
едноименната книга на Ерих Гама &quot;Design Patterns: Elements of Reusable
Object Oriented Software&quot; (<a
href="http://en.wikipedia.org/wiki/Special:BookSources/0201633612"><span
style='color:windowtext;text-decoration:none'>ISBN 0-201-63361-2</span></a>).</span></p>

<p class=MsoNormal><a
href="http://images.google.com/imgres?imgurl=http://billmaya.files.wordpress.com/2007/07/design-patterns-book-cover.png&amp;imgrefurl=http://billmaya.wordpress.com/2007/07/08/rethinking-design-patterns/&amp;h=392&amp;w=300&amp;sz=24&amp;hl=en&amp;start=1&amp;um=1&amp;usg=__M_EK_1i-qDdlqY4Wo3Eb7o6_Qew=&amp;tbnid=V8efeapbDnVtkM:&amp;tbnh=123&amp;tbnw=94&amp;prev=/images%3Fq%3Ddesign%2Bpatterns%26um%3D1%26hl%3Den%26safe%3Doff%26client%3Dfirefox-a%26rls%3Dorg.mozilla:en-GB:official%26sa%3DN"><img
border=0 width=87 height=113
src="image191.jpg"
align=left hspace=12></a><span lang=BG>Това е една от малкото книги на
компютърна тематика, които остават актуални 15 години след издаването си.
Шаблоните за дизайн допълват основните принципи на ООП с допълнителни добре
известни решения на добре известни проблеми. Добро място за започване на
разучаването им е статията за тях в Уикипедия:</span><span lang=BG> </span><span
lang=BG><a
href="http://en.wikipedia.org/wiki/%20Design_pattern%20(computer%20science)">http://en.wikipedia.org/wiki/
Design_pattern (computer science)</a>.</span></p>

<h3><a name="_Toc218196165"><span lang=BG>Шаблонът Singleton</span></a></h3>

<p class=MsoNormal><span lang=BG>Това е най-популярният и използван шаблон.
Позволява на определен клас да има само една инстанция и дефинира откъде да се
вземе тази инстанция. Типични примери са класове, които дефинират връзка към
единствени неща (виртуалната машина, операционна система, мениджър на
прозорците при графично приложение, файлова система), както и класовете от
следващия шаблон (factory).</span></p>

<h4><span lang=BG>Шаблонът Singleton – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето примерна
имплементация на шаблона Singleton:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>Singleton.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> introjavabook;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Singleton {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Single
  instance</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Singleton </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>instance</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Initialize
  the single instance</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>instance</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Singleton();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>The
  method for taking the single instance</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Singleton getInstance() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>instance</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// </span><span style='font-family:"Courier New";color:#006600'>Private
  constructor – protects direct instantialion</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Singleton(){}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Имаме скрит конструктор, за да ограничим
инстанциите. Имаме статична променлива, която държи единствената инстанция.</span><span
lang=BG> </span><span lang=BG>Инициализираме я еднократно в статичния
конструктор на класа. Методът за вземане на инстанцията най-често се казва </span><span
class=Code><span lang=BG>getInstance()</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Шаблонът може да претърпи много оптимизации,
например мързеливо инициализиране на единствената променлива за спестяване на
памет, но това е класическата му форма.</span></p>

<h3><a name="_Toc218196166"><span lang=BG>Шаблонът Factory Method</span></a></h3>

<p class=MsoNormal><span lang=BG>Factory method е друг много разпространен
шаблон. Той е предназначен да &quot;произвежда&quot; обекти. Инстанцирането на
определен обект не се извършва директно, а се прави от factory метода. Това
позволява на factory метода да реши коя конкретна инстанция да създаде.
Решението може да зависи от външната среда, от параметър или от някаква
системна настройка.</span></p>

<h4><span lang=BG>Шаблонът Factory Method – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще извадим един
пример директно от Java платформата:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>java.lang.Integer</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Integer </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Number</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>implements</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Comparable&lt;Integer&gt; {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Integer valueOf(String s)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> NumberFormatException {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Integer(<i>parseInt</i>(s, 10));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Методът </span><span class=Code><span lang=BG>valueOf(String)</span></span><span
lang=BG> произвежда инстанция (число) на базата на символен низ. Има и
параметър, който се подразбира - числото 10, което указва в каква бройна
система се очаква да е числото в символния низ.</span></p>

<h4><span lang=BG>Шаблонът Factory Method – втори пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Примерът отново е
от стандартната библиотека на Java:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>java.util.Calendar</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>package</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>&nbsp;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>abstract</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Calendar </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>implements</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Serializable,</span><span lang=BG style='font-family:"Courier New";
  color:#006600'>/*</span><span lang=BG style='font-family:"Courier New";
  color:black'>..</span><span lang=BG style='font-family:"Courier New";
  color:#006600'>.*/</span><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Calendar getInstance() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Calendar cal = <i>createCalendar</i>(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       TimeZone.<i>getDefaultRef</i>(),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Locale.<i>getDefault</i>());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     cal.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>sharedZone</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> cal;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Calendar createCalendar(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          TimeZone zone, Locale aLocale) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// If the specified locale is a Thai locale,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     // </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>returns a BuddhistCalendar instance.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;th&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>.equals(aLocale.getLanguage())</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          &amp;&amp; (</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;TH&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>.equals(aLocale.getCountry())))
  {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> sun.util.BuddhistCalendar(zone, aLocale);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>else</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;JP&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>.equals(aLocale.getVariant())</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          &amp;&amp; </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;JP&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>.equals(aLocale.getCountry())</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          &amp;&amp; </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;ja&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>.equals(aLocale.getLanguage()))
  {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> JapaneseImperialCalendar(zone, aLocale);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// else create the default calendar</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> GregorianCalendar(zone, aLocale); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Можем да приемем, че и двата метода са factory
методи. Методът </span><span class=Code><span lang=BG>getInstance()</span></span><span
lang=BG> съобразява създаването на инстанцията с околната среда - локала (</span><span
class=Code><span lang=BG>Locale</span></span><span lang=BG>) и часовата зона.
После използва друг factory метод, който да създаде реално инстанцията.</span></p>

<p class=MsoNormal><span lang=BG>Методът </span><span class=Code><span lang=BG>createCalendar()</span></span><span
lang=BG> връща инстанция на класа, съобразена с локала (</span><span
class=Code><span lang=BG>Locale</span></span><span lang=BG>) и часовата зона,
подадени като параметри. На базата на тях се връща Будистки, Японски или
Григориански календар.</span></p>

<h3><a name="_Toc218196167"><span lang=BG>Други шаблони</span></a></h3>

<p class=MsoNormal><span lang=BG>Съществуват десетки други добре известни
шаблони за дизайн, но няма да се спираме подробно на тях. По-любознателните
читатели могат да потърсят за &quot;</span>Design Patterns<span lang=BG>&quot;
в Интернет и да разберат за какво случат и как се използват шаблони като: </span>abstract
factory, prototype, adapter, composite, fa&ccedil;ade, command, iterator,
observer <span lang=BG>и много други. Ако продъл­жите да се занимавате с Java
по-сериозно, ще се убедите, че цялата стандартна библиотека (Java API) е
конструирана върху принципите на ООП и използва много активно класическите
шаблони за дизайн.</span></p>

<h2><a name="_Toc218196168"><span lang=BG>Упражнения</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Дефинирайте клас </span><span class=Code><span lang=BG>Human</span></span><span
lang=BG> със свойства &quot;собствено име&quot; и &quot;фамилно име&quot;.
Дефинирайте клас </span><span class=Code><span lang=BG>Student</span></span><span
lang=BG>, наследяващ </span><span class=Code><span lang=BG>Human</span></span><span
lang=BG>, който има свойство &quot;оценка&quot;. Дефинирайте клас </span><span
class=Code><span lang=BG>Worker</span></span><span lang=BG>, наследяващ </span><span
class=Code><span lang=BG>Human</span></span><span lang=BG>, със свойства &quot;надница&quot;
и &quot;изработени часове&quot;. Имплементирайте и метод &quot;изчисли надница
за 1 час&quot;, който смята колко получава работникът за 1 час работа, на
базата на надницата и изработените часове. Напишете съответните конструктори и
методи за достъп до полетата (свойства).</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Инициализирайте масив от 10 студента и ги сортирайте по оценка в
нарастващ ред. Използвайте Java интерфейса </span><span class=Code><span
lang=BG>java.lang.Comparable</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Инициализирайте масив от 10 работника и ги сортирайте по заплата в
намаляващ ред.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Дефинирайте клас </span><span class=Code><span lang=BG>Shape</span></span><span
lang=BG> със само един метод </span><span class=Code><span lang=BG>calculateSurface()</span></span><span
lang=BG> и полета </span><span class=Code><span lang=BG>width</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>height</span></span><span
lang=BG>. Дефинирайте два нови класа за триъгълник и правоъгълник, които
имплементират споменатия виртуален метод. Този метод трябва да връща площта на
правоъгълника (</span><span class=Code><span lang=BG>height*width</span></span><span
lang=BG>) и триъгълника (</span><span class=Code><span lang=BG>height*width/2</span></span><span
lang=BG>). Дефинирайте клас за кръг с подхо­дящ конструктор, при когото при
инициализация и двете полета (</span><span class=Code><span lang=BG>height</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>width</span></span><span
lang=BG>) са с еднаква стойност (радиуса), и имплементирайте виртуалния метод
за изчисляване на площта. Направете масив от различни фигури и сметнете площта
на всичките в друг масив.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Имплементирайте следните обекти: куче (</span><span class=Code><span
lang=BG>Dog</span></span><span lang=BG>), жаба (</span><span class=Code><span
lang=BG>Frog</span></span><span lang=BG>), котка (</span><span class=Code><span
lang=BG>Cat</span></span><span lang=BG>), котенце (</span><span class=Code><span
lang=BG>Kitten</span></span><span lang=BG>), котарак (</span><span class=Code><span
lang=BG>Tomcat</span></span><span lang=BG>). Всички те са животни (</span><span
class=Code><span lang=BG>Animal</span></span><span lang=BG>). Животните се
характеризират с възраст (</span><span class=Code><span lang=BG>age</span></span><span
lang=BG>), име (</span><span class=Code><span lang=BG>name</span></span><span
lang=BG>) и пол (</span><span class=Code><span lang=BG>gender</span></span><span
lang=BG>). Всяко животно издава звук (виртуален метод на </span><span
class=Code><span lang=BG>Animal</span></span><span lang=BG>).<br>
Направете масив от различни животни и за всяко изписвайте на конзолата името,
възрастта и звука, който издава.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>6.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Изтеглете си някакъв инструмент за работа с </span>UML<span lang=BG> и
негова помощ генерирайте клас диаграма на класовете от предходната задача.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>7.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Прочетете за шаблона &quot;</span>abstract factory<span lang=BG>&quot;
и го имплементирайте.</span></p>

<h2><a name="_Toc218196169"><span lang=BG>Решения и упътвания</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Задачата е тривиална. Просто следвайте условието и напишете кода.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Имплементирайте </span><span class=Code><span lang=BG>Comparable</span></span><span
lang=BG> в </span><span class=Code><span lang=BG>Student</span></span><span
lang=BG> и оттам просто сортирайте списък от </span><span class=Code><span
lang=BG>Comparable</span></span><span lang=BG>. Можете да използвате и </span><span
class=Code><span lang=BG>java.util.Arrays. sort(Object[])</span></span>.</p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Задачата е като предната.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Имплементирайте класовете както са описани в условието на задачата.
Тествайте решението си.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Изписването на информацията можете да го имплементирате във виртуалния
метод </span><span class=Code><span lang=BG>java.lang.Object.toString()</span></span><span
lang=BG>.</span><span lang=BG> За да принтирате съдържанието на целия масив,
можете да ползвате статичния метод </span><span class=Code><span lang=BG>java.util.Arrays.toString(Object[])</span></span><span
lang=BG>,</span><span lang=BG> който ще използва предефи­нирания от вас </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>6.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Можете да намерите списък с </span>UML<span lang=BG> инструменти от
следния адрес: <a href="http://en.wikipedia.org/wiki/List_of_UML_tools">http://en.wikipedia.org/wiki/List_of_UML_tools</a>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>7.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Можете да прочетете за шаблона &quot;</span>abstract factory<span
lang=BG>&quot;</span><span lang=BG> </span><span lang=BG>от </span>Wikipedia<span
lang=BG>: <a href="http://en.wikipedia.org/wiki/Abstract_factory_pattern">http://en.wikipedia.org/wiki/Abstract_factory_pattern</a>.</span></p>

<p class=MsoNormal><span lang=BG>&nbsp;</span></p>

</div>

<span lang=BG style='font-size:10.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span>

</div>

</body>

</html>
