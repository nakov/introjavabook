<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>Introduction to Programming with Java Book - Chapter 18</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial CYR";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:SunSans-Regular;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:SAfon;}
@font-face
	{font-family:"Courier New CYR";
	panose-1:2 7 3 9 2 2 5 2 4 4;}
@font-face
	{font-family:StarSymbol;}
@font-face
	{font-family:OpenSymbol;
	panose-1:5 1 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sawasdee;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"MV Boli";}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Academy;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Antiqua;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Baltica;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Bookvar;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Ariel";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Courier";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Dutch Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Kursiv";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Palatia";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Domkrat;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Geneva;
	panose-1:2 2 226 0 0 0 0 0 0 0;}
@font-face
	{font-family:Hebar;
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Izhitsa;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Kaliakra;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Karina;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:KarinaBlack;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OldCyr;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Opal;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OpalB;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TimesNakov;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Timok;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TmsCyr;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Zhikaryov;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"OCR-B 10 BT";
	panose-1:2 11 6 1 2 2 2 2 2 4;}
@font-face
	{font-family:"OCR-A BT";
	panose-1:2 15 5 1 2 2 4 2 3 4;}
@font-face
	{font-family:"WP MultinationalA Courier";
	panose-1:5 0 0 9 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Courier";
	panose-1:2 6 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"WP MultinationalA Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalA Roman";
	panose-1:2 2 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"WP MultinationalB Roman";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Nina;
	panose-1:2 11 6 6 3 5 4 4 2 4;}
@font-face
	{font-family:sshlinedraw;
	panose-1:0 0 4 9 0 0 0 0 0 0;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"DejaVu Sans";
	panose-1:2 11 6 3 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Condensed";
	panose-1:2 11 6 6 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Mono";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Serif";
	panose-1:2 6 6 3 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Serif Condensed";
	panose-1:2 6 6 6 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Light";
	panose-1:2 11 2 3 3 8 4 2 2 4;}
@font-face
	{font-family:"Myriad Pro";
	panose-1:2 11 6 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web";
	panose-1:2 11 8 3 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web Pro";
	panose-1:2 11 5 3 3 4 3 2 2 4;}
@font-face
	{font-family:Myriade;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Myriad Web Pro Condensed";
	panose-1:2 11 5 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Segoe Condensed";
	panose-1:2 11 6 6 4 2 0 2 2 3;}
@font-face
	{font-family:ZWAdobeF;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@StarSymbol";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:.5in;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Verdana","sans-serif";}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Verdana","sans-serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Verdana","sans-serif";}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Verdana","sans-serif";}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:9.9pt;
	text-align:justify;
	font-size:9.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:20.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:30.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-14.15pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	background:navy;
	font-size:10.0pt;
	font-family:"Tahoma","sans-serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Cambria","serif";
	color:#243F60;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Cambria","serif";
	color:#404040;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Code
	{mso-style-name:Code;
	font-family:"Courier New";
	font-weight:bold;}
p.WarningMessage, li.WarningMessage, div.WarningMessage
	{mso-style-name:"Warning Message";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
p.WarningMessageAfter6pt, li.WarningMessageAfter6pt, div.WarningMessageAfter6pt
	{mso-style-name:"Warning Message + After\:  6 pt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page Section1
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section1
	{page:Section1;}
@page Section2
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section2
	{page:Section2;}
@page Section3
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section3
	{page:Section3;}
@page Section4
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section4
	{page:Section4;}
@page Section5
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section5
	{page:Section5;}
@page Section6
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section6
	{page:Section6;}
@page Section7
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section7
	{page:Section7;}
@page Section8
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section8
	{page:Section8;}
@page Section9
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section9
	{page:Section9;}
@page Section10
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section10
	{page:Section10;}
@page Section11
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section11
	{page:Section11;}
@page Section12
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section12
	{page:Section12;}
@page Section13
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section13
	{page:Section13;}
@page Section14
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section14
	{page:Section14;}
@page Section15
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section15
	{page:Section15;}
@page Section16
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section16
	{page:Section16;}
@page Section17
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section17
	{page:Section17;}
@page Section18
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section18
	{page:Section18;}
@page Section19
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section19
	{page:Section19;}
@page Section20
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section20
	{page:Section20;}
@page Section21
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section21
	{page:Section21;}
@page Section22
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section22
	{page:Section22;}
@page Section23
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section23
	{page:Section23;}
@page Section24
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section24
	{page:Section24;}
@page Section25
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section25
	{page:Section25;}
@page Section26
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section26
	{page:Section26;}
@page Section27
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section27
	{page:Section27;}
@page Section28
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section28
	{page:Section28;}
@page Section29
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section29
	{page:Section29;}
@page Section30
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section30
	{page:Section30;}
@page Section31
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section31
	{page:Section31;}
@page Section32
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section32
	{page:Section32;}
@page Section33
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section33
	{page:Section33;}
@page Section34
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section34
	{page:Section34;}
@page Section35
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section35
	{page:Section35;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div style="float:right">
	<div style="border: 1px solid #CCCCCC; width:400px; height:146px; padding: 8px; margin: 0px 0px 15px 15px">
		<div style="float:left"><a href="http://www.introprogramming.info/"><img border="0" src="Intro-Java-Book-front-cover.jpg" width="102" height="145"></a></div>
		<div style="float:right; width: 270px; height:143px; border: 1px solid #EEEEEE; background: #FAFAFA; padding: 0px 10px 0px 10px; margin:0; font-family: Arial, Helvetica; font-size:10pt; text-align: justify">
			<p style="margin-top:8px; margin-bottom:12px; padding:0">Настоящият текст е част от книгата на Светлин Наков и колектив:</p>
			<a href="http://www.introprogramming.info/" style="text-decoration:none">
				<div style="text-align:center; font-size: 13pt; font-weight: bold">Въведение в програмирането с Java</div>
			</a>
			<p style="margin-top:12px; padding:0">Можете да изтеглите цялата книга безплатно от <a href="http://www.introprogramming.info">www.introprogramming.info</a>.</p>
		</div>
	</div>
</div>

<div class=Section26>

<h1 style='margin-left:0in;text-indent:0in'><a name="_Toc218278556"></a><a
name="_Toc218196088"></a><a name="_Глава_18._Речници,"></a><span lang=BG>Глава
18. Речници, хеш-таблици и множества</span></h1>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196089"><span
lang=BG>Автор</span></a></h2>

<p class=MsoNormal><span lang=BG>Владимир Цанев</span></p>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196090"><span
lang=BG>В тази тема...</span></a></h2>

<p class=MsoNormal><span lang=BG>В настоящата тема ще разгледаме някои
по-сложни структури от данни като речници и множества, и техните реализации с
хеш-таблици и балан­сирани дървета. Ще обясним в детайли какво представляват
хеширането и хеш-таблиците и защо са толкова важни в програмирането. Ще дискути­раме
понятието &quot;колизия&quot; и как се полу­чават колизиите при реализация на
хеш-таблици и ще предложим различни подходи за разрешаването им. Ще разгледаме
абстрактната структура данни &quot;множество&quot; и ще обясним как може да се
реализира чрез речник и чрез балансирано дърво. Ще дадем при­мери, които илю­стрират
приложението на описаните структури от данни в практиката.</span></p>

<b><span lang=BG style='font-size:14.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h2><a name="_Toc218196091"><span lang=BG>Структура от данни &quot;речник&quot;</span></a></h2>

<p class=MsoNormal><span lang=BG>В предните няколко теми се запознахме с някои
класически и много важни структури от данни – масиви, списъци и дървета. В тази
секция ще се запознаем с така наречените &quot;<b>речници</b>&quot; (<b>dictionaries</b>),
които са изключително полезни и широко използвани в програмирането.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Речниците са
известни още като <b>асоциативни масиви</b> или <b>карти (maps)</b>. В тази тема
ще използваме терминът &quot;речник&quot;. Тези различни имена подчертават една
и съща характеристика на тази структура от данни, а именно, че в тях всеки
елемент представлява съответствие меж­ду ключ и стойност – наредена двойка.
Аналогията идва от факта, че в един речник, например тълковния речник, за всяка
дума (<b>ключ</b>) имаме обяснение (<b>стойност</b>). Подобни са тълкованията и
на другите имена.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=481 style='width:360.9pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage style='layout-grid-mode:char'><span lang=BG>При
  речниците заедно с данните, които държим, пазим и ключ, по който ги намираме.
  Елементите на речниците са двойки (ключ, стойност), като ключът се използва
  при търсене.</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196092"><span
lang=BG>Структура от данни &quot;речник&quot; – пример</span></a></h3>

<p class=MsoNormal><span lang=BG>Ще илюстрираме какво точно представлява тази
структура от данни с един конкретен пример от ежедневието.</span></p>

<p class=MsoNormal><span lang=BG>Когато отидете на театър, опера или концерт
често преди да влезете в залата или стадиона има гардероб, в който може да
оставите дрехите си. Там давате дрехата си на служителката</span><span lang=BG>
</span><span lang=BG>от гардероба, тя я оставя на определено място и ви дава
номерче. След като свърши представлението, на излизане давате вашето номерче, и
чрез него служителката намира точно вашата дреха и ви я връща.</span></p>

<p class=MsoNormal><span lang=BG>Чрез този пример виждаме, че идеята да
разполагаме с ключ (номерче, което ви дава служителката) за данните (вашата
дреха) и да ги достъп­ваме чрез него, не е толкова нереална. В действителност
това е подход, който се среща на много места, както в програмирането така и в много
сфери на реалния живот.</span></p>

<p class=MsoNormal><span lang=BG>При структурата речник този ключ може да на е
просто номерче, а всяка­къв друг обект. В случая, когато имаме ключ (номер),
можем да реа­лизи­раме такава структура като обикновен масив. Тогава множеството
от ключове е предварително ясно – числата от </span><span class=Code><span
lang=BG>0</span></span><span lang=BG> до </span><span class=Code><span lang=BG>n</span></span><span
lang=BG>, където </span><span class=Code><span lang=BG>n</span></span><span
lang=BG> е размерът на масива. Целта на речниците е да ни освободи, до колкото
е възможно, от ограниченията за множеството на ключовете.</span></p>

<p class=MsoNormal><span lang=BG>При речниците обикновено множеството от
ключове е произволно мно­жество от стойности, примерно реални числа или
символни низове. Един­ственото задължително изискване е да можем да различим
един ключ от друг. След малко ще се спрем по-конкретно на някои допълнителни
изисквания към ключовете, необходими за различните реализации.</span></p>

<p class=MsoNormal><span lang=BG>Речниците съпоставят на даден ключ дадена
стойност. На един ключ може да се съпостави точно една стойност. Съвкупността
от всички двойки (ключ, стойност) съставя речника.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196093"><span
lang=BG>Абстрактна структура данни &quot;речник&quot; (асоциативен масив,
карта)</span></a></h3>

<p class=MsoNormal><span lang=BG>В програмирането абстрактната структура данни &quot;речник&quot;
представлява съвкупност от наре­дени двойки (ключ, стойност), заедно с
дефинирани операции за достъп до стойностите по ключ. Алтернативно тази
структура може да бъде наречена още &quot;карта&quot; (map) или &quot;асоциативен
масив&quot; (associative array).</span></p>

<p class=MsoNormal><span lang=BG>Задължителни операции, които тази структура
дефинира, са следните:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code>Object</span><span class=Code><span lang=BG> put(key, value)</span></span><span
lang=BG> – добавя в речника зададената наредена двойка. Ако вече имаме двойка с
такъв ключ стойността за него се заменя с новата</span>, <span lang=BG>а
старата стойност се връща като резултат.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Object get(key)</span></span><span lang=BG> – връща
стойността по даден ключ. Ако в речника няма двойка с такъв ключ, връща </span><span
class=Code><span lang=BG>null</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean remove(key) </span></span><span lang=BG>–
премахва стойността за този ключ от речника. Освен това връща дали е премахнат
елемент от речника.</span></p>

<p class=MsoNormal><span lang=BG>Ето и някои операции, които различните
реализации на речници често предлагат:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean isEmpty()</span></span><span lang=BG> – връща </span><span
class=Code><span lang=BG>true</span></span><span lang=BG>, ако нямаме данни в
речника и </span><span class=Code><span lang=BG>false</span></span><span
lang=BG>, ако той съдържа поне една двойка (ключ, стойност).</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean contains(key) </span></span><span lang=BG>– връща
</span><span class=Code><span lang=BG>true</span></span><span lang=BG>, ако в
речникът има двойка с  дадения ключ.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code>int size()</span><span lang=BG> –</span><span lang=BG> </span><span
lang=BG>връща броя елементи в речника.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Други операции – например извличане на всички ключове, стой­ности или
наредени двойки, в друга структура (масив, списък, множе­ство), която лесно
може да бъде обходена чрез цикъл.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Интерфейсът Map&lt;K,</span><span
lang=BG> </span><span lang=BG>V&gt;</span></h4>

<p class=MsoNormal><span lang=BG>В </span>J<span lang=BG>ava има дефиниран
стандартен интерфейс </span><span class=Code><span lang=BG>Map&lt;K, V&gt;</span></span><span
lang=BG>, който дефинира всички основни операции, които речниците трябва да
реализират. Този интерфейс съответства на абстрактната структура от данни &quot;речник&quot;
и дефинира операциите, изброени по-горе, но без да предоставя конкретна реализа­ция
за всяка от тях.</span></p>

<p class=MsoNormal><span lang=BG>В Java интерфейсите представляват спецификации
за методите на даден клас. Те дефинират празни методи, които след това могат да
бъдат импле­ментирани от конкретен клас, който обявява, че поддържа дадения
интер­фейс. Как работят интерфейсите и наследяването ще разгледаме под­робно в
главата &quot;<a href="#_Глава_20._Принципи">Принципи на обектно-ориентираното
програмиране</a>&quot;</span>.<span lang=BG> За момента е достатъчно да знаете,
че интерфейсите задават какви методи трябва да има в даден клас.</span></p>

<p class=MsoNormal><span lang=BG>В настоящата тема ще разгледаме двата
най-разпространени начи­на за реализация на речници – балансирано дърво и
хеш-таблица. Изклю­чително важно е да знаете, по-какво се отличават те един от
друг и какви са основните принципи, свързани с тях. В противен случай рискувате
да ги използвате неправилно и неефективно.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В Java има две
важни имплементации на интерфейса </span><span class=Code><span lang=BG>Map</span></span><span
lang=BG>:</span><span lang=BG> </span><span class=Code><span lang=BG>TreeMap </span></span><span
lang=BG>и </span><span class=Code><span lang=BG>HashMap</span></span><span
lang=BG>. </span><span class=Code><span lang=BG>TreeMap</span></span><span
lang=BG> </span><span lang=BG>представлява имплементация с балансирано
(червено-черно) дърво, а </span><span class=Code><span lang=BG>HashMap</span></span><span
lang=BG> </span><span lang=BG>– имплементация с хеш-таблица.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=537
 style='width:403.0pt;margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=483 style='width:362.4pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Освен </span><span class=Code><span
  lang=BG>HashMap</span></span><span lang=BG> и </span><span class=Code><span
  lang=BG>TreeMap</span></span><span lang=BG> в Java има още имплементации на
  интерфейса </span><span class=Code><span lang=BG>Map</span></span><span
  lang=BG>, които обаче не трябва да се ползват освен, ако не ги познавате
  добре. Такива са например класовете </span><span class=Code><span lang=BG>Hashtable</span></span><span
  lang=BG>, </span><span class=Code><span lang=BG>ConcurrentHashMap</span></span><span
  lang=BG> и много други. Правилото е, че когато не знаете каква имплемен­тация
  да ползвате винаги ползвайте </span><span class=Code><span lang=BG>HashMap</span></span><span
  lang=BG> или </span><span class=Code><span lang=BG>TreeMap</span></span><span
  lang=BG>.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>От тази и <a href="#_Глава_19._Структури">следващата
тема</a> ще разберете в кои случаи да ползвате </span><span class=Code><span
lang=BG>TreeMap&lt;K, V&gt;</span></span><span lang=BG> и в кои </span><span
class=Code><span lang=BG>HashMap&lt;K, V&gt;</span></span><span lang=BG>.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196094"><span
lang=BG>Реализация на речник с червено-черно дърво</span></a></h3>

<p class=MsoNormal><span lang=BG>Тъй като имплементацията на речник чрез
балансирано дърво е изключи­телно сложна, няма да я разглеждаме във вид на сорс
код. Вместо това ще разгледаме класа </span><span class=Code><span lang=BG>TreeMap&lt;K,
V&gt;</span></span><span lang=BG>, който идва наготово заедно със стан</span>­<span
lang=BG>дартните библиотеки на</span><span lang=BG> </span><span lang=BG>Java.</span></p>

<p class=MsoNormal><span lang=BG>Както беше обяснено вече в <a
href="#_Глава_17._Дървета">предната глава</a>, червено-черното дърво е
подредено двоично балансирано дърво за претърсване. Ето защо едно от важните
изисквания, които са наложени върху множеството от ключове при използването на </span><span
class=Code><span lang=BG>TreeMap&lt;K, V&gt;</span></span>,<span lang=BG> е те <b>да
имат наредба</b>. Това означава, че ако имаме два ключа, то или единият е
по-голям от другия, или те са равни.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използването на
двоично дърво ни носи едно силно предимство: ключо­вете в речника се пазят
сортирани. Благодарение на това свойство, ако данните ни трябват под</span>­<span
lang=BG>редени по ключ, няма нужда да ги сортираме допълнително. Всъщност това
свойство е единственото предимство на тази реализация пред реали­зацията с
хеш-таблица. Пазенето на ключовете сортирани идва със своята цена. Работата с
балансирани дървета е малко по-бавна от работата с хеш-таблици. По тази
причина, ако няма специални изисквания за наредба на ключовете, за предпочитане
е да се използва </span><span class=Code><span lang=BG>HashMap&lt;K, V&gt;</span></span><span
lang=BG>.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=483 style='width:362.4pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Използвайте реализация на речник чрез
  балансирано дърво само когато се нуждаете от свойството наредените двойки
  винаги да са сортирани по ключ.</span></p>
  </td>
 </tr>
</table>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Класът TreeMap&lt;</span>K,
V&gt;</h4>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>TreeMap&lt;K,
V&gt;</span></span><span lang=BG> представлява имплементация на речник чрез
червено-черно дърво. Този клас имплементира всички стандартни опера­ции,
типични за абстрактната структура данни речник и дефинирани в интерфейса </span><span
class=Code><span lang=BG>Map&lt;K, V&gt;</span></span><span lang=BG>. В
допълнение към тях</span><span class=Code><span lang=BG> TreeMap&lt;K, V&gt;</span></span><span
lang=BG> дефинира още операции, свързани с наредбата на елементите:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>извличане на най-малък и най-голям елемент – </span><span class=Code><span
lang=BG>firstEntry()</span></span>, <span class=Code><span lang=BG>lastEntry()</span></span>,
<span class=Code><span lang=BG>firstKey()</span></span>, <span class=Code><span
lang=BG>lastKey()</span></span><span lang=BG>;</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>извличане на всички елементи, по-малки или по-големи от даден ключ</span>
– <span class=Code><span lang=BG>headMap(key)</span></span>, <span class=Code><span
lang=BG>tailMap(key)</span></span><span lang=BG>;</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>извличане на всички елементи в даден диапазон (примерно със стойност на
ключа между 100 и 200)</span> – <span class=Code><span lang=BG>subMap(startKey,
endKey)</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Тези операции може да са много полезни при
решавани на задачи, свързани с бързо извличане на подмножества на дадено
множество.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Използване на класа
TreeMap – пример</span></h4>

<p class=MsoNormal><span lang=BG>Сега ще решим един практически проблем, където
използването на класа </span><span class=Code><span lang=BG>TreeMap</span></span><span
lang=BG> е уместно. Нека имаме някакъв текст. Нашата задача ще бъде да намерим
всички различни думи в текста, както и колко пъти се срещат всяка от тях в
текста. Като допълнително условие искаме да изведем намерените думи по азбучен
ред.</span></p>

<p class=MsoNormal><span lang=BG>При тази задача използването на речник е
особено подходящо. За клю­чове трябва да изберем думите от текста, а стойността
записана в речника за всеки ключ ще бъде броят срещания на съответната дума.</span></p>

<p class=MsoNormal><span lang=BG>Алгоритъмът за броене на думите се състои в
следното: четем текста дума по дума и за всяка дума проверяваме дали вече
присъства в речника. Ако отговорът е не, добавяме нов елемент в речника с ключ
думата и стойност 1 (едно срещане). Ако отговорът е да, презаписваме стойността
за текущата дума със старата й стойност + 1 (увеличаваме с единица броя
срещания на думата).</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използването на
реализация на речник чрез балансирано дърво ни дава свойството, че когато
обхождаме елементите му те ще бъдат сортирани по ключа. По този начин
реализираме допълнително наложеното условие думите да са сортирани по азбучен
ред. Следва реализация на описания алгоритъм:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span class=Code><span lang=BG>TreeMap</span></span><span
  class=Code>Example</span><b><span lang=BG style='font-family:"Courier New"'>.java</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Map;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.TreeMap;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Scanner;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>This</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>class</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>demonstrates</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>using</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F3FBF'>{@link TreeMap}</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>class.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@author</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Vladimir</span><span lang=BG style='font-family:"Courier New";
   color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Tsanev</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> TreeMapDemo {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>TEXT</span></i><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Test text words Count &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;words count teSt&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Map&lt;String, Integer&gt; wordsCounts = <i>createWordsCounts</i>(</span><i><span
  lang=BG style='font-family:"Courier New";color:#0000C0'>TEXT</span></i><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     <i>printWordsCount</i>(wordsCounts);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Map&lt;String, Integer&gt; createWordsCounts(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       String text) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Scanner textScanner = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> Scanner(text);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     Map&lt;String, Integer&gt; words = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> TreeMap&lt;String,
  Integer&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (textScanner.hasNext()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       String word = textScanner.next();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Integer count = words.get(word);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (count == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          count = 0;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       words.put(word, count + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> words;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> printWordsCount(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       Map&lt;String, Integer&gt; wordsCounts) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Map.Entry&lt;String, Integer&gt; wordEntry </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          : wordsCounts.entrySet()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.printf(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;word '%s' is seen %d times in the text%n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          wordEntry.getKey(), wordEntry.getValue());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изходът от
примерната програма е следният:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'Count' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'Test' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'count' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'teSt' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'text' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>word 'words' is seen 2 times in the text</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В този пример за пръв път демонстрираме
обхождане на всички елементи на речник – методът </span><span class=Code><span
lang=BG>printWordsCount(SortedMap&lt;String, Integer&gt;)</span></span><span
lang=BG>. За целта използваме подобрената версия на конструкцията за цикъл </span><span
class=Code><span lang=BG>for</span></span><span lang=BG> (enhanced </span><span
class=Code><span lang=BG>for</span></span><span lang=BG> loop). Начинаещите
програмисти често срещат проблем при обхождане на речници, тъй като за разлика
от списъците и масивите елементите на тази структура от данни са наредени
двойки (ключ и стойност), а не просто единични обекти.</span></p>

<p class=MsoNormal><span lang=BG>В примера използваме метода </span><span
class=Code><span lang=BG>entrySet()</span></span><span lang=BG>, който ни връща
множе­ство с обекти, имплементиращи интерфейса </span><span class=Code><span
lang=BG>Map.Entry</span></span><span lang=BG>. Този интерфейс декла­рира
методите </span><span class=Code><span lang=BG>getKey()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>getValue()</span></span><span
lang=BG>, които ни дават достъп съответно до ключа и до стойността. Важно е да
се разбере ясно, че самият речник не може да бъде обходен, но можем да обходим
множество от неговите наредени двойки. Това разбира се не ни ограничава по
никакъв начин.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Интерфейсът
Comparable</span>&lt;K&gt;</h4>

<p class=MsoNormal><span lang=BG>При използване на </span><span class=Code><span
lang=BG>TreeMap&lt;K, V&gt;</span></span><span lang=BG> има задължително
изискване ключо­вете да са от тип, чиито стойности могат да се сравняват по
големина. В нашия пример ползваме за ключ обекти от тип </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> имплементира интерфейса </span><span class=Code><span lang=BG>Comparable</span></span><span
lang=BG>, като сравнението е стандартно. Какво означава това? Тъй като низовете
в Java са case sensitive (т.е. има разлика между главна и малка буква), то думи
като &quot;Count&quot; и &quot;count&quot; се смятат за различни, а думите,
които започват с малка буква, са след тези с голяма. Понякога това може да е
неудобство, но то е следствие от естествената наредба на низовете дефинирана в
класа </span><span class=Code><span lang=BG>String</span></span><span lang=BG>.
Тази дефиниция идва от имплементацията на метода </span><span class=Code><span
lang=BG>compareTo( String)</span></span><span lang=BG>, чрез който класът </span><span
class=Code><span lang=BG>String</span></span><span lang=BG> имплементира
интерфейса </span><span class=Code><span lang=BG>Comparable</span></span><span
lang=BG>.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Интерфейсът
Comparator&lt;K&gt;</span></h4>

<p class=MsoNormal><span lang=BG>Какво можем да направим, когато естествената
наредба не ни удовлетво­рява? Например, ако искаме при срав­нението на думите да
не се прави разлика между малки и главни букви.</span></p>

<p class=MsoNormal><span lang=BG>Един вариант е след като прочетем дадена дума
да я преобразуваме към малки или главни букви. Този подход ще работи за символни
низове, но понякога ситуацията е по-сложна. Затова сега ще покажем друго реше­ние,
което работи за всеки произволен клас, който няма естествена наредба (не
имплементира </span><span class=Code><span lang=BG>Comparable</span></span><span
lang=BG>) или има естествена наредба, но ние искаме да я променим.</span></p>

<p class=MsoNormal><span lang=BG>За сравнение на обекти по изрично дефинирана
наредба в Java е има един интерфейс </span><span class=Code><span lang=BG>Comparator&lt;E&gt;</span></span><span
lang=BG>. Той дефинира функция за сравнение </span><span class=Code><span
lang=BG>compare(E o1, E o2)</span></span><span lang=BG>, която задава
алтернативна на естествената наредба. Нека разгледаме в детайли този интерфейс.
За <a href="#_Интерфейси">интерфейсите</a> ще ви разкажем подробно в главата
&quot;<a href="#_Глава_20._Принципи">Принципи на ООП</a>&quot;. За момента
приемете, че те представляват дефиниции на един или няколко метода, които могат
да бъдат имплементирани от даден клас.</span></p>

<p class=MsoNormal><span lang=BG>Когато създаваме обект от класа </span><span
class=Code><span lang=BG>TreeMap&lt;K, V&gt;</span></span><span lang=BG> можем
да подадем на конструк­тора му референция към </span><span class=Code><span
lang=BG>Comparator</span></span><span class=Code>&lt;K&gt;</span><span lang=BG>
и той да използва него при сравне­ние на ключовете (които са елементи от тип </span><span
class=Code><span lang=BG>K</span></span><span lang=BG>).</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето една
реализация чрез <a href="#_Анонимни_класове">анонимен клас</a> на интерфейса </span><span
class=Code><span lang=BG>Comparator</span></span><span class=Code>&lt;K&gt;</span><span
lang=BG>, която решава проблема с главните и малките букви:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>Comparator&lt;String&gt;
  caseInsensitiveComparator = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Comparator&lt;String&gt;(){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> compare(String o1, String o2) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> o1.compareToIgnoreCase(o2);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>}; </span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека използваме
този </span><span class=Code><span lang=BG>Comparator&lt;Е&gt;</span></span><span
lang=BG> при създаването на речника:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>Map&lt;String, Integer&gt; words = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>  </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> TreeMap&lt;String,
  Integer&gt;(caseInsensitiveComparator);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След тази промяна
резултатът от изпълнението на програмата ще бъде:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>word
  'Count' is seen 2 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>word
  'Test' is seen 2 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>word
  'text' is seen 1 times in the text</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New"'>word
  'words' is seen 2 times in the text</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Виждаме, че за ключ остава вариантът на
думата, който е срещнат за</span><span lang=BG> </span><span lang=BG>първи в
текста. Това е така, тъй като при извикване на метода </span><span class=Code><span
lang=BG>put</span></span><span class=Code>()</span><span lang=BG> се подменя
само стойността, но не и ключът.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използвайки </span><span
class=Code><span lang=BG>Comparator&lt;Е&gt;</span></span><span lang=BG> ние на
практика сменихме дефиницията за подредба на ключове в рамките на нашия речник.
Ако за ключ използ­вахме клас, дефиниран от нас</span>, <span lang=BG>примерно </span><span
class=Code><span lang=BG>Student</span></span><span lang=BG>, който имплементира
</span><span class=Code><span lang=BG>Comparable&lt;Е&gt;</span></span><span
lang=BG>, бихме могли да постигнем същия ефект чрез подмяна на реализацията на метода</span><span
lang=BG> </span><span lang=BG>му </span><span class=Code><span lang=BG>compareTo(</span></span><span
class=Code>Student</span><span class=Code><span lang=BG>)</span></span><span
lang=BG>. Има обаче едно изиск­ване, което трябва винаги да се стремим да
спазваме, когато имплемен­тираме </span><span class=Code><span lang=BG>Comparable&lt;K&gt;</span></span><span
lang=BG>. То гласи</span><span lang=BG> </span><span lang=BG>следното:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=483 style='width:362.4pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Винаги</span>,<span lang=BG> когато два
  обекта са еднакви (</span><span class=Code><span lang=BG>equals(Object)</span></span><span
  lang=BG> връща </span><span class=Code><span lang=BG>true</span></span><span
  lang=BG>), </span><span class=Code><span lang=BG>compareTo(Е)</span></span><span
  lang=BG> трябва да връща 0.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Удовлетворяването на това условие ще ни
позволи да ползваме обектите от даден клас за ключове, както в реализация с
балансирано дърво (</span><span class=Code><span lang=BG>TreeMap</span></span><span
lang=BG>, конструиран без </span><span class=Code><span lang=BG>Comparator</span></span><span
lang=BG>), така и в реализация с хеш-таблица (</span><span class=Code><span
lang=BG>Hash</span></span><span class=Code>Map</span><span lang=BG>).</span></p>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196095"><span
lang=BG>Хеш-таблици</span></a></h2>

<p class=MsoNormal><span lang=BG>Нека сега се запознаем със структурата от
данни хеш-таблица, която реализира по един изключително ефективен начин
абстрактната струк­тура данни речник. Ще обясним в детайли как работят хеш-таблиците
и защо са толкова ефективни.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196096"><span
lang=BG>Реализация на речник с хеш-таблица</span></a></h3>

<p class=MsoNormal><span lang=BG>Реализацията с хеш-таблица има важното
предимство, че времето за достъп до стойност от речника, при правилно
използване, не зависи от броя на елементите в него (поне на теория).</span></p>

<p class=MsoNormal><span lang=BG>За сравнение да вземем списък с елементи, които
са подредени в случаен ред. Искаме да проверим дали даден елемент се намира в
него. В най-лошия случай, трябва да проверим всеки един елемент от него, за да
дадем категоричен отговор на въпроса &quot;съдържа ли списъкът елемента или не&quot;.
Очевидно е, че броят на тези сравнения зависи (линейно) от броят на елементите
в списъка.</span></p>

<p class=MsoNormal><span lang=BG>При хеш-таблиците, ако разполагаме с ключ,
броят сравнения, които трябва да извършим, за да установим има ли стойност с
такъв ключ, е константен и не зависи от броя на елементите в нея. Как точно се
постига такава ефективност ще разгледаме в детайли по-долу.</span></p>

<p class=MsoNormal><span lang=BG>Когато реализациите на някои структури от
данни ни дават време за достъп до елементите й</span><span lang=BG>,</span><span
lang=BG> независещ от броя на елементите в нея, се казва, че те притежават
свойството </span><b>r<span lang=BG>andom </span></b><b>a<span lang=BG>ccess</span></b><span
lang=BG> (<b>свободен достъп</b>). Такова свойство обикновено се наблюдава при
реализации на абстрактни струк­тури от данни с хеш-таблици и масиви.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Какво е хеш-таблица?</span></h4>

<p class=MsoNormal><span lang=BG>Хеш-таблицата обикновено е реализирана с
масив. Тя съдържа наре­дени двойки (ключ, стойност), които са разположени в масива
на пръв поглед случайно и непоследователно. В позициите, в които нямаме
наредена двойка, имаме празен елемент (</span><span class=Code><span lang=BG>null</span></span><span
lang=BG>)</span>:</p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=218 height=218
src="image169.jpg"></span></p>

<p class=MsoNormal><span lang=BG>Размерът на таблицата (масива), наричаме <b>капацитет
(capacity)</b> на хеш-таблицата. <b>Степен на запълненост </b>нари­чаме реално
число между 0 и 1, което съответства на отношението между броя на запълне­ните
елементи и текущия капацитет. На фигурата имаме хеш-таблица с 3 елемента и
капацитет </span><span class=Code><span lang=BG>m</span></span><span lang=BG>.
Степента на запълване на хеш-таблицата е </span><span class=Code><span lang=BG>3/m</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Добавянето и
търсенето на елементи става, като върху ключа се приложи някаква функция </span><span
class=Code><span lang=BG>hash(key)</span></span><span lang=BG>, която връща
число, наречено <b>хеш-код</b>. Като вземем остатъка при деление на този
хеш-код с капацитета </span><span class=Code><span lang=BG>m</span></span><span
lang=BG> </span><span lang=BG>получаваме число между </span><span class=Code><span
lang=BG>0</span></span><span lang=BG> и </span><span class=Code><span lang=BG>m-1</span></span><span
lang=BG>:</span></p>

<table class=WarningMessage border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span class=Code><span lang=BG
  style='font-weight:normal'>index = hash(key) % </span></span><span
  class=Code><span style='font-weight:normal'>m</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>На фигурата е
показана хеш-таблица </span><span class=Code><span lang=BG>T</span></span><span
lang=BG> с капацитет </span><span class=Code><span lang=BG>m</span></span><span
lang=BG> и хеш-функция </span><span class=Code><span lang=BG>hash(key)</span></span><span
lang=BG>:</span></p>

<p class=MsoNormal align=center style='margin-bottom:6.0pt;text-align:center'><img
border=0 width=416 height=99
src="image170.gif"></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Това число ни дава
позицията, на която да търсим</span><span lang=BG> </span><span lang=BG>или добавяме
нареде­ната двойка. Ако хеш-функцията разпределя ключовете равно­мерно, в
болшинството случаи на различен ключ ще съответства различна хеш-стойност и по
този начин във всяка клетка от масива ще има най-много един ключ. В крайна
сметка получаваме изключи­телно бързо търсене и бързо добавяне. Разбира се,
може да се случи различни ключове да имат един и същ хеш-код. Това е специален
случай, който ще разгледаме след малко.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=483 style='width:362.4pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Използвайте реализация на речник чрез
  хеш-таблици, когато се нуждаете от максимално бързо намиране на стойностите
  по ключ.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Капацитетът на таблицата се увеличава, когато
броят на наредените двойки в хеш-таблицата стане равен или по-голям от дадена
константа, наречена <b>максимална степен на запълване (load factor)</b>. При
разши­ряване на капацитета (най-често удвояване) всички елементи се препод­реждат
според своя хеш-код и стойността на новия капацитет. Степента на запълване след
преподреждане значително намалява. Операцията е времеотнемаща, но се извършва
достатъчно рядко, за да не влияе на цялостната производителност на операцията
добавяне.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Класът HashMap&lt;K,
V&gt;</span></h4>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>HashMap&lt;K,
V&gt;</span></span><span lang=BG> е стандартна имплементация на речник с
хеш-таблица в Java Collections Framework. Ще се спрем на основните опера­ции,
които той предоставя, както и на един конкретен пример, който илюстрира
използването на класа и неговите методи.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Основни операции с
класа HashMap&lt;K, V&gt;</span></h4>

<p class=MsoNormal><span lang=BG>Създаването на хеш-таблица става чрез
извикването на някои от кон­структорите на </span><span class=Code><span
lang=BG>HashMap&lt;</span></span><span class=Code>K, V</span><span class=Code><span
lang=BG>&gt;</span></span><span lang=BG>. Чрез тях можем да зададем начални
стой­ности за капацитет и максимална степен на запълване. Добре е, ако
предварително знаем приблизителният брой на елементите, които ще бъдат добавени
в нашата хеш-таблица, да го укажем още при създаването й. Така ще избегнем
излишното разширяване на таблицата и ще постиг­нем по-добра ефективност. По
подразбиране стойността на началния капацитет 16, а на максималната степен на
запълване е 0.75.</span></p>

<p class=MsoNormal><span lang=BG>Да разгледаме какво прави всеки един от
методите реализирани в класа </span><span class=Code><span lang=BG>HashMap&lt;K,
V&gt;</span></span>:</p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>V put(K, V)</span></span><span lang=BG> добавя нова
стойност за даден ключ или презаписва вече съществуващата за този ключ.</span><span
lang=BG> </span><span lang=BG>В резултат се връща старата стойност за посочения
ключ или </span><span class=Code><span lang=BG>null</span></span><span lang=BG>,
ако няма стара стойност. Операцията работи изключително бързо.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>void putAll(Map&lt;K, V&gt;)</span></span><span
lang=BG> добавя всички наредени двойки от друг речник в текущия. Извикването на
този метод е еквивалентно на извикването на </span><span class=Code><span
lang=BG>put(K, V)</span></span><span lang=BG> за всеки един елемент на речника,
който е подаден като параметър.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>V get(Object)</span></span><span lang=BG> връща
стойността за дадения ключ или </span><span class=Code><span lang=BG>null</span></span><span
lang=BG>, ако няма елемент с такъв ключ. Операцията работи изключително бързо.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>V remove(K)</span></span><span lang=BG> изтрива от
речника елемента с този ключ. Операцията работи изключително бързо.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>void clear()</span></span><span lang=BG> премахва всички
елементи от речника.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean containsKey(K)</span></span><span lang=BG>
проверява дали в речника присъства наре­дена двойка с посочения ключ.
Операцията работи изключително бързо.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean </span></span><span class=Code>c</span><span
class=Code><span lang=BG>ontainsValue(V)</span></span><span lang=BG> проверява
дали в речник</span>a<span lang=BG> присъстват една или повече наредени двойки
с посочената стойност. Тази опе­рация работи бавно, тъй като проверява всеки
елемент на хеш-таблицата.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean isEmpty()</span></span><span lang=BG> връща </span><span
class=Code><span lang=BG>true</span></span><span lang=BG> ако в речника няма
нито една наре­дена двойка и </span><span class=Code><span lang=BG>false</span></span><span
lang=BG> в противен случай.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>int size()</span></span><span lang=BG> връща броя на
наредените двойки в речника.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Set&lt;Map.Entry&lt;K, V&gt; entriesSet()</span></span><span
lang=BG> връща множество от наредените двойки в речника. Така можем лесно да ги
обходим в цикъл.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Set&lt;K&gt; keySet()</span></span><span lang=BG>
връща множество от всички ключове в речника.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Collection&lt;V&gt; values()</span></span><span
lang=BG>  връща колекция (може да има повторения) от всички стойности в
речника.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Студенти и оценки –
пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега ще
илюстрираме как се ползват някои от описаните по-горе опера­ции чрез един
пример. Имаме студенти. Всеки от тях би могъл да има най-много една оценка.
Искаме да съхраняваме оценките в някаква структура, в която можем бързо да
търсим по име на студент.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За тази задача ще
създадем хеш-таблица с начален капацитет 6. Тя ще има за ключове имената на
студентите, а за стойности – някакви техни оценки. Добавяме 6 примерни
студента, след което наблюдаваме какво се случва като отпечатваме на
стандартния изход техните данни. Ето как изглежда кодът от този пример:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Map&lt;String, Double&gt; studentsNarks = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashMap&lt;String, Double&gt;(6);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Pesho&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 3.00);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Gosho&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 4.50);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Nakov&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 5.50);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Vesko&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 3.50);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Tsanev&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, 4.00);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Nerdy&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 6.00);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Double tsanevMark = studentsNarks.get(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Tsanev&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Tsanev's mark: %.2f %n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, tsanevMark);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.remove(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Tsanev&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Tsanev removed.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Is Tsanev in the hash table: %b %n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  studentsNarks.containsKey(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Tsanev&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Nerdy&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 3.25);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Nerdy's mark changed.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Students and marks:&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Map.Entry&lt;String, Double&gt; studentMark </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     : studentsNarks.entrySet()) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.out.printf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;%s has %.2f%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     studentMark.getKey(), studentMark.getValue());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;There are %d students.%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  studentsNarks.size());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>studentsNarks.clear();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Students hashmap cleared.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Is hash table empty: %b%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>  studentsNarks.isEmpty());</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изходът от
изпълнението на този код е</span><span lang=BG> </span><span lang=BG>следният: </span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Tsanev's mark: 4,00 </span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Tsanev removed.</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Is Tsanev in the hash table:
  false </span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Nerdy's mark changed.</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Students and marks:</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Nerdy has 3,25</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Nakov has 5,50</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Vesko has 3,50</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Gosho has 4,50</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Pesho has 3,00</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>There are 5 students.</span></p>
  <p class=MsoNormal style='margin-top:0in;text-autospace:none'><span lang=BG
  style='font-family:"Courier New";color:black'>Students hashmap clear</span><span
  style='font-family:"Courier New";color:black'>e</span><span lang=BG
  style='font-family:"Courier New";color:black'>d.</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>Is hash table empty: true</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Виждаме, че редът, в който се отпечатват
студентите е напълно случаен. Това е така, защото при хеш-таблиците (за разлика
от балансираните дървета) елементите не се пазят сортирани. Дори ако текущият
капацитет на таблицата се промени докато работим с нея, много е вероятно да се
промени и редът, в който се пазят наредените двойки. На причината за това
поведение обаче ще се спрем по-долу.</span></p>

<p class=MsoNormal><span lang=BG>Важно е да се запомни, че при хеш-таблиците не
можем да разчитаме на никаква наредба на елементите. Ако се нуждаем от такава,
можем преди отпечатване да сортираме елементите. Друг вариант е да използваме </span><span
class=Code><span lang=BG>TreeMap&lt;</span></span><span class=Code>K, V</span><span
class=Code><span lang=BG>&gt;</span></span><span lang=BG>.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196097"><span
lang=BG>Хеш-функции и хеширане</span></a></h3>

<p class=MsoNormal><span lang=BG>Сега ще се спрем по-детайлно на понятието,
хеш-код, което употребихме малко по-рано. Хеш-кодът представлява числото, което
ни връща т.нар. <b>хеш-функция</b>, приложена върху ключа. Това число трябва да
е различно за всеки различен ключ или поне с голяма вероятност при различни
ключове хеш-кодът трябва да е различен.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Хеш-функции</span></h4>

<p class=MsoNormal><span lang=BG>Съществува понятието <b>перфектна хеш-функция </b>(perfect
hash function). Това означава, че ако имаме N ключа, тази функция на всеки ключ
ще съпоставя различно цяло число в някакъв смислен интервал (например от 0 до
N-1). Намирането на такава функция в общия случай е доста трудна, почти
невъзможна задача. Такива функции си струва да се използват само при множества
от ключове, които са с предварително известни елементи или ако множеството от
ключове поне рядко се променя.</span></p>

<p class=MsoNormal><span lang=BG>В практиката се използват други, не чак
толкова &quot;перфектни&quot; хеш-функции. Сега ще разгледаме няколко примера
за хеш-функции, които се използват директно в Java библиотеките.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Методът hashCode() в
Java платформата</span></h4>

<p class=MsoNormal><span lang=BG>Всички Java класове имат метод </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG>, който връща
стойност от тип </span><span class=Code><span lang=BG>int</span></span><span
lang=BG>. Този метод се наследява от класа </span><span class=Code><span
lang=BG>Object</span></span><span lang=BG>, който стои в корена на йерар­хията
на всички Java класове.</span></p>

<p class=MsoNormal><span lang=BG>Имплементацията в класа </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG> на класа </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG> е </span><span
class=Code><span lang=BG>native</span></span><span lang=BG> метод (метод
имплементиран на ниско ниво от доставчика на виртуалната машина), който
обикновено връща число базирано на адреса на обекта в паметта, но това въобще
не е задължително. Тъй като този метод е импле­ментиран от създателя на
виртуалната машина, не се знае каква точно ще е импле­ментацията. Връщаната
стойност от този метод е непредсказуема и затова никога не трябва да разчитате
на нея.</span></p>

<p class=MsoNormal><span lang=BG>Друг пример за хеш-функция, която идва
директно от Java, е тази, която се ползва от класовете, дефиниращи цели числа
като, </span><span class=Code><span lang=BG>Integer</span></span><span lang=BG>,
</span><span class=Code><span lang=BG>Byte</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>Short</span></span><span lang=BG>. Там за хеш-код се
ползва стойността на самото число.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да разгледаме един
по-сложен пример за хеш-функция, който също идва от вградените в Java класове.
Става въпрос за имплементацията на хеш-функция, която се ползва от класа </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>. Тя връща 0, ако
низът е празен, а в противен случай хеш-кодът се изчислява по формулата:</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span style='font-size:12.0pt;
  font-family:"Courier New"'>hash(s) = s<sub>0</sub>*31<sup>n-1</sup> + s<sub>1</sub>*31<sup>n-2</sup>
  + … + s<sub>n</sub></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>където </span><span class=Code><span lang=BG>s</span></span><span
class=Code><sub><span lang=BG>i</span></sub></span><span lang=BG>, е i-ият
символ на низа, a </span><span class=Code><span lang=BG>n</span></span><span
lang=BG> е неговата дължина.</span></p>

<p class=MsoNormal><span lang=BG>На читателя оставяме да разгледа други
имплементации на метода </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG> в някои от най-често използваните класове като </span><span
class=Code><span lang=BG>Date</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Long</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>Float</span></span><span lang=BG> </span><span
lang=BG>и</span><span lang=BG> </span><span class=Code><span lang=BG>Double</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Сега, нека се
спрем на въпроса как да имплементираме сами този метод за нашите класове. Вече обяснихме,
че оставянето на имплементацията, която идва наготово от </span><span
class=Code><span lang=BG>Object</span></span><span lang=BG>, не е допустимо
решение. Друга много проста имплементация е винаги да връщаме някаква фиксирана
кон­станта, примерно:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> hashCode() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> 53;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Ако използваме хеш-таблица и ползваме за
ключовете й обекти от клас, който има горната имплементация на </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG>, ще получим
много лоша производителност, защото всеки път, когато добавяме нов елемент в
таб­лицата, ще трябва да го слагаме на едно и също място. Когато търсим, всеки
път ще попадаме в една и съща клетка на таблицата.</span></p>

<p class=MsoNormal><span lang=BG>За да се избягва описаното неблагоприятно
поведение, трябва хеш-функцията да разпределя ключовете максимално равномерно
сред въз­можните стойности за хеш-код.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Колизии при
хеш-функциите</span></h4>

<p class=MsoNormal><span lang=BG>Ситуация, при която два различни ключа връщат
едно и също число за хеш-код наричаме <b>колизия</b>:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=334 height=107
src="image171.gif"></span></p>

<p class=MsoNormal><span lang=BG>Как да решим проблема с колизиите ще
разгледаме подробно в следващия параграф. Най-простото решение, обаче е
очевидно: двойките, които имат ключове с еднакви хеш-кодове да нареждаме в
списък:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=373 height=314
src="image172.gif"></span></p>

<p class=MsoNormal><span lang=BG>Следователно при използване на константа за
хеш-код, нашата хеш-таблица се изражда в линеен списък и употребата й става
неефективна.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Имплементиране на
метода hashCode()</span></h4>

<p class=MsoNormal><span lang=BG>Ще дадем един стандартен алгоритъм, по който
можем сами да импле­ментираме </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG>, когато ни се наложи:</span></p>

<p class=MsoNormal><span lang=BG>Първо трябва да определим полетата на класа,
които участват по някакъв начин в имплементацията на </span><span class=Code><span
lang=BG>equals()</span></span><span lang=BG> метода. Това е необ­ходимо, тъй
като винаги, когато </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG> е </span><span class=Code><span lang=BG>true</span></span><span
lang=BG> трябва резултатът от </span><span class=Code><span lang=BG>hachCode()</span></span><span
lang=BG> да е един и същ. Така полетата, които не участват в пресмятането на </span><span
class=Code><span lang=BG>equals()</span></span><span lang=BG>, не трябва да
участват и в изчисляване на </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>След като сме определили полетата, които ще
участват в изчисле­нието на </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG>, трябва по някакъв начин да получим за тях стойности от тип </span><span
class=Code><span lang=BG>int</span></span><span lang=BG>. Ето една примерна
схема:</span></p>

<p class=MsoNormal style='margin-left:32.2pt;text-indent:-.25in'><span lang=BG>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако полето е </span><span class=Code><span lang=BG>boolean</span></span><span
lang=BG>, за </span><span class=Code><span lang=BG>true</span></span><span
lang=BG> взимаме </span><span class=Code><span lang=BG>1</span></span><span
lang=BG>, а за </span><span class=Code><span lang=BG>false</span></span><span
lang=BG> взимаме </span><span class=Code><span lang=BG>0</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:32.2pt;text-indent:-.25in'><span lang=BG>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако полето е от тип </span><span class=Code><span lang=BG>int</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>byte</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>short</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>char</span></span><span
lang=BG> можем да го преоб­разуваме към </span><span class=Code><span lang=BG>int</span></span><span
lang=BG>, чрез оператора за явно преобразуване </span><span lang=BG
style='font-family:"Courier New"'>(<span class=Code>int</span>)</span><span
lang=BG>. Ако е от тип </span><span class=Code><span lang=BG>long</span></span><span
lang=BG>, го разделяме на 2 части по 32 бита и получаваме от него две </span><span
class=Code><span lang=BG>int</span></span><span lang=BG> стойности.</span></p>

<p class=MsoNormal style='margin-left:32.2pt;text-indent:-.25in'><span lang=BG>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако полето е от тип </span><span class=Code><span lang=BG>float</span></span><span
lang=BG> или </span><span class=Code><span lang=BG>double</span></span><span
lang=BG>, можем да го превърнем в целочислен вид чрез методите </span><span
class=Code><span lang=BG>Float.floatToIntBits()</span></span><span lang=BG> или
</span><span class=Code><span lang=BG>Double.doubleToLongBits()</span></span><span
lang=BG>. В случая с </span><span class=Code><span lang=BG>double</span></span><span
lang=BG> резултатът тре­ти­раме както </span><span class=Code><span lang=BG>long</span></span><span
lang=BG> от горната точка.</span></p>

<p class=MsoNormal style='margin-left:32.2pt;text-indent:-.25in'><span lang=BG>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако полето не е от примитивен тип, просто извикваме метода </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG> на този обект.
Ако стойността на полето е </span><span class=Code><span lang=BG>null</span></span><span
lang=BG>, връщаме </span><span class=Code><span lang=BG>0</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:32.2pt;text-indent:-.25in'><span lang=BG>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ако полето е масив или някаква колекция, извличаме хеш-кода за всеки
елемент на тази колекция.</span></p>

<p class=MsoNormal><span lang=BG>Накрая сумираме получените </span><span
class=Code><span lang=BG>int</span></span><span lang=BG> </span><span lang=BG>стойности,
като преди всяко събиране умножа­ваме временния резултат с някое просто число
(например 31), като игнорираме евентуалните препълвания на типа </span><span
class=Code><span lang=BG>int</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>В крайна сметка получаваме хеш-код, който е
добре разпределен в прост­ранството от всички 32-битови стойности. Можем да
очакваме, че при така изчислен хеш-код колизиите ще са рядкост, тъй като всяка
промяна в някое от полетата, участващи в описаната схема за изчисление, води до
съществена промяна в хеш-кода.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Имплементиране на
hashCode() – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да илюстрираме
горният алгоритъм с един пример. Нека имаме клас, чиито обекти представляват
точка в тримерното пространство. И нека точката вътрешно представяме чрез
нейните координати по трите измерения x, y и z:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span class=Code><span lang=BG>Point3D</span></span><b><span
  lang=BG style='font-family:"Courier New"'>.java</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Class representing</span><span lang=BG style='font-family:
  "Courier New";color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>points</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>in</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>three</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dimensional</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>space.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@author</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Vladimir Tsanev</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Point3D {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>x</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>y</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>z</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Construct</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>new</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F3FBF'>{@link Point3D}</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>instance</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Cartesian</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>coordinates</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>point.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>x</span><span lang=BG style='font-family:"Courier New";
  color:black'> - </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>x</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>coordinate</span><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>point</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>y</span><span lang=BG style='font-family:"Courier New";
  color:black'> - </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>y</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>coordinate</span><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>point</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>z</span><span lang=BG style='font-family:"Courier New";
  color:black'> - </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>z</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>coordinate</span><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>point</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Point3D(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> x, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> y, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>double</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> z) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>super</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>x</span><span lang=BG style='font-family:"Courier New";
  color:black'> = x;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>y</span><span lang=BG style='font-family:"Courier New";
  color:black'> = y;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>z</span><span lang=BG style='font-family:"Courier New";
  color:black'> = z;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Можем лесно да реализираме </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG> по описания
по-горе алгоритъм.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Автоматично
генериране на hashCode() в Eclipse</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Eclipse, както и
повечето модерни среди за разработка</span>,<span lang=BG> могат автоматично да
генерират кода за методите </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG>. При Еclipse импле­ментацията на </span><span class=Code><span
lang=BG>hashCode()</span></span><span lang=BG> ще бъде по алгоритъм, сходен на описания
по-горе. Можете да генерирате автоматично методите</span><span lang=BG> </span><span
class=Code><span lang=BG>equals()</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG> за даден клас
по следния начин: от менюто <b>Source</b> избирате <b>Generate hasCode and
equals()...</b> След това избирате полетата, които искате да участват в
изчисленията за двата метода и натискате бутона [OK]. За нашия клас </span><span
class=Code><span lang=BG>Point3D</span></span><span lang=BG> генерираният код е
следният:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#646464'>@</span><span lang=BG style='font-family:"Courier New";
  color:black'>Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> hashCode() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> prime = 31;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result = 1;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>long</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> temp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  temp = Double.doubleToLongBits(x);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + (</span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>int</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>) (temp ^ (temp &gt;&gt;&gt;
  32));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  temp = Double.doubleToLongBits(y);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + (</span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>int</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>) (temp ^ (temp &gt;&gt;&gt;
  32));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  temp = Double.doubleToLongBits(z);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  result = prime * result + (</span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>int</span></b><span lang=BG
  style='font-family:"Courier New";color:black'>) (temp ^ (temp &gt;&gt;&gt;
  32));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#646464'>@</span><span lang=BG style='font-family:"Courier New";
  color:black'>Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> equals(Object obj) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> == obj)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (obj == </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (getClass() != obj.getClass())</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Point3D other = (Point3D) obj;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Double.doubleToLongBits(x) </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       != Double.doubleToLongBits(other.x))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Double.doubleToLongBits(y) </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       != Double.doubleToLongBits(other.y))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Double.doubleToLongBits(z) </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       != Double.doubleToLongBits(other.z))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Тази имплементация е несравнимо по-добра, от
това да не правим нищо или да връщаме константа. Въпреки това колизиите и при
нея се срещат, но доста по-рядко.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196098"><span
lang=BG>Решаване на проблема с колизиите</span></a></h3>

<p class=MsoNormal><span lang=BG>На практика колизиите могат да се избегнат в
изключително редки и спе­цифични ситуации. За това е необходимо да живеем с
идеята за тяхното присъствие в нашите хеш таблици и да се съобразяваме с тях.
Нека разгледаме няколко стратегии за справяне с колизиите:</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Нареждане в списък
(chaining)</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Най-разпространеният
начин за решаване на проблема с колизиите е нареждането в списък (chaining).
Той се състои в това двойките ключ и стойност, които имат еднакъв хеш-код за
ключа да се нареждат в списък</span><span lang=BG> </span><span lang=BG>един
след друг.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Реализация на речник
чрез хеш-таблица и chaining</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека си поставим
за задача да реализираме структурата от данни речник</span><span lang=BG> </span><span
lang=BG>чрез хеш-таблица с решаване на колизиите чрез нареждане в списък
(cahining). Да видим как може да стане това. Първо ще дефинираме клас, който
описва наредена двойка (<b>entry</b>). Той капсулира в себе си двойка ключ и стойност</span>:</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  class=Code><span lang=BG>DictionaryEntry.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>This</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>class</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>used</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Dictionary</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Abstract</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Data</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>(ADT).</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>It</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>encapsulates</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>and</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>objects.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@author</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Vladimir</span><span lang=BG style='font-family:"Courier New";
   color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Tsanev</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;K&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>keys.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;V&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>values.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> DictionaryEntry&lt;K, V&gt; {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> K </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> DictionaryEntry(K key, V value) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> = key;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> = value;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> K getKey() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V getValue() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String toString() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String.<i>format</i>(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;[%s, %s]&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>key</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>value</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal style='margin-top:0in'><span lang=BG style='font-family:
  "Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Този клас има
конструктор, който приема ключ и стойност. Дефинирани са два метода за достъп
съответно за ключа (</span><span class=Code><span lang=BG>getKey()</span></span><span
lang=BG>) и стойността (</span><span class=Code><span lang=BG>getValue()</span></span><span
lang=BG>). Ще отбележим, че нарочно нямаме публични методи, чрез които да
променяме стойностите на ключа и стойността. Това прави този клас непроменяем
(immutable). Това е добра идея, тъй като обектите, които ще се пазят вътрешно в
реализациите на речника, ще бъдат същите като тези, които ще връщаме например
при реализа­цията на метод за вземане на всички наредени двойки.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Предефинирали сме
метода </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>, за да можем лесно да отпечат­ваме наредената двойка на стандартния
изход или в текстов поток.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Следва примерен шаблонен
интерфейс, който дефинира най-типичните операции</span><span lang=BG> </span><span
lang=BG>за типа речник:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span class=Code><span lang=BG>Dictionary</span></span><b><span
  lang=BG style='font-family:"Courier New"'>.java</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Interface</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>that</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>defines</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>basic</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>methods</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>needed</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>a</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>class</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>which</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>maps</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>keys</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>to</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>values.</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;K&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>keys</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;V&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>values</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@author</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Vladimir</span><span lang=BG style='font-family:"Courier New";
   color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Tsanev</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>interface</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Dictionary&lt;K, V&gt; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>extends</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Iterable&lt;DictionaryEntry&lt;K, V&gt;&gt; {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Adds</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>to</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dictionary.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>If</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>already</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>exists</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>its</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>replaced</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>with</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>new</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>and</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>old</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>returned.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>new</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>to</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>be</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>mapped</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>with</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>that</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>old</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>or</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>null</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>does</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>not</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>exists</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@throws</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>NullPointerException</span><span lang=BG style='font-family:
  "Courier New";color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>null.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V put(K key, V value);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Finds</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>mapped</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>which</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>needed.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>present,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>         </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>or</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>null</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>there</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>no</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>with</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>such</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V get(K key);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Removes</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>a</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>mapped</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>which</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>will</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>be</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>removed</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>true</span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;/code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>for</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>specified</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>present,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>or</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>false</span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;/code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>there</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>no</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>value</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>with</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>such</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>key</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>in</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dictionary.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> remove(K key);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Checks</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>there</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>are</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>any</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>elements</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>in</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dictionary.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>true</span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;/code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>if</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>there</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>is</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>more</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>than</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>one</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>element</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>in</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dictionary,</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>and</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>false</span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;/code&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>otherwise.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> isEmpty();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Removes</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>all</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>elements</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>from</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>dictionary.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> clear();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В интерфейса по-горе, както и в предходния
клас използваме <a href="#_Шаблонни_класове_(generics)">шаблонни типове
(generics)</a>, чрез които деклари­раме параметри за типа на ключо­вете (</span><span
class=Code><span lang=BG>K</span></span><span lang=BG>) и типа стойностите (</span><span
class=Code><span lang=BG>V</span></span><span lang=BG>). Това позволява нашият
речник да бъде използват с произволни типове за ключовете и за стойностите.
Единстве­ното изискване е ключовете да дефинират коректно методите </span><span
class=Code><span lang=BG>equals()</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>hashCode()</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Нашият интерфейс </span><span class=Code><span
lang=BG>Dictionary&lt;K, V&gt;</span></span><span lang=BG> прилича много на
интерфейса </span><span class=Code><span lang=BG>Map&lt;K, V&gt;</span></span><span
lang=BG>, но е по-прост от него и описва само най-важните операции върху типа
данни &quot;речник&quot;. Той наследява системния интерфейс </span><span
class=Code><span lang=BG>Iterable &lt;DictionaryEntry&lt;K, V&gt;&gt;</span></span><span
lang=BG>, за да позволи речникът да бъде обхождан във for цикъл.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Следва примерна
имплементация на речник, в който проблемът с коли­зиите се решава чрез
нареждане в списък</span> (chaining):</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  background:#F3F3F3;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span class=Code><span lang=BG>HashDictionary.java</span></span></p>
  </td>
 </tr>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  border-top:none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.List;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.ArrayList;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Arrays;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Iterator;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Implementation</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F3FBF'>{@link Dictionary}</span><span lang=BG style='font-family:
  "Courier New";color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>interface</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>using</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>hash</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>table.</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Collisions</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>are</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>resolved</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>by</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>chaining.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@author</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Vladimir</span><span lang=BG style='font-family:"Courier New";
   color:black'> </span><span lang=BG style='font-family:"Courier New";
   color:#3F5FBF'>Tsanev</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;K&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>keys</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F9FBF'>@param</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>&lt;V&gt;</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#7F7F9F'>-</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>type</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>of</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>values</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashDictionary&lt;K, V&gt; </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>implements</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> Dictionary&lt;K, V&gt;
  {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>DEFAULT_CAPACITY</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = 2;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>final</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>float</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>DEFAULT_LOAD_FACTOR</span></i><span lang=BG style='font-family:
  "Courier New";color:black'> = 0.75f;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> List&lt;DictionaryEntry&lt;K, V&gt;&gt;[] </span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>table</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>float</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>loadFactor</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>threshold</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashDictionary() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>DEFAULT_CAPACITY</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>DEFAULT_LOAD_FACTOR</span></i><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@SuppressWarnings</span><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;unchecked&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashDictionary(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> capacity, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>float</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> loadFactor) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>table</span><span lang=BG style='font-family:"Courier New";
  color:black'> = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> List[capacity];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.loadFactor = loadFactor;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.threshold = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.table.length * </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.loadFactor);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> clear() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>    Arrays.fill(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>table</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.size = 0;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> List&lt;DictionaryEntry&lt;K, V&gt;&gt; findChain(</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       K key, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> createIfMissing) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index = key.hashCode();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     index = index % </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>table</span><span lang=BG style='font-family:"Courier New";
  color:black'>.length;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (table[index] == </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>null</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> &amp;&amp; createIfMissing) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       table[index] = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> ArrayList&lt;DictionaryEntry&lt;K, V&gt;&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> table[index];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V get(K key) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     List&lt;DictionaryEntry&lt;K, V&gt;&gt; chain =
  findChain(key, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (chain != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (DictionaryEntry&lt;K, V&gt; dictionaryEntry : chain) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (dictionaryEntry.getKey().equals(key)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> dictionaryEntry.getValue();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> isEmpty() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'> == 0;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> V put(K key, V value) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     List&lt;DictionaryEntry&lt;K, V&gt;&gt; chain =
  findChain(key, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> i=0; i&lt;chain.size(); i++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       DictionaryEntry&lt;K, V&gt; entry = chain.get(i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (entry.getKey().equals(key)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Key found -&gt; replace its value with the new value</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          DictionaryEntry&lt;K, V&gt; newEntry = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> DictionaryEntry&lt;K, V&gt;(key, value);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          chain.set(i, newEntry);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> entry.getValue();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     chain.add(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> DictionaryEntry&lt;K, V&gt;(key, value));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>size</span><span lang=BG style='font-family:"Courier New";
  color:black'>++ &gt;= </span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>threshold</span><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       expand();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>Expands</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>the</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>underling</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>table</span><span lang=BG style='font-family:"Courier New";
  color:black'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>   </span><span lang=BG style='font-family:"Courier New";
  color:#3F5FBF'>*/</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@SuppressWarnings</span><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;unchecked&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>private</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> expand() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> newCapacity = 2 * </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.</span><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>table</span><span lang=BG style='font-family:"Courier New";
  color:black'>.length;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     List&lt;DictionaryEntry&lt;K, V&gt;&gt;[] oldTable = </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>.table;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.table = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> List[newCapacity];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>this</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>.threshold = (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) (newCapacity * </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>this</span></b><span lang=BG style='font-family:
  "Courier New";color:black'>.loadFactor);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (List&lt;DictionaryEntry&lt;K, V&gt;&gt; oldChain : oldTable) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (oldChain != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (DictionaryEntry&lt;K, V&gt; dictionaryEntry : oldChain){</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            List&lt;DictionaryEntry&lt;K, V&gt;&gt; chain = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>              findChain(dictionaryEntry.getKey(), </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>true</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            chain.add(dictionaryEntry);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> remove(K key) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     List&lt;DictionaryEntry&lt;K, V&gt;&gt; chain =
  findChain(key, </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (chain != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> i=0; i&lt;chain.size(); i++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          DictionaryEntry&lt;K, V&gt; entry = chain.get(i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (entry.getKey().equals(key)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Key found -&gt; remove it</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            chain.remove(i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>            </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>true</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>false</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Iterator&lt;DictionaryEntry&lt;K, V&gt;&gt; iterator() {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     List&lt;DictionaryEntry&lt;K, V&gt;&gt; entries = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ArrayList&lt;DictionaryEntry&lt;K, V&gt;&gt;(</span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>.</span><span lang=BG
  style='font-family:"Courier New";color:#0000C0'>table</span><span lang=BG
  style='font-family:"Courier New";color:black'>.length);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (List&lt;DictionaryEntry&lt;K, V&gt;&gt; chain : </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>.table) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (chain != </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>null</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>          entries.addAll(chain);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> entries.iterator();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Ще обърнем внимание на по-важните моменти в
този код. Нека започнем от конструктора. Единственият публичен конструктор е
конструкторът по подразбиране. Той в себе си извиква друг конструктор като му
подава някакви предварително зададени стойности за капацитет и степен на
запълване. На читателя предоставяме да реализира валидация на тези параметри и
да направи и този конструктор публичен, за да предостави повече гъвкавост на
ползвателите на този клас.</span></p>

<p class=MsoNormal><span lang=BG>Следващото нещо, на което ще обърнем внимание,
е това как е реализи­рано нареждането в списък. При конструирането на
хеш-таблицата в кон­структора инициализираме масив от списъци, които ще
съдържат нашите </span><span class=Code><span lang=BG>DictionaryEntry </span></span><span
lang=BG>обекти. За вътрешно ползване сме реализирали един метод </span><span
class=Code><span lang=BG>findChain()</span></span><span lang=BG>, който
изчислява хеш-кода на ключа като вика метода </span><span class=Code><span
lang=BG>hashCode()</span></span><span lang=BG> и след това разделя върнатата
хеш-стойност на дължи­ната на табли­цата (капацитета). Така се получава
индексът на текущия ключ в масива, съхраняващ елементите на хеш-таблицата.
Списъкът с всички елементи, имащи съответния хеш-код се намира в масива на
изчисления индекс. Ако списъкът е празен, той има стойност </span><span
class=Code><span lang=BG>null</span></span><span lang=BG>. В противен случай в
съответната позиция има списък от елементи за съответния ключ</span>.</p>

<p class=MsoNormal><span lang=BG>На метода </span><span class=Code><span
lang=BG>findChain()</span></span><span lang=BG> се подава специален параметър,
който указва дали да създава празен списък, ако за подадения ключ все още няма
списък с елементи. Това предоставя удобство на методите за добавяне на елементи
и за преоразмеряване на хеш-таблицата.</span></p>

<p class=MsoNormal><span lang=BG>Другото нещо, на което ще обърнем внимание, е
методът </span><span class=Code><span lang=BG>expand()</span></span><span
lang=BG>, който разширява текущата таблица, когато се достигне максималното
допустимо запълване. За целта създаваме нова таблица (масив), двойно по-голяма
от старта. Изчисляваме новото максимално допустимо запълване, това е полето </span><span
class=Code><span lang=BG>threshold</span></span><span lang=BG>. Следва
най-важната част. Разширили сме таблицата и по този начин сме сменили
стойността на </span><span class=Code><span lang=BG>this.table.length</span></span><span
lang=BG>. Ако потърсим някой елемент, който вече сме добавили, методът </span><span
class=Code><span lang=BG>findChain(K key)</span></span><span lang=BG>, изобщо
няма да върне правилната верига, в която да го търсим. Затова се налага всички
елементи от старата таблица да се прехвърлят, като не просто се копират
веригите, а се добавят наново обектите от клас </span><span class=Code><span
lang=BG>DictionaryEntry</span></span><span lang=BG> </span><span lang=BG>в
новосъздадени вериги.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да
имплементираме коректно обхождането на хеш-таблицата, реализи­рахме интерфейса </span><span
class=Code><span lang=BG>Iterable&lt;DictionaryEntry&lt;K, V&gt;&gt;</span></span><span
lang=BG>, който има метод, връщащ итератор по елементите на хеш-таблицата. За
да реализираме метода итератора, първо прехвърляме всички елементи в ArrayList,
а след това връщаме неговия итератор. Следва пример как можем да използваме
нашата реализация на хеш-таблица и нейният итератор: </span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=537
 style='width:402.5pt;margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=537 valign=top style='width:402.5pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashDictionaryExample {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     HashDictionary&lt;String, Integer&gt; marks = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> HashDictionary&lt;String, Integer&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Pepi&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 3);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Kiro&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 4);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Mimi&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 6);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.put(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Pepi&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, 5); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// replace key &quot;Pepi&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.remove(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Kiro&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// remove key &quot;Kiro&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     marks.remove(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;123&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// key not found</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Use the iterator to traverse all entries</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (DictionaryEntry&lt;String, Integer&gt; entry : marks) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.print(entry + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; &quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Output: [Mimi, 6] [Pepi, 5]</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:ideograph-numeric'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В примерната имплементация на хеш-таблица има
още една особеност. Методът </span><span class=Code><span lang=BG>findChain()</span></span><span
lang=BG> не е реализиран напълно коректно, но проблемът трудно може да се
прояви. Наистина в пове­чето случаи тази реализация ще работи без проблем. Но
какво ще стане, ако добавяме елементи до безкрай? В един прекрасен момент,
когато капацитетът е станал 2<sup>31</sup> и се наложи да го разширим, то при
умножение на това число с 2 ще получим -2 (вж. <a
href="#_Представяне_на_отрицателни">секцията за представяне на отрицателни
числа в главата &quot;Бройни системи&quot;</a>). След това при опит за
създаване на нов масив с размер -2 естествено ще бъде хвърлено изключение и
изпълнени­ето на метода ще бъде прекратено.</span></p>

<p class=MsoNormal><span lang=BG>За да напълните тази реализация на хеш-таблица
с толкова много двойки (ключ, стойност) ви е необходима доста RAM памет. При
зададена 1024MB памет на виртуалната машина изключението </span><span
class=Code><span lang=BG>OutOfMemmoryError</span></span><span lang=BG> се хвърля
още преди да са добавени 6 милиона и 300 хиляди двойки от тип </span><span
class=Code><span lang=BG>Integer</span></span><span lang=BG> на ключа и
стойността. На практика не е добра идея да се работи с изключително много данни
на веднъж. Ето защо не трябва да ви притеснява и фактът, че максималната
стойност за брой на елементи на масиви и колекции в Java е 2 147 483&nbsp;647.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да зададете
максималната памет, която да заеме ваша програма преди получаването на
изключителната ситуация </span><span class=Code><span lang=BG>OutOfMemmoryError</span></span><span
lang=BG>, трябва при стартиране на виртуалната машина да подадете параметъра </span><span
class=Code><span lang=BG>-XmxSIZE</span></span><span lang=BG>, където </span><span
class=Code><span lang=BG>SIZE</span></span><span lang=BG> е обемът памет, който
искате да зададете. По подразбиране тази стойност е само 64 MB. Например: ако
искате да стартирате вашата програма с най-много 512 MB оперативна памет, трябва
да изпълните:</span></p>

<table class=WarningMessage border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left'><span
  class=Code><span lang=BG style='font-weight:normal'>java -Xmx512m
  SomeClassWithMainMethod</span></span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Методи за решаване на колизиите от тип отворена адресация
(open addressing)</span></h4>

<p class=MsoNormal><span lang=BG>Нека сега разгледаме методите за разрешаване
на колизиите, алтерна­тивни на нареждането в списък. Най-общо идеята при тях е,
че в случай на колизия се опитваме да сложим новата двойка на някоя свободна
позиция от таблицата. Методите се различават по това как се избира къде да се
търси свободно място за новата двойка. Освен това трябва да е възможно и
намирането на тази двойка на новото й място.</span></p>

<p class=MsoNormal><span lang=BG>Основен недостатък на този тип методи спрямо
нареждането в списък е, че са неефективни при голяма степен на запълненост (близка
до 1).</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Линейно пробване
(linear probing)</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Този метод е един
от най-лесните за имплементация. Линейното пробване най-общо представлява
следният простичък код:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>int</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> newPosition =
  (oldPosition + i) % capacity;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Тук </span><span class=Code><span lang=BG>capacity</span></span><span
lang=BG> е капацитетът на таблицата, </span><span class=Code><span lang=BG>oldPostion</span></span><span
lang=BG> е позицията, за която получаваме колизия, а </span><span class=Code><span
lang=BG>i</span></span><span lang=BG> е номер на поредното пробване. Ако ново­получената
позиция е свободна, то мястото се използва за новодобаве­ната двойка, в
противен случай пробваме отново, като увеличаваме </span><span class=Code><span
lang=BG>i</span></span><span lang=BG> с единица. Възможно е пробването да е
както напред така и назад. Проб­ване назад става като вместо да прибавяме,
вадим </span><span class=Code><span lang=BG>i</span></span><span lang=BG> от
позицията, в която имаме колизия.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Предимство на този
метод е сравнително бързото намиране на нова позиция. За нещастие има
изключително висока вероятност, ако на едно място е имало колизия, след време
да има и още. Това на практика води до силна неефективност.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid black 1.0pt;border-right:none;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center;
  layout-grid-mode:char'><span lang=BG><img border=0 width=34 height=34
  src="image159.gif"></span></p>
  </td>
  <td width=483 style='width:362.4pt;border:solid black 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Използването на линейно пробване като
  метод за реша­ване на проблема с колизиите е неефективно и трябва да се
  избягва.</span></p>
  </td>
 </tr>
</table>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Квадратично пробване
(Quadratic probing)</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Това е класически
метод за решаване на проблема с колизиите. Той се различава от линейното
пробване с това, че за намирането на нова позиция се използва квадратна функция
на </span><span class=Code><span lang=BG>i</span></span><span lang=BG> (номер
на поредно проб­ване). Ето как би изглеждало едно такова решение:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>int</span></b><span
  lang=BG style='font-family:"Courier New";color:black'> newPosition =
  (oldPosition + c1*i + c2*i*i) % capacity;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Тук се появяват две константи </span><span
class=Code><span lang=BG>c1</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>c2</span></span><span lang=BG>. Иска се </span><span
class=Code><span lang=BG>c2</span></span><span lang=BG> да е различна от 0,
защото в противен случай се връщаме на линейно пробване.</span></p>

<p class=MsoNormal><span lang=BG>От избора на </span><span class=Code><span
lang=BG>c1</span></span><span lang=BG> и </span><span class=Code><span lang=BG>c2</span></span><span
lang=BG> зависи на кои позиции спрямо началната ще пробваме. Например, ако </span><span
class=Code><span lang=BG>c1</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>c2</span></span><span lang=BG> са равни на 1, ще
пробваме последова­телно </span><span class=Code><span lang=BG>oldPosition</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>oldPosition + 2</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>oldPosition + 6</span></span><span
lang=BG>, …. За таблица с капацитет от вида </span><span class=Code><span
lang=BG>2n</span></span><span lang=BG>, е най-добре да се изберат </span><span
class=Code><span lang=BG>c1</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>c2</span></span><span lang=BG> равни на </span><span
class=Code><span lang=BG>0.5</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Квадратичното пробване е по-ефективно от
линейното.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Двойно хеширане
(double hashing)</span></h4>

<p class=MsoNormal><span lang=BG>Както става ясно и от името на този метод, при
повторното хеширане за намиране на нова позиция се прави повторно хеширане на
получения хеш-код, но с друга хеш-функция, съвсем различна от първата. Този
метод е по-добър от линейното и квадратичното пробване, тъй като всяко следващо
пробване зависи от стойността на ключа, а не от позицията определена за ключа в
таблицата. Това има смисъл, защото позицията за даден ключ зависи от текущия
капацитет на таблицата.</span></p>

<h4 style='margin-left:0in;text-indent:0in'><span lang=BG>Кукувиче хеширане
(cuckoo hashing)</span></h4>

<p class=MsoNormal><span lang=BG>Кукувичето хеширане е сравнително нов метод с
отворена адресация за справяне с колизиите. Той е бил представен за пръв път от
R. Pagh и  F. Rodler през 2001 година. Името му идва от поведението,
наблюдавано при някои видове кукувици. Майките кукувици избутват яйца и/или
малките на други птици извън гнездото им, за да оставят техните яйца там и така
други птици да се грижат за техните яйца (и малки след излюпването).</span></p>

<p class=MsoNormal><span lang=BG>Основната идея на този метод е да се използват
две хеш-функции вместо една. По този начин ще разполагаме не с една, а с две
позиции, на които можем да поставим елемент в речника. Ако единият от двата
елемента е свободен, то просто слагаме елемента на свободна позиция. Ако пък и
двете позиции са заети, то слагаме новият елемент на една от двете позиции,
като той &quot;изритва&quot; елемента, който до сега се е намирал там. На свой
ред &quot;изритания&quot; елемент отива на своята алтернативна позиция, като &quot;изритва&quot;
някой друг елемент, ако е необходимо. Новият &quot;изритан&quot; пов­таря
процеду­рата и така, докато не се достигне свободна позиция или докато не се
получи зацикляне. Във втория случай цялата таблица се построява наново с по-голям
размер и с нови хеш-функции.</span></p>

<p class=MsoNormal><span lang=BG>На картинката по-долу е показана примерна
схема на хеш-таблица, която използва кукувиче хеширане. Всяка клетка, която
съдържа елемент има връзка към алтернативната клетка за ключа, който се намира
в нея. Сега ще проиграем различни ситуации за добавяне на нов елемент.</span></p>

<p class=MsoNormal><span lang=BG>Ако поне една от двете хеш-функции ни даде
свободна клетка, то няма проблем. Слагаме елемента в една от двете. Нека обаче и
двете хеш функции са дали заети клетки и на случаен принцип сме избрали една от
тях.</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=300 height=128
src="image173.jpg"></span></p>

<p class=MsoNormal><span lang=BG>Нека също предположим, че това е клетката, в
която се намира </span>A<span lang=BG>. Новият елемент изритва A от неговото
място, A на свой ред отива на алтернатив­ната си позиция и изритва B, от
неговото място. Алтернативното място за B обаче е свободно, така че добавянето
завършва успешно.</span></p>

<p class=MsoNormal><span lang=BG>Да предположим, че клетката, от която се
опитва да изрита елемент, новият елемент е тази, в която се намира H. Тогава се
получава зацик­ляне тъй като H и W образуват цикъл. В този случай трябва да се
изпълни пресъздаване на таблицата, използвайки нови хеш-функции и по-голям
размер.</span></p>

<p class=MsoNormal><span lang=BG>В най-опростената си версия този метод има
константен достъп до елементите си и то в най-лошия случай, но това е изпълнено
само при ограниченото, че фактора на запълване е по-малък от 0.5.</span></p>

<p class=MsoNormal><span lang=BG>Използването на три различни хеш-функции,
вместо две може да доведе до ефективна горна граница на фактора на запълване до
над 0.9.</span></p>

<p class=MsoNormal><span lang=BG>Проучвания показват, че кукувичето хеширане и
неговите варианти могат да бъдат много по-ефективни от широко използваните днес
нареждане в списък и методите с отворено адресиране. Въпреки това все още този
метод остава широко неизвестен и неизползван в практиката.</span></p>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196099"></a><a
name="_Структура_от_данни"></a><span lang=BG>Структура от данни &quot;множество&quot;</span></h2>

<p class=MsoNormal><span lang=BG>В тази секция ще разгледаме абстрактната
структура от данни множество (set) и две нейни типични реализации. Ще обясним
предимствата и недос­татъците им и в какви ситуации коя от имплементациите да
предпочитаме.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196100"><span
lang=BG>Абстрактна структура данни &quot;множество&quot;</span></a></h3>

<p class=MsoNormal><span lang=BG>Множествата са колекции, в които няма
повтарящи се елементи. В контекста на Java това ще означава, че за всеки обект
от множества извиквайки метода му </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG>, като подаваме като аргумент някои от другите обекти във множеството
резултатът винаги ще е </span><span class=Code><span lang=BG>false</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Някои множества позволяват присъствието в себе
си и на </span><span class=Code><span lang=BG>null</span></span><span lang=BG>,
други не.</span></p>

<p class=MsoNormal><span lang=BG>Освен, че не допуска повтарящи се обекти,
друго важно нещо, което отличава множеството от списъците и масивите е, че
неговите елементи си нямат номер. Елементите на множеството не могат да бъдат
достъпвани по някакъв друг ключ, както е при речниците. Самите елементи играят
ролята на ключ.</span></p>

<p class=MsoNormal><span lang=BG>Единственият начин да достъпите обект от
множество е като разполагате със самия обект или евентуално с обект, който е
еквивалентен на него. Затова на практика достъпваме всички елементи на дадено
множество наведнъж, докато го обхождаме в цикъл. Например чрез разширената
конструкцията за </span><span class=Code><span lang=BG>for</span></span><span
lang=BG> цикъл.</span></p>

<p class=MsoNormal><span lang=BG>Основните операции, които се дефинират от
структурата множество са следните:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean add(element)</span></span><span lang=BG> –
добавя в множеството зададен елемент, като ако вече има такъв елемент, връща </span><span
class=Code><span lang=BG>false</span></span><span lang=BG>, а в противен случай
</span><span class=Code><span lang=BG>true</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean contains(element)</span></span><span lang=BG>
– проверява дали множеството съдържа посочения елемент. Ако го има връща </span><span
class=Code>true</span><span lang=BG>, a в противен случай </span><span
class=Code>false</span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean remove(element)</span></span><span lang=BG> –
премахва посочения елемент от множе­ството, ако съществува. Връща дали е елементът
е бил намерен.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Set intersect(Set other)</span></span><span lang=BG> –
връща сечението на две множества – множество, което съдържа всички елементи,
които са едновременно и в едното и в другото множество.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>Set union(Set other)</span></span><span lang=BG> –
връща обединението на две множества – множество, което съдържа всички елементи,
които са или в едното или в другото множество или и в двете.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>boolean containsAll(Set other)</span></span><span
lang=BG> – проверява дали дадено множе­ство е подмножество на текущото. Връща </span><span
class=Code><span lang=BG>true</span></span><span lang=BG> при положи­телен
отговор и </span><span class=Code><span lang=BG>false</span></span><span
lang=BG> при отрицателен.</span></p>

<p class=MsoNormal><span lang=BG>В Java имаме основен интерфейс, който описва
структурата от данни множество. Това е интерфейсът </span><span class=Code><span
lang=BG>java.util.Set</span></span><span lang=BG>. Той има две основни имплемен­тации
и те са чрез хеш-таблица (</span><span class=Code><span lang=BG>HashSet</span></span><span
lang=BG>) и чрез червено-черно дърво (</span><span class=Code><span lang=BG>TreeSet</span></span><span
lang=BG>). Ако разгледаме внимателно имплементацията на тези класове ще видим,
че те всъщност представляват речници, при които елементът е едновременно ключ и
стойност за наредената двойка. Естест­вено, когато е удобно да работим с
множества</span>,<span lang=BG> трябва да ги предпочи­таме, пред това да
използваме речник.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196101"><span
lang=BG>Операции обединение и сечение на множества</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Повечето от
описаните по-горе методи ги има декларирани и в интер­фейса </span><span
class=Code><span lang=BG>Set</span></span><span lang=BG>. Някои от операциите,
обаче нямат стандартна имплементация и се реализират малко по-специфично.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да реализираме
операцията union (обединение), трябва сами да напи­шем кода</span>,<span
lang=BG> реализиращ такава функционалност, примерно чрез използ­ване на метода </span><span
class=Code><span lang=BG>AddAll()</span></span><span lang=BG>:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> &lt;E&gt; Set&lt;E&gt; union(Set&lt;E&gt; set1, Set&lt;E&gt;
  set2) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>/</span><span style='font-family:"Courier New";color:#006600'>/
  Here w</span><span lang=BG style='font-family:"Courier New";color:#006600'>e
  use HashSet but you can use TreeSet if appropriate</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Set&lt;E&gt; union = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> HashSet&lt;E&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  union.addAll(set1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  union.addAll(set2);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> union;</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Забележете, че създаваме нов обект за
множеството</span>,<span lang=BG> съдържащо обедине­нието, а не добавяме
първото множество към второто. Тук използваме описаната в следващият параграф
имплементация </span><span class=Code><span lang=BG>HashSet</span></span><span
lang=BG>. Благодарение на това след изпълнението на кода първото и второто
множество продъл­жават да съдържат точно елементите, които са съдържали и преди
това.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Друга операция,
която не ни е дадена наготово, е сечението на множе­ства (intersection). За да
я реализираме можем да използваме метода </span><span class=Code><span lang=BG>retainAll()</span></span><span
lang=BG>, който премахва всички елементи от дадено множество, които не се
съдържат в друго подадено като параметър. Ето една реализа­ция на сечение,
отново използваща </span><span class=Code><span lang=BG>HashSet</span></span><span
lang=BG>:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> &lt;E&gt; Set&lt;E&gt; intersect(Set&lt;E&gt; set1,
  Set&lt;E&gt; set2) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>/</span><span style='font-family:"Courier New";color:#006600'>/
  </span><span lang=BG style='font-family:"Courier New";color:#006600'>Here we
  use HashSet but you can use TreeSet if appropriate</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Set&lt;E&gt; intersect = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> HashSet&lt;E&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  intersect.addAll(set1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  intersect.retainAll(set2);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> intersect;</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Отново създаваме нов обект за резултата.
Добавяме в резултата всички елементи от първото множество и след това
премахваме от резултата всички елементи, които не се съдържат във второто
множество.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196102"><span
lang=BG>Реализация с хеш-таблица – клас HashSet&lt;T&gt;</span></a></h3>

<p class=MsoNormal><span lang=BG>Реализацията на множество с хеш-таблица в Java
е класът </span><span class=Code><span lang=BG>HashSet&lt;T&gt;</span></span><span
lang=BG>. Този клас подобно на </span><span class=Code><span lang=BG>HashMap&lt;</span></span><span
class=Code>K, V</span><span class=Code><span lang=BG>&gt;</span></span><span
lang=BG> има конструктори, в които може да се зададат степен на запълване и
начален капацитет. Те имат същият смисъл, защото тук отново използваме
хеш-таблица. Винаги е добре, ако знаете предварително приблизително размерът на
множеството, да го задавате изрично.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За обединението
може да използвате следната оценка на максималния брой елементи в резултата:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>set1.size() +
  set2.size()</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За сечението
оценката на максималния брой елементи в резултата е:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>Math.<i>min</i>(set1.size(),
  set2.size())</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един
изключително прост пример, който демонстрира използване на множества и
описаните в предния параграф методи за обединение и сечение:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Set&lt;String&gt; javaStudents = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> HashSet&lt;String&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>javaStudents.add(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;S. Nakov&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>javaStudents.add(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;V. Kolev&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>javaStudents.add(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;V. Tsanev&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Set&lt;String&gt; linuxStudents = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> HashSet&lt;String&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>linuxStudents.add(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;D. Alexiev&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>linuxStudents.add(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;V. Tsanev&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java Students: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + javaStudents);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Linux Students: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + linuxStudents);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java or Linux Students: &quot; </span><span lang=BG
  style='font-family:"Courier New";color:black'>+</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  <i>union</i>(javaStudents, linuxStudents));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java and Linux Students: &quot; </span><span lang=BG
  style='font-family:"Courier New";color:black'>+</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>  <i>intersect</i>(javaStudents,
  linuxStudents));</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Резултатът от
изпълнението е:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Java Students: [V. Tsanev, S. Nakov, V. Kolev]</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Linux Students: [D. Alexiev, V. Tsanev]</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Java or Linux Students: [D. Alexiev, V. Tsanev, S. Nakov, V.
  Kolev]</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>Java and Linux
  Students: [V. Tsanev]</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Обърнете внимание, че </span><span class=Code><span
lang=BG>V. Tsanev</span></span><span lang=BG> присъства и в двете множества, но
в обединението се появява само веднъж. Именно това показва че един елемент може
да се съдържа най-много веднъж в дадено множество.</span></p>

<h3 style='margin-left:0in;text-indent:0in'><a name="_Toc218196103"><span
lang=BG>Реализация с черно-червено дърво – клас TreeSet&lt;T&gt;</span></a></h3>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>TreeSet&lt;T&gt;</span></span><span
lang=BG> представлява множество, реализирано чрез червено-черно дърво. То има
свойството, че в него елементите се пазят подредени по големина. Това е
причината в него да можем да добавяме само елементи които са сравними.
Припомняме, че в Java това обикновено означава, че обектите са от клас, който
имплементира </span><span class=Code><span lang=BG>Comparable&lt;T&gt;</span></span><span
lang=BG>. Ако това не е така, тук също можем да използваме интерфейса </span><span
class=Code><span lang=BG>Comparator&lt;T&gt;</span></span><span lang=BG>, чрез
който да задаваме наредба или да подменяме естествената.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще демонстрираме
работата с класа </span><span class=Code><span lang=BG>TreeSet&lt;T&gt;</span></span><span
lang=BG> с един не толкова форма­лен и скучен пример. Нека имаме софтуерна
компания, която искала всички нейни служители да се чувстват възможно най-добре
по време на работ­ния ден. Една от задачите, които си е поставило ръководството,
била да се събере списък с всички любими на служителите музикални групи. Целта
била да се състави списък с групите, подредени по азбучен ред. Всеки ден
случайно се избирала една буква и звучали песни на групите започващи с тази
буква. За простота всички имена написани от фирме­ните служители били на
латиница. След като получили данните за всеки от служителите и уволнили хората
с музикални вкусове противоре­чащи на фирмената политика, се получил списък с
не много групи. Проб­лемът бил, че имало много повторения. Нашата цел е от
даден неподреден по никакъв начин списък с групи да премахнем повторенията и да
оставим само различните групи, като ги изведем по азбучен ред. Използването на </span><span
class=Code><span lang=BG>TreeSet</span></span><span lang=BG> не е единственият
начин да се реши тази задача, но тук ще демонстрираме колко просто става това с
негова помощ:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String[] bandNames = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> String[] {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;blind guardian&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;dio&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;grave digger&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;slayer&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;seputltura&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;kiss&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sodom&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;megadeth&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;dio&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;judas priest&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;slayer&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;kreator&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;blind guardian&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;iron maiden&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;accept&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;seputltura&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iced earth&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;slayer&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;helloween&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;running wild&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sodom&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;kiss&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iron maiden&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sodom&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New"'> <span
  style='color:#2A00FF'>&quot;manowar&quot;</span><span style='color:black'>, </span><span
  style='color:#2A00FF'>&quot;slayer&quot;</span><span style='color:black'>, </span><span
  style='color:#2A00FF'>&quot;blind guardian&quot;</span><span
  style='color:black'>, </span><span style='color:#2A00FF'>&quot;accept&quot;</span><span
  style='color:black'>,</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;grave digger&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;accept&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;seputltura&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;dio&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;running wild&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span><span lang=BG style='font-family:"Courier New"'>
  <span style='color:#2A00FF'>&quot;manowar&quot;</span><span style='color:
  black'>, </span><span style='color:#2A00FF'>&quot;iron maiden&quot;</span><span
  style='color:black'>, </span><span style='color:#2A00FF'>&quot;kiss&quot;</span><span
  style='color:black'>,</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;kiss&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>,</span><span lang=BG style='font-family:"Courier New"'> <span
  style='color:#2A00FF'>&quot;manowar&quot;</span><span style='color:black'>, </span><span
  style='color:#2A00FF'>&quot;slayer&quot;</span><span style='color:black'>,</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;seputltura&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span><span lang=BG style='font-family:"Courier New"'>
  <span style='color:#2A00FF'>&quot;manowar&quot;</span><span style='color:
  black'>, </span><span style='color:#2A00FF'>&quot;blind guardian&quot;</span><span
  style='color:black'>,</span></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iron maiden&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sodom&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;dio&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;accept&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;slayer&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;megadeth&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;dio&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;running wild&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;grave digger&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;accept&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;kiss&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iron maiden&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;judas priest&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sodom&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iced earth&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;dio&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;iron maiden&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>, </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;slayer&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;manowar&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> };</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SortedSet&lt;String&gt; uniqueBandNames = </span><b><span
  lang=BG style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=BG style='font-family:"Courier New";color:black'>
  TreeSet&lt;String&gt;();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (String bandName : bandNames) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  uniqueBandNames.add(bandName);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;List of sorted and unique band names:&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (String bandName : uniqueBandNames) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(bandName);</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След изпълнението
на програмата получаваме списъка:</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=536 valign=top style='width:402.0pt;border:solid black 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>List of sorted and unique band names:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>accept</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>blind guardian</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>dio</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>grave digger</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>helloween</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>iced earth</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>iron maiden</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>judas priest</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>kiss</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>kreator</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>manowar</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>megadeth</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>running wild</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>seputltura</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>slayer</span></p>
  <p class=MsoNormal style='margin-top:0in;layout-grid-mode:char'><span
  lang=BG style='font-family:"Courier New";color:black'>sodom</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Фирмата била изненадана от резултата, но пък
тъй като за щастие всяка от групите е била достатъчно продуктивна през годините
на нейното съществуване, лесно можели да заменят случайната буква със случайна
група от списъка.</span></p>

<p class=MsoNormal><span lang=BG>В крайна сметка важно е да си дадете сметка,
че работата с множества е наистина лесна и проста. Ако познавате добре тяхната
структура, ще можете и да ги ползвате ефективно и на място.</span></p>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196104"><span
lang=BG>Упражнения</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Напишете програма, която премахва всички числа, които се срещат нечетен
брой пъти в дадена редица. Например, ако имаме началната редица {4, 2, 2, 5, 2,
3, 2, 3, 1, 5, 2, 6, 6, 6}, трябва да я редуцираме до редицата {5, 3, 3, 5}.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Реализирайте клас </span><span class=Code><span lang=BG>DictHashSet&lt;Т&gt;</span></span><span
lang=BG>, базиран на класа </span><span class=Code><span lang=BG>HashDictionary</span></span><span
class=Code><span lang=BG> </span></span><span class=Code><span lang=BG>&lt;K,
V&gt;</span></span><span lang=BG>, който разгледахме по-горе.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Реализирайте хеш-таблица, която съхранява тройки стойности (ключ1,
ключ2, стойност) и позволява бързо търсене по двойка ключове и добавяне на
тройки стойности.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Реализирайте хеш-таблица, която позволява по даден ключ да съхраняваме
повече от една стойност.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Реализирайте хеш-таблица, която използва кукувиче хеширане с 3 хеш
функции за разрешаване на колизиите.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>6.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Дадени са три редици от числа, дефинирани чрез формулите:</span></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>f<sub>1</sub>(0) </span>= 1; f<sub><span lang=BG>1</span></sub>(k) =
2*f<sub><span lang=BG>1</span></sub>(k-1)<span lang=BG> + 3</span>;  <span
lang=BG>f<sub>1</sub></span><sub><span lang=BG> </span></sub>= {<span lang=BG>1,</span>
5, 13, 29, …}</p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>f<sub>2</sub>(0) </span>=<span lang=BG> 2</span>; f<sub><span lang=BG>2</span></sub>(k)
= <span lang=BG>3</span>*f<sub><span lang=BG>2</span></sub>(k-1)<span lang=BG>
+ 1</span>;  <span lang=BG>f</span><sub>2 </sub>= {2<span lang=BG>,</span> 7,
22, 67, …}</p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>f</span><sub>3</sub><span lang=BG>(0) </span>= 2; f<sub>3</sub>(k) =
2*f<sub>3</sub>(k-1) -<span lang=BG> 1</span>;  <span lang=BG>f</span><sub>3 </sub>=
{2<span lang=BG>,</span> 3, 5, 9, …}</p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Напишете програма,
която намира сечението и обединението на множе­ствата от членовете на редиците в
интервала [0; 100000]: f<sub>1 </sub></span><span lang=BG style='font-family:
"Arial","sans-serif"'>*</span><span lang=BG> f<sub>2</sub>; f<sub>1 </sub></span><span
lang=BG style='font-family:"Arial","sans-serif"'>* </span><span lang=BG>f<sub>3</sub>;
f<sub>2 </sub></span><span lang=BG style='font-family:"Arial","sans-serif"'>*</span><span
lang=BG> f<sub>3</sub>; f<sub>1</sub> </span><span lang=BG style='font-family:
"Arial","sans-serif"'>*</span><span lang=BG> f<sub>2</sub> * f<sub>3</sub>; f<sub>1
</sub></span><span lang=BG style='font-family:"Arial","sans-serif"'>+</span><span
lang=BG> f<sub>2</sub>; f<sub>1 </sub></span><span lang=BG style='font-family:
"Arial","sans-serif"'>+</span><span lang=BG> f<sub>3</sub>; f<sub>2 </sub></span><span
lang=BG style='font-family:"Arial","sans-serif"'>+</span><span lang=BG> f<sub>3</sub>;
f<sub>1</sub> </span><span lang=BG style='font-family:"Arial","sans-serif"'>+</span><span
lang=BG> f<sub>2</sub> </span><span lang=BG style='font-family:"Arial","sans-serif"'>+</span><span
lang=BG> f<sub>3</sub>. Със символите + и * означаваме съответно обединение и
сечение на множества.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>7.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>* Дефинирайте клас </span><span class=Code>TreeMultiSet</span><span
class=Code><span lang=BG>&lt;T&gt;</span></span><span lang=BG>, който позволява
да пазим</span><span lang=BG> </span><span lang=BG>съвкупност от елементи,
подредени по големина и позволява повто­рения на някои от елементите.
Реализирайте операциите добавяне на елемент, търсене на броя срещания на даден
елемент, изтриване на елемент, итератор, намиране на най-малък / най-голям
елемент, изтриване на най-малък / най-голям елемент. Реализирайте възможност за
подаване на външен </span><span class=Code><span lang=BG>Comparator&lt;T&gt;</span></span><span
lang=BG> за сравнение на елементите.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>8.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>* Даден е списък с времената на пристигане и заминаване на всички
автобуси от дадена автогара. Да се напише програма, която използ­вайки </span><span
class=Code><span lang=BG>TreeSet</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>HashSet</span></span><span lang=BG> класовете по даден
интервал (начало, край) намира броя автобуси, които успяват да пристигнат и да
напуснат авто­гарата. Пример:</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Имаме данните за
следните автобуси: [08:24-08:33], [08:20-09:00], [08:32-08:37], [09:00-09:15].
Даден е интервалът [08:22-09:05]. Броят автобуси, които идват и си тръгват в
рамките на този интервал е 2.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>9.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>* Дадена е редица </span><span class=Code><span lang=BG>P</span></span><span
lang=BG> с цели числа</span> (1 &lt; P &lt; 50 000)<span lang=BG> и число N.
Щастлива подредица в редицата </span><span class=Code><span lang=BG>P</span></span><span
lang=BG> </span><span lang=BG>наричаме всяка съвкупност, състояща се</span><span
lang=BG> </span><span lang=BG>от последо­вателни числа от </span><span
class=Code><span lang=BG>P</span></span><span lang=BG>, чиято сума е </span>N<span
lang=BG>. Да си представим, че имаме редицата </span><span class=Code>S</span><span
lang=BG>, състояща се от всички щастливи подредици в </span><span class=Code>P</span><span
lang=BG>, подредени в намаляващ ред спрямо дължината им. Напишете програма,
която извежда първите 10 елемента на </span><span class=Code>S</span><span
lang=BG>.</span><span lang=BG> </span><span lang=BG>Пример</span>:</p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Имаме </span>N=5 и <span
lang=BG>редицата </span><span class=Code><span lang=BG>P</span></span><span
lang=BG>=</span><span class=Code><span lang=BG>{1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>2</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>-1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>2</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>3</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>-1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>2</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>3</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>5</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>-1</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>2</span></span><span lang=BG>, </span><span
class=Code><span lang=BG>3}</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Редицата </span><span
class=Code><span lang=BG>S</span></span><span lang=BG> се състои от следните 13
подредици на </span><span class=Code><span lang=BG>P</span></span><span
lang=BG>:</span></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[1, -1, 2, 3, -1, 1]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[1, 2, 1, -1, 2]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[1, -1, 2, 3]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[2, 3, -1, 1]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[3, -1, 1, 2]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[-1, 1, 2, 3]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[1, -1, 2, 3]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[1, 1, 2, 1]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[5, 1, -1]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>[2, 3]</span></b></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>[2, 3]</span></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>[2, 3]</span></p>

<p class=MsoNormal style='margin-left:42.55pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>[5]</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Първите 10 елемента
на P са дадени с удебелен шрифт.</span></p>

<h2 style='margin-left:0in;text-indent:0in'><a name="_Toc218196105"><span
lang=BG>Решения и упътвания</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Използвайте </span><span class=Code><span lang=BG>HashMap</span></span>
и <span class=Code><span lang=BG>ArrayList</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Използвайте за ключ и за стойност една и съща стойност – елементът от
множеството.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Използвайте хеш-таблица от хеш-таблици.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Ползвайте </span><span class=Code><span lang=BG>Hash</span></span><span
class=Code>Map</span><span class=Code><span lang=BG>&lt;K, </span></span><span
class=Code>Array</span><span class=Code><span lang=BG>List&lt;V&gt;&gt;</span></span>.</p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Можете за първа хеш-функция да ползвате </span><span class=Code><span
lang=BG>hashCode() % size</span></span><span lang=BG>, за втора да ползвате </span><span
class=Code><span lang=BG>(hashCode() * 31 + 7) % size</span></span><span
lang=BG>, a за трета – (</span><span class=Code><span lang=BG>hashCode() *
hashCode() + 19) % size</span></span><span lang=BG>).</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>6.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Намерете всички членове на трите редици в посочения интервал и след
това използвайки </span><span class=Code><span lang=BG>HashSet&lt;Integer&gt;</span></span><span
lang=BG> </span><span lang=BG>реализирайте обединение и сече­ние на множества,
след което направете исканите пресмятания.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>7.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Класът </span><span class=Code><span lang=BG>TreeMultiSet&lt;T&gt;</span></span><span
lang=BG> можете да реализираме чрез </span><span class=Code><span lang=BG>TreeMap&lt;K,
Integer&gt;</span></span><span lang=BG>, който пази броя срещания на всеки от
ключовете.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>8.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Очевидното решение е да проверим всеки от автобусите дали пристига и си
тръгва в посочения интервал. Според условието на задачата, обаче, трябва да
ползваме класовете </span><span class=Code><span lang=BG>TreeSet</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>HashSet</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Решението е такова:
можем да дефинираме клас </span><span class=Code><span lang=BG>TimeInterval</span></span><span
lang=BG> и да си направим две множества </span><span class=Code><span lang=BG>TreeSet&lt;TimeInterval&gt;</span></span><span
lang=BG>, в които да пазим разписанията на автобусите, подредени съответно по
час на пристигане и по час на отпътуване. Ще трябва да дефинираме и две
имплемен­тации на </span><span class=Code><span lang=BG>Comparator&lt;TimeInterval&gt;</span></span><span
lang=BG>. Накрая можем да намерим множе­ствата на всички автобуси, които
пристигат след началния час и на всички автобуси, отпътуващи преди крайния час.
Сечението на тези множе­ства дава търсените автобуси. Сечението можем да
намерим с </span><span class=Code><span lang=BG>HashSet&lt;</span></span><span
class=Code><span lang=BG> </span></span><span class=Code><span lang=BG>TimeInterval&gt;</span></span><span
lang=BG> при подходящо дефинирани </span><span class=Code><span lang=BG>hashCode()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>equals()</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:14.2pt;text-indent:-14.2pt'><span
lang=BG>9.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Първата идея за решаване на задачата е проста: с два вложени цикъла
намираме всички щастливи подредици на редицата P, след което ги сортираме по
дължината им и накрая извеждаме първите 10. Това, обаче няма да работи добре, ако
броят щастливи подредици са десетки милиони.</span></p>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Ще опишем една идея
за по-ефективно решение. Ще използваме класа </span><span class=Code>TreeMultiSet</span><span
class=Code><span lang=BG>&lt;T&gt;</span></span><span lang=BG>. В него ще
съхраняваме първите 10 подредици от </span><span class=Code><span lang=BG>S</span></span><span
lang=BG>, т.е. мултимножество от щастливите подредици на </span><span
class=Code><span lang=BG>P</span></span><span lang=BG>, подредени по дължина в
намаляващ ред.</span><span lang=BG> </span><span lang=BG>Когато имаме 10
подредици в мултимноже­ството и добавим нова 11-та подредица, тя ще застане на
мястото си заради компаратора, който сме дефинирали. След това можем веднага да
изтрием последната подредица от мултимножеството, защото тя не е сред първите
10. Така във всеки един момент ще пазим текущите 10 най-дълги подредици. По
този начин ще консумираме много по-малко памет и ще избегнем сортирането
накрая. Имплементацията няма да е лесна, така че отделете достатъчно време!</span></p>

</div>

<span style='font-size:10.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span>

</div>

</body>

</html>
