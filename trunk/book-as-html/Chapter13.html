<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>Introduction to Programming with Java Book - Chapter 13</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 5 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial CYR";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:SunSans-Regular;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:SAfon;}
@font-face
	{font-family:"Courier New CYR";
	panose-1:2 7 3 9 2 2 5 2 4 4;}
@font-face
	{font-family:StarSymbol;}
@font-face
	{font-family:OpenSymbol;
	panose-1:5 1 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sawasdee;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"MV Boli";}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Academy;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Antiqua;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Baltica;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Bookvar;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Ariel";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Courier";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Dutch Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Garamond Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Kursiv";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Palatia";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Roman Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Bulgarian Times Italic";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Domkrat;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Geneva;
	panose-1:2 2 226 0 0 0 0 0 0 0;}
@font-face
	{font-family:Hebar;
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Izhitsa;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Kaliakra;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:Karina;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:KarinaBlack;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OldCyr;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Opal;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:OpalB;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TimesNakov;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Timok;
	panose-1:2 11 114 0 0 0 0 0 0 0;}
@font-face
	{font-family:TmsCyr;
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:Zhikaryov;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"OCR-B 10 BT";
	panose-1:2 11 6 1 2 2 2 2 2 4;}
@font-face
	{font-family:"OCR-A BT";
	panose-1:2 15 5 1 2 2 4 2 3 4;}
@font-face
	{font-family:"WP MultinationalA Courier";
	panose-1:5 0 0 9 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Courier";
	panose-1:2 6 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"WP MultinationalA Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalB Helve";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"WP MultinationalA Roman";
	panose-1:2 2 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"WP MultinationalB Roman";
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Nina;
	panose-1:2 11 6 6 3 5 4 4 2 4;}
@font-face
	{font-family:sshlinedraw;
	panose-1:0 0 4 9 0 0 0 0 0 0;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:"DejaVu Sans";
	panose-1:2 11 6 3 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Condensed";
	panose-1:2 11 6 6 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Mono";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
@font-face
	{font-family:"DejaVu Serif";
	panose-1:2 6 6 3 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Serif Condensed";
	panose-1:2 6 6 6 5 6 5 2 2 4;}
@font-face
	{font-family:"DejaVu Sans Light";
	panose-1:2 11 2 3 3 8 4 2 2 4;}
@font-face
	{font-family:"Myriad Pro";
	panose-1:2 11 6 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web";
	panose-1:2 11 8 3 3 4 3 2 2 4;}
@font-face
	{font-family:"Myriad Web Pro";
	panose-1:2 11 5 3 3 4 3 2 2 4;}
@font-face
	{font-family:Myriade;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Myriad Web Pro Condensed";
	panose-1:2 11 5 6 3 4 3 2 2 4;}
@font-face
	{font-family:"Segoe Condensed";
	panose-1:2 11 6 6 4 2 0 2 2 3;}
@font-face
	{font-family:ZWAdobeF;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@StarSymbol";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:.5in;
	margin-left:0in;
	text-align:center;
	page-break-after:avoid;
	font-size:24.0pt;
	font-family:"Verdana","sans-serif";}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Verdana","sans-serif";}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Verdana","sans-serif";}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:9.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Verdana","sans-serif";}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#243F60;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:9.9pt;
	text-align:justify;
	font-size:9.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:20.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:30.05pt;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:-14.15pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	background:navy;
	font-size:10.0pt;
	font-family:"Tahoma","sans-serif";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Cambria","serif";
	color:#243F60;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Cambria","serif";
	color:#243F60;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Cambria","serif";
	color:#404040;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Cambria","serif";
	color:#404040;
	font-style:italic;}
span.Code
	{mso-style-name:Code;
	font-family:"Courier New";
	font-weight:bold;}
p.WarningMessage, li.WarningMessage, div.WarningMessage
	{mso-style-name:"Warning Message";
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
p.WarningMessageAfter6pt, li.WarningMessageAfter6pt, div.WarningMessageAfter6pt
	{mso-style-name:"Warning Message + After\:  6 pt";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Verdana","sans-serif";
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
 /* Page Definitions */
 @page Section1
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section1
	{page:Section1;}
@page Section2
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section2
	{page:Section2;}
@page Section3
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section3
	{page:Section3;}
@page Section4
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section4
	{page:Section4;}
@page Section5
	{size:467.8pt 666.25pt;
	margin:49.6pt 42.55pt 28.35pt 42.55pt;}
div.Section5
	{page:Section5;}
@page Section6
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section6
	{page:Section6;}
@page Section7
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section7
	{page:Section7;}
@page Section8
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section8
	{page:Section8;}
@page Section9
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section9
	{page:Section9;}
@page Section10
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section10
	{page:Section10;}
@page Section11
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section11
	{page:Section11;}
@page Section12
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section12
	{page:Section12;}
@page Section13
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section13
	{page:Section13;}
@page Section14
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section14
	{page:Section14;}
@page Section15
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section15
	{page:Section15;}
@page Section16
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section16
	{page:Section16;}
@page Section17
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section17
	{page:Section17;}
@page Section18
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section18
	{page:Section18;}
@page Section19
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section19
	{page:Section19;}
@page Section20
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section20
	{page:Section20;}
@page Section21
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section21
	{page:Section21;}
@page Section22
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section22
	{page:Section22;}
@page Section23
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section23
	{page:Section23;}
@page Section24
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section24
	{page:Section24;}
@page Section25
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section25
	{page:Section25;}
@page Section26
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section26
	{page:Section26;}
@page Section27
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section27
	{page:Section27;}
@page Section28
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section28
	{page:Section28;}
@page Section29
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section29
	{page:Section29;}
@page Section30
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section30
	{page:Section30;}
@page Section31
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section31
	{page:Section31;}
@page Section32
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section32
	{page:Section32;}
@page Section33
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section33
	{page:Section33;}
@page Section34
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section34
	{page:Section34;}
@page Section35
	{size:467.8pt 666.25pt;
	margin:49.6pt 35.45pt 28.35pt 35.45pt;}
div.Section35
	{page:Section35;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=Section21>

<h1><a name="_Toc218278551"></a><a name="_Toc218195924"></a><a
name="_Глава_13._Символни"></a><span lang=BG>Глава 13. Символни низове</span></h1>

<h2><a name="_Toc218195925"><span lang=BG>Автор</span></a></h2>

<p class=MsoNormal style='margin-left:14.2pt'><span lang=BG>Марио Пешев</span></p>

<h2><a name="_Toc218195926"><span lang=BG>В тази тема...</span></a></h2>

<p class=MsoNormal><span lang=BG>В настоящата тема ще се запознаем със
символните низове: как са реализирани те в Java и по какъв начин можем да
обработваме текстово съдържание. Ще прегледаме различни методи за манипулация
на текст; ще научим как да извличаме поднизове по зададени параметри, как да
търсим за ключови думи, както и да отделяме един низ по разделители. Ще се
запознаем с методи и класове за по-елегантно и стриктно формати­ране на
текстовото съдържание на конзолата, с различни методики за извеждане на числа,
а също и с извеждането на отделни компоненти на текущата дата. Накрая ще
предоставим полезна информация за регуляр­ните изрази и ще научим по какъв
начин да извличаме данни, отговарящи на определен шаблон.</span></p>

<b><span lang=BG style='font-size:14.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<h2><a name="_Toc218195927"><span lang=BG>Символни низове</span></a></h2>

<p class=MsoNormal><span lang=BG>В практиката често се налага обработката на
текст: четене на текстови файлове, търсене на ключови думи и заместването им в
даден параграф, валидиране на входни потребителски данни и др. В такива случаи
можем да запишем текстовото съдържание, с което ще боравим, в символни низове,
и да го обработим с помощта на езика Java.</span></p>

<h3><a name="_Toc218195928"><span lang=BG>Какво е символен низ (стринг)?</span></a></h3>

<p class=MsoNormal><span lang=BG>Символният низ е последователност от символи,
записана на даден адрес в паметта. Помните ли типа </span><span class=Code><span
lang=BG>char</span></span><span lang=BG>? В променливите от тип </span><span
class=Code><span lang=BG>char</span></span><span lang=BG> можем да запишем само
1 символ. Когато е необходимо да обработваме повече от един символ, на помощ
идват стринговете. </span></p>

<p class=MsoNormal><span lang=BG>В Java всеки символ има пореден номер в <b>Unicode</b>
таблицата. Unicode е стандарт, създаден в края на 80-те и началото на 90-те
години с цел съхраняването на различни типове текстови данни. Предшественикът
му ASCII позволява записването на едва 128 или 256 символа (ASCII стан­дарт със
7-битова или 8-битова таблица). За съжаление, това често не удовлетворява
нуждите на потребителя – тъй като в 128 символа могат да се поберат само цифри,
малки и главни латински букви и някои специ­ални знаци. Когато опре до работа с
текст на кирилица или друг специфи­чен език (например азиатски или африкански),
128 символа са напълно недостатъчни. Ето защо Java използва 16-битова кодова
таблица за символи. С помощта на знанията ни за бройните системи и предста­вянето
на информацията в компютрите, можем да сметнем, че кодовата таблица съхранява
2^16 = 65536 символа. Някои от символите се кодират по специфичен начин, така
че е възможно използването на 2 символа от Unicode таблицата за създаване на
нов символ – така получените знаци надхвърлят 100&nbsp;000.</span></p>

<h3><a name="_Toc218195929"><span lang=BG>Класът java.lang.String</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Класът </span><span
class=Code><span lang=BG>java.lang.String</span></span><span lang=BG> позволява
обработка на символни низове в Java. Работата със </span><span class=Code><span
lang=BG>String</span></span><span lang=BG> ни улеснява при манипулацията на
текстови данни: построяване на текстове, търсене в текст и много други
операции. Пример за декларация на символен низ:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String greeting = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello, Java&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Декларирахме
променливата </span><span class=Code><span lang=BG>greeting</span></span><span
lang=BG> от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>, която има съдър­жание &quot;</span><span class=Code><span lang=BG>Hello,
Java</span></span><span lang=BG>&quot;. Представянето на съдържанието в
символния низ изглежда по подобен начин:</span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=283
 style='width:2.95in;border:solid windowtext 1.0pt'>
 <tr style='height:18.75pt'>
  <td width=26 style='width:19.6pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>H</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>e</span></b></p>
  </td>
  <td width=24 style='width:.25in;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>l</span></b></p>
  </td>
  <td width=26 style='width:19.3pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>l</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>o</span></b></p>
  </td>
  <td width=26 style='width:19.35pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>,</span></b></p>
  </td>
  <td width=26 style='width:19.2pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span lang=BG>&nbsp;</span></p>
  </td>
  <td width=26 style='width:19.45pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>J</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>a</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>v</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:18.75pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>a</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=BG>Вътрешното представяне на класа е съвсем
просто – масив от символи. По принцип ние можем да избегнем използването на
класа, като декларираме променлива от тип </span><span class=Code><span
lang=BG>char[]</span></span><span lang=BG> и запълним елементите на масива
символ по символ. Недостатъците на това обаче са няколко:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Запълването на масива става символ по символ, а не наведнъж.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Трябва да знаем колко дълъг ще е текстът, за да сме наясно дали ще се
побере в заделеното място за масива.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Обработката на текстовото съдържание става ръчно.</span></p>

<h4><span lang=BG>Класът String – универсално решение?</span></h4>

<p class=MsoNormal><span lang=BG>Използването на </span><span class=Code><span
lang=BG>String </span></span><span lang=BG>не е идеално и универсално решение –
понякога е уместно използването на други символни структури.</span></p>

<p class=MsoNormal><span lang=BG>В Java съществуват и други класове за
обработка на текст – с някои от тях ще се запознаем по-нататък в главата.</span></p>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> има важна особеност – последователностите от символи, записани в
променлива от класа, са <b>неизменими (immutable)</b>. Веднъж записано,
съдържанието на променливата не се променя директно - ако опитаме да променим
стойността, тя ще бъде записана на ново място в динамичната памет, а
променливата ще започне да сочи към него.</span></p>

<p class=MsoNormal><span lang=BG>Типът </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> е по-особен от останалите типове данни. Той е клас и спазва принципите
на обектно-ориентираното програмиране: стойностите се записват в динамичната памет,
а променливите пазят препратка към паметта (референция към обект в динамичната
памет). От друга страна, </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> променливите са неизменими. Ако няколко променливи сочат към една и
съща област в паметта с дадена стойност, тази стойност не може да бъде директно
променена. Промяната ще се отрази само на променливата, чрез която е
редактирана стойността, тъй като това ще създаде нова стойност в динамичната
памет и ще насочи въпросната променлива към нея, докато останалите променливи
ще сочат на старото място.</span></p>

<h3><a name="_Toc218195930"><span lang=BG>Символни низове – прост пример</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използването на
променливи от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> изглежда по следния начин:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String msg = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Stand up, stand up, Balkan superman.&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;msg = \&quot;%s\&quot;%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, msg);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;msg.length() = %d%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, msg.length());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> i = 0; i &lt; msg.length(); i++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.out.printf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;msg[%d] = %c%n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, i, msg.charAt(i));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В посочения
фрагмент от код виждаме декларация на променливата </span><span class=Code><span
lang=BG>s</span></span><span lang=BG> и задаването на стойност:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span class=Code><span lang=BG>Stand up, stand up,
  Balkan superman</span></span><span lang=BG>.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Обърнете внимание
на стойността на стринга – кавичките не са част от текста, а ограждат
стойността му.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето как изглежда
резултатът от изпълнението на горния пример</span> (<span lang=BG>със
съкращения</span>)<span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg = &quot;Stand up, stand up, Balkan superman.&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg.length() = 36</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg[0] = S</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg[1] = t</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg[2] = a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg[3] = n</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>msg[4] = d</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span class=Code><span lang=BG>...</span></span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218195931">Escaping <span lang=BG>при символните низове</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако искаме да
използваме кавички в съдържанието, тогава трябва да поставим наклонена черта
преди тях за указание на компилатора.</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String quote = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Book’s title is \&quot;Intro to Java\&quot;&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Съдържанието на
променливата </span><span class=Code><span lang=BG>quote</span></span><span
lang=BG> е:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span class=Code><span lang=BG style='font-weight:normal'>Book's
  title is &quot;Intro to Java&quot;</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Кавичките този път са част от текста. В
променливата те са добавени чрез поставянето им след екраниращия знак (<b>escaping
character</b>) обратна наклонена черта (</span><span class=Code><span lang=BG>\</span></span><span
lang=BG>). По този начин компилаторът разбира, че кавичките не служат за начало
или край на символен низ, а са част от данните. Наклонената черта се използва
за символи, които играят специална роля в текста (в случая кавичките) или за
дефиниране на действие, което не може да се изрази със символ. Пример за втория
случай са обознача­ването на символ за нов ред (</span><span class=Code><span
lang=BG>\n</span></span><span lang=BG>), табулация (</span><span class=Code><span
lang=BG>\t</span></span><span lang=BG>), избор на символ по неговия Unicode (</span><span
class=Code><span lang=BG>\uXXXX</span></span><span lang=BG>, където с </span><span
class=Code><span lang=BG>X</span></span><span lang=BG> се обозначава кодът) и
др.</span></p>

<h3><a name="_Toc218195932"><span lang=BG>Деклариране на символен низ</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да
декларираме променливи от тип символен низ чрез класа </span><span class=Code><span
lang=BG>java.lang.String</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Декларацията на символен низ представлява
декларация на променлива от класа </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Това не е еквивалентно на създаването на променлива и заделянето на
памет за нея! С декларацията уведомяваме компилатора, че ще използваме
променлива </span><span class=Code><span lang=BG>str</span></span><span
lang=BG> и очакваният тип за нея е </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Ние не създаваме променливата в паметта и тя все още не е достъпна за
обра­ботки (има стойност </span><span class=Code><span lang=BG>null</span></span><span
lang=BG>, което означава липса на стойност).</span></p>

<h3><a name="_Toc218195933"><span lang=BG>Създаване и инициализиране на
символен низ</span></a></h3>

<p class=MsoNormal><span lang=BG>За да може да обработваме декларираната променлива,
трябва да я създадем и инициализираме. Създаването на променлива на клас
(познато още като <b>инстанциране</b>) е процес, свързан със заделянето на
област в динамичната памет. Преди да зададем конкретна стойност на символния
низ, стойността му е </span><span class=Code><span lang=BG>null</span></span><span
lang=BG>. Това може да бъде объркващо за начинаещия програмист:
неинициализираните променливи от типа </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> не съдържат празни стойности, а специалната стойност </span><span
class=Code><span lang=BG>null</span></span><span lang=BG> – и опитът за манипу­лация
на такъв стринг ще генерира грешка (изключение за достъп до липсваща стойност </span><span
class=Code><span lang=BG>NullPointerException</span></span><span lang=BG>)!</span></p>

<p class=MsoNormal><span lang=BG>Можем да инициализираме променливи по 3
начина:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Чрез задаване на символна константа</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Чрез присвояване стойността на друг символен низ</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Чрез предаване стойността на операция, връщаща символен низ</span></p>

<h4><span lang=BG>Задаване на символна константа</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Задаването на
символна константа (<b>литерал</b>) означава предаване на предефинирано
текстово съдържание на променлива от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Използваме такъв тип инициализация, когато знаем стойността, която
трябва да се съхрани в променливата. Пример за задаване на константа е:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String website = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;http://academy.devbg.org&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Тук създаваме променливата </span><span
class=Code><span lang=BG>website</span></span><span lang=BG> и й задаваме
константна стойност, която е приемлива за типа </span><span class=Code><span
lang=BG>String</span></span><span lang=BG> (символен литерал).</span></p>

<h4><span lang=BG>Присвояване стойността на друг символен низ</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Присвояването на
стойността е еквивалентно на насочване на </span><span class=Code><span
lang=BG>String</span></span><span lang=BG> променлива към друга променлива от
същия тип. Пример за това е следният фрагмент:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String source = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Some source&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String assigned = source;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В примера
откриваме съществуващата променлива </span><span class=Code><span lang=BG>source</span></span><span
lang=BG>, която има присвоена стойност. Присвояването на въпросната стойност на
друга променлива е във втория ред - променливата </span><span class=Code><span
lang=BG>assigned</span></span><span lang=BG> приема стойността на </span><span
class=Code><span lang=BG>source</span></span><span lang=BG>. Тъй като класът </span><span
class=Code><span lang=BG>String</span></span><span lang=BG> е референтен тип,
на по-ниско ниво &quot;</span><span class=Code><span lang=BG>Some source</span></span><span
lang=BG>&quot; е записано в динамичната памет (heap, хийп), сочено от първата
променлива. На втория ред пренасочваме променливата </span><span class=Code><span
lang=BG>assigned</span></span><span lang=BG> към същото място, към което сочи
другата променлива. Така двата обекта имат една и съща стойност:</span></p>

<p class=MsoNormal align=center style='margin-bottom:6.0pt;text-align:center'><span
lang=BG><img border=0 width=355 height=150
src="image107.gif"></span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Промяната на коя
да е от променливите обаче ще се отрази само и единствено на нея, поради неизменността
на типа </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Това не се отнася за останалите референтни типове, които не са
неизменни (immutable), защото при тях промените се нанасят на адреса в паметта
и всички референции сочат към променения обект.</span></p>

<h4><span lang=BG>Предаване стойността на операция, връщаща символен низ</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Третият вариант за
инициализиране на символен низ е предаването на стойността на израз или
операция, която връща същия резултат. Това може да бъде резултат от метод,
който валидира данни; събиране на стойностите на няколко константи и променливи,
преобразуване на съществуваща променлива и др. Пример за израз, връщащ символен
низ:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String email = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;some@email.bg&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String info = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;My mail is: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> + email + </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// My mail is: some@email.bg.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Променливата </span><span class=Code><span
lang=BG>info</span></span><span lang=BG> е създадена от съединяването (<b>concatenation</b>)
на литерали и променлива.</span></p>

<h3><a name="_Toc218195934"><span lang=BG>Четене и печатане на конзолата</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека сега
разгледаме как можем да четем символни низове, въведени от потребителя, и как
можем да печатаме символни низове на стандартния изход (на конзолата).</span></p>

<h4><span lang=BG>Четене на символни низове</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Четенето на
символни низове може да бъде осъществено чрез методите на познатия ни клас </span><span
class=Code><span lang=BG>java.util.Scanner</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Scanner input = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Scanner(System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>in</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String name = input.nextLine();</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>На първо време създаваме инстанция от класа </span><span
class=Code><span lang=BG>Scanner</span></span><span lang=BG>, подавайки като
параметър входния поток </span><span class=Code><span lang=BG>System.in</span></span><span
lang=BG>.</span><span lang=BG> След това, използвайки създадения обект,
прочитаме от конзолата входните данни чрез метода </span><span class=Code><span
lang=BG>nextLine()</span></span><span lang=BG>.</span><span lang=BG> След
натискане на клавиша </span>[<span lang=BG>Enter</span>] <span lang=BG>от
потребителя, променливата </span><span class=Code><span lang=BG>name</span></span><span
lang=BG> ще съдържа въведеното име от клавиатурата.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Какво можем да
правим, след като променливата е създадена и в нея има стойност? Например да я
използваме в изрази с други символни низове, да я подаваме като параметър на
методи, да я записваме в текстови документи и др. На първо време, можем да я
изведем на конзолата, за да се уверим, че данните са прочетени коректно.</span></p>

<h4><span lang=BG>Отпечатване на символни низове</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Извеждането на
данни се извършва чрез изходния поток </span><span class=Code><span lang=BG>System.out</span></span><span
lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Your name is: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + name);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използвайки метода
</span><span class=Code><span lang=BG>println(</span></span><b><span lang=BG
style='font-family:"Courier New"'>…<span class=Code>)</span></span></b><span
lang=BG> извеждаме съобщението: </span><span class=Code><span lang=BG>Your name
is:</span></span><span lang=BG>, придружено със стойността на променливата </span><span
class=Code><span lang=BG>name</span></span><span lang=BG>. След края на съобще­нието
се добавя символ за нов ред, като следващото съобщение ще бъде изведено на
следващия ред на конзолата. Ако искаме да избегнем символа за нов ред и
съобщенията да се извеждат на един и същ, тогава прибягваме към метода </span><span
class=Code><span lang=BG>print(</span></span><b><span lang=BG style='font-family:
"Courier New"'>…<span class=Code>)</span></span></b><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В случай, че ни
трябва по-прецизен форматиран изход, на помощ идва методът </span><span
class=Code><span lang=BG>printf(…)</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello, %s, have a nice reading!&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, name);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Ако стойността на променливата </span><span
class=Code><span lang=BG>name</span></span><span lang=BG> е &quot;</span><span
class=Code><span lang=BG>Mario Peshev</span></span><span lang=BG>&quot;, то
резултатът от изпълнението на горния ред ще е </span><span class=Code><span
lang=BG>Hello, Mario Peshev, have a nice reading!</span></span></p>

<h2><a name="_Toc218195935"><span lang=BG>Операции върху символни низове</span></a></h2>

<p class=MsoNormal><span lang=BG>След като се запознахме със семантиката на
символните низове, как можем да ги създаваме и извеждаме, следва да се научим
как да боравим с тях и да ги обработваме. Езикът Java ни дава набор от готови
функции, които ще използваме за манипулация над стринговете.</span></p>

<h3><a name="_Toc218195936"><span lang=BG>Сравняване на низове по азбучен ред</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Има множество
начини за сравнение на символни низове. В зависимост от това какво точно ни е
необходимо в конкретния случай, може да се възползваме от различни възможности
на класа </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>.</span></p>

<h4><span lang=BG>Сравнение за еднаквост</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако условието
изисква да сравним два символни низа и да установим дали стойностите им са
еднакви или не, удобни методи са </span><span class=Code><span lang=BG>equals(…)</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>equalsIgnoreCase(…)</span></span><span
lang=BG>. Двата метода връщат булев резултат със стойност </span><span
class=Code><span lang=BG>true</span></span><span lang=BG>, ако низовете имат
еднакви стойности, и </span><span class=Code><span lang=BG>false</span></span><span
lang=BG>, ако те са различни. Първата функция проверява за равенство на
стойностите на про­менливите, като прави разлика между малки и главни букви.
Т.е. сравняването на &quot;Java&quot; и &quot;JAVA&quot; с метода </span><span
class=Code><span lang=BG>equals(…)</span></span><span lang=BG> ще върне
стойност </span><span class=Code><span lang=BG>false</span></span><span
lang=BG>. В практиката често ще ни интересува самото съдържание, без значение
от регистъра (<b>casing</b>) на буквите. Използването на метода </span><span
class=Code><span lang=BG>equalsIgnoreCase(…)</span></span><span lang=BG> в
горния пример би игнорирал разликата между малки и главни букви и ще върне
стойност </span><span class=Code><span lang=BG>true</span></span><span lang=BG>.</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String word1 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String word2 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;JAVA&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(word1.equals(word2)); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// false</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(word1.equalsIgnoreCase(word2)); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// true</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Сравнение на низове по азбучен ред</span></h4>

<p class=MsoNormal><span lang=BG>Дотук добре, но как ще установим
лексикографската подредба на няколко низа? Ако искаме да сравним две думи и да
получим данни коя от тях е преди другата, според азбучния ред на буквите в нея,
на помощ идват </span><span class=Code><span lang=BG>compareTo(…)</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>compareToIgnoreCase(…)</span></span><span
lang=BG>. Двата метода ни дават възмож­ност да сравним стойностите на два
символни низа, като установим лексикографския им ред.</span></p>

<p class=MsoNormal><span lang=BG>Връщайки се на темата за кодировката на
символите, си припомняме, че всеки символ има свой уникален номер в Unicode
таблицата. Например главната латинска буква &quot;B&quot; има стойност 66,
докато главната &quot;E&quot; – 69. Методът </span><span class=Code><span
lang=BG>compareTo(…)</span></span><span lang=BG> сравнява 2 символни низа за
равенство или различие. За да бъдат два низа с еднакви стойности, то те трябва
да имат една и съща дължина (брой символи) и символите да бъдат еднакви и
подредени в един и същ ред. Низовете &quot;give&quot; и &quot;given&quot; са
различни, защото имат различна дължина. &quot;near&quot; и &quot;fear&quot; се
различават по първия си символ, а &quot;stop&quot; и &quot;post&quot; имат едни
и същи символи и дължина, но в различен ред - което отново ги прави различни. </span></p>

<p class=MsoNormal><span lang=BG>Обобщавайки поведението на метода, можем да
приемем, че </span><span class=Code><span lang=BG>compareTo(…)</span></span><span
lang=BG> връща положително число, отрицателно число или 0 в зависимост от
лексикографската подредба.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да не бъдем
голословни, нека разгледаме няколко примера:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String score = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;sCore&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String scary = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;scary&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(score.compareToIgnoreCase(scary)); </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// 14</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(scary.compareToIgnoreCase(score)); </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// -14</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(scary.compareTo(score)); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// 32</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>За примера ще използваме променливи със
стойности &quot;sCore&quot; и &quot;scary&quot;. Първият експеримент е
извикването на метода </span><span class=Code><span lang=BG>compareToIgnoreCase(…)</span></span><span
lang=BG> на низа </span><span class=Code><span lang=BG>score</span></span><span
lang=BG>, като подаден параметър е променливата </span><span class=Code><span
lang=BG>scary</span></span><span lang=BG>. Тъй като методът игнорира регистъра
за малки и главни букви, първите 2 символа и от двата низа връщат знак за
равенство. Различието се открива едва в третия символ, който в първия низ е &quot;o&quot;,
а във втория: &quot;a&quot;. Тогава изваждаме кода на параметъра от кода на
променливата, за която е извикан методът. Крайният резултат е 14 (кодът на 'o'
е 111, кодът на 'a' e 97; 111-97 = 14). Извикването на същия метод с разменени
места на променливите връща - 14, защото тогава отправната точка е низът </span><span
class=Code><span lang=BG>scary</span></span><span lang=BG> и кодовете се
изваждат в обратен ред.</span></p>

<p class=MsoNormal><span lang=BG>Последният тест е с метода </span><span
class=Code><span lang=BG>compareTo(…)</span></span><span lang=BG> – тъй като
той прави разлика между главни и малки букви, разлика откриваме още във втория
символ на двата низа. В променливата </span><span class=Code><span lang=BG>scary</span></span><span
lang=BG> символът &quot;c&quot; има код 99, в </span><span class=Code><span
lang=BG>score</span></span><span lang=BG> главното &quot;C&quot; e 67 и
връщаният резултат е 32.</span></p>

<h4><span lang=BG>Защо операторите == и != не работят за низове?</span></h4>

<p class=MsoNormal><span lang=BG>По-любознателните от вас може вече да са се
запитали защо операторите за равенство и различие не работят при работа със
символни низове? Причината е тяхната логика в света на обектно-ориентираното
програ­миране. Когато работим със стойностни типове (цели числа, символи, числа
с плаваща запетая), тогава операторите сравняват стойностите на променливите.
Тъй като символните низове в Java са реализирани с класове, тук влизат
правилата за сравняване на препратки към паметта, известни още като референции
или указатели. Тогава сравняването на две променливи </span><span class=Code><span
lang=BG>str1</span></span><span lang=BG> и </span><span class=Code><span
lang=BG>str2</span></span><span lang=BG> няма да сравнява техните стойности, а
дали те сочат към една и съща област в динамичната памет.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще прегледаме
няколко примера за използването на тези два оператора с променливи от тип
символни низове:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str1 = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str2 = str1;     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println((str1==str2)); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// true</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Сравнението на низовете </span><span
class=Code><span lang=BG>str1</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>str2</span></span><span lang=BG> връща стойност </span><span
class=Code><span lang=BG>true</span></span><span lang=BG>. Това е очакван
резултат, тъй като насочваме променливата </span><span class=Code><span
lang=BG>str2</span></span><span lang=BG> към мястото в динамичната памет, което
е запазено за променливата </span><span class=Code><span lang=BG>str1</span></span><span
lang=BG>. Така двете променливи имат един и същ адрес и проверката за равенство
минава успешно. Ето как изглежда паметта с двете променливи:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=326 height=150
src="image108.gif"></span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да прегледаме сега
един друг пример:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String hel = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hel&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String hello = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String copy = hel + </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;lo&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(copy == hello); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// false</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Сравнението е между низовете </span><span
class=Code><span lang=BG>hello</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>copy</span></span><span lang=BG>. Първата променлива
директно приема стойността &quot;Hello&quot;. Втората получава стойността си
след съединяването на променлива и литерал, като крайният резултат е
еквивалентен на стойността на първата променлива. Сравнението обаче връща
стойност </span><span class=Code><span lang=BG>false</span></span><span
lang=BG> – защото двете променливи сочат към различни области от паметта (макар
и с еднакво съдържание). Ето как изглежда паметта в този момент:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=309 height=203
src="image109.gif"></span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Когато две
променливи от тип обект (в частност стрингове) сочат към различни места в
паметта, те се считат за различни обекти.</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></b></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Сравняването на низове с оператора == в
  Java е груба грешка, защото този оператор сравнява адресите на низовете, не
  техните стойности! За сравняване на низове използвайте методите </span><span
  class=Code><span lang=BG>equals()</span></span><span lang=BG> / </span><span
  class=Code><span lang=BG>equalsIgnorecase()</span></span><span lang=BG> и </span><span
  class=Code><span lang=BG>compareTo()</span></span><span lang=BG> / </span><span
  class=Code><span lang=BG>compareToIgnore</span></span><span class=Code>C</span><span
  class=Code><span lang=BG>ase()</span></span><span lang=BG> и проверявайте за
  из</span>­<span lang=BG>рично за </span><span class=Code><span lang=BG>null</span></span>,
  защото<span lang=BG> извикването на </span><span class=Code><span lang=BG>equals()</span></span><span
  lang=BG> </span><span lang=BG>върху </span><span class=Code><span lang=BG>null</span></span><span
  lang=BG> </span><span lang=BG>стойност </span>предизвиква <span class=Code><span
  lang=BG>NullPointer</span></span><span class=Code>E</span><span class=Code><span
  lang=BG>xception</span></span>.</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Любопитен обаче е
следният случай:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String hello = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String same = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(same == hello); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// true</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Оптимизация на паметта при символни низове</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Създаваме първата
променлива със стойност &quot;</span><span class=Code><span lang=BG>Hello</span></span><span
lang=BG>&quot;. Създаваме и втората променлива със същата стойност. Логично е
при създаването на промен­ливата </span><span class=Code><span lang=BG>hello</span></span><span
lang=BG> да се задели място в динамичната памет, да се запише стойността и
променливата да сочи към въпросното място. При създава­нето на </span><span
class=Code><span lang=BG>same</span></span><span lang=BG> също би трябвало да
се създаде нова област, да се запише стойността и да се насочи препратката.
Истината обаче е, че съществува оптимизация във виртуалната машина, която
спестява създаването на дублиращи символни низове в паметта. Тази оптимизация
се нарича <b>strings interning</b> (интерниране на низовете) и благодарение на
нея двете променливи в паметта се записват по следния начин:</span></p>

<p class=MsoNormal align=center style='margin-bottom:6.0pt;text-align:center'><span
lang=BG><img border=0 width=332 height=150
src="image110.gif"></span></p>

<p class=MsoNormal><span lang=BG>Когато инициализираме променлива от тип </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>, динамичната памет
се обхожда и се прави проверка дали такава стойност вече съществува. Ако
съществува, новата променлива просто започва да сочи към нея. Ако не, заделя се
място, стойността се записва и референцията препраща към новата област. Това е
възможно, защото стринговете в Java са неизменни и няма опасност за промяна на
областта, сочена от няколко променливи едновременно.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Все пак, ако не
искаме да използваме оптимизацията, можем изрично да създадем нови обекти от
тип </span><span class=Code><span lang=BG>String</span></span><span lang=BG> и
да зададем техните стойности:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str1 = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str2 = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);    </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.out.println((str1==str2)); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// false</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Извикването на конструктора на класа директно
заделя място в паметта за променливата и вмъква в него съдържанието й.
Връщаният резултат е </span><span class=Code><span lang=BG>false</span></span><span
lang=BG>, тъй като всяка променлива сочи на отделно място в паметта:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=326 height=150
src="image111.gif"></span></p>

<h3><a name="_Toc218195937"><span lang=BG>Операции за манипулация на символни
низове</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>След като се
запознахме с основите на символните низове и тяхната структура, идва ред на
манипулацията им. Ще прегледаме слепването на текстови низове, търсене в
съдържанието им, извличане на поднизове и други операции, които ще ни послужат
при решаване на реални проблеми.</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Символните низове са неизменими! Всяка
  промяна на променлива от тип </span><span class=Code><span lang=BG>String</span></span><span
  lang=BG> създава нов низ, в който се записва резултатът. Така че операциите,
  които прилагате на символните низове, връщат като резултат препратка към
  получения резултат.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Примерите за обработка на символни низове
по-долу използват променливи от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Както вече споменахме, промените на обектите от класа </span><span
class=Code><span lang=BG>String</span></span><span lang=BG> връщат референция
към новата област от паметта, в която се намира резултатът.</span></p>

<p class=MsoNormal><span lang=BG>Възможна е и обработката на символни низове
без създаването на нови обекти в паметта при всяка корекция. За целта е
създаден класът </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG>, с който ще се запознаем по-долу.</span></p>

<h3><a name="_Toc218195938"><span lang=BG>Долепване на низове (конкатенация)</span></a></h3>

<p class=MsoNormal><span lang=BG>Долепването на символни низове и получаването
на нов, резултатен низ, се нарича конкатенация. То може да бъде извършено по 2
начина: чрез метода </span><span class=Code><span lang=BG>concat(…)</span></span><span
lang=BG> или с оператора <b>+,</b> или <b>+=</b>. </span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Пример за
използване на функцията </span><span class=Code><span lang=BG>concat(…)</span></span><span
lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String greet = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello, &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String name = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;reader!&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String result = greet.concat(name);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Извиквайки метода, ще долепим променливата </span><span
class=Code><span lang=BG>name</span></span><span lang=BG>, която е подадена
като аргумент, към променливата </span><span class=Code><span lang=BG>greet</span></span><span
lang=BG>. Резултатният низ ще има стой­ност &quot;</span><span class=Code><span
lang=BG>Hello, reader!</span></span><span lang=BG>&quot;.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Вторият вариант за
конкатенация е чрез операторите <b>+</b> и <b>+=</b>. Горния пример може да
реализираме без проблем и по двата начина, например:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String greet = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello, &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String name = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;reader!&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String result = greet + name;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В паметта тези променливи ще изглеждат по
следния начин:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=355 height=203
src="image112.gif"></span></p>

<p class=MsoNormal><span lang=BG>Обърнете внимание, че всички долепвания до
низове не променят съществуващите променливи, а връщат нова променлива като
резултат. Ако опитаме да долепим 2 стринга, без да ги запазим в променлива,
промените нямат да бъдат съхранени.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В случая може да
искаме да добавим някаква стойност към променливата </span><span class=Code><span
lang=BG>result</span></span><span lang=BG>. С познатите ни оператори възможно
решение е следното:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>result = result + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; How are you?&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За да си спестим
повторното писане на декларираната по-горе промен­лива, можем да използваме
оператора </span><span class=Code><span lang=BG>+=</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>result += </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; How are you?&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>И в двата случая резултатът ще бъде един и същ:
&quot;</span><span class=Code><span lang=BG>Hello, reader! How are you?</span></span><span
lang=BG>&quot;.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Към символните
низове можем да долепим и други данни, които могат да бъдат представени в
текстов вид. Възможна е конкатенацията с числа, символи, дати и др. Ето един
пример:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String msg = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;The number of the beast is: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> beastNum = 666;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String result = msg + beastNum;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// The number of the beast is: 666</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Както виждаме от
горния пример, няма проблем да съединяваме символни низове с други данни, които
не са от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>. Нека прегледаме още един, пълен пример за слепването на символни
низове:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> UserInfoExtractor {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String firstName = </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Svetlin&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String lastName = </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Nakov&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String fullName = firstName + </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot; &quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'> + lastName;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(fullName);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Svetlin Nakov</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> age = 28;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String nameAndAge = </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Name: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + fullName + </span><span
  lang=BG style='font-family:"Courier New";color:#2A00FF'>&quot;\nAge: &quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'> + age;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(nameAndAge);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>     // Name: Svetlin Nakov</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>     // Age: 28</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218195939"><span lang=BG>Търсене на низ в друг низ</span></a></h3>

<p class=MsoNormal><span lang=BG>Когато имаме символен низ със зададено съдържание,
често се налага да обработим само част от стойността му. За да автоматизираме
процеса, можем да претърсваме даден стринг за определени ключови думи.</span></p>

<p class=MsoNormal><span lang=BG>Java платформата ни предоставя 2 метода за
търсене на низове: </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>lastIndexOf(…)</span></span><span
lang=BG>. Те претърсват даден символен низ и прове­ряват дали подаденият като
параметър подниз се среща в съдържанието му. Връщаният резултат на методите е
цяло число. Ако резултатът е неот­рицателна стойност, тогава това е позицията,
на която е открит първият символ от подниза. Ако методът върне стойност <b>-1</b>,
това означава, че поднизът не е открит. Напомняме, че в Java индексите на
символите в низовете започват от 0.</span></p>

<h4><span lang=BG>Търсене в символен низ – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето и един пример
за използване на метода </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String book = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Introduction to Java book&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index = book.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Java&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(index); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// index = 16</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В примера променливата </span><span
class=Code><span lang=BG>book</span></span><span lang=BG> има стойност &quot;Introduction
to Java book&quot;. Търсенето на подниза &quot;Java&quot; в горната променлива
ще върне стойност 16, защото поднизът е открит в стойността на отправната
променлива и първият символ &quot;</span><span class=Code><span lang=BG>J</span></span><span
lang=BG>&quot; от търсената дума се намира на 16-та позиция.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Методите </span><span
class=Code><span lang=BG>indexOf(…)</span></span><span lang=BG> и </span><span
class=Code><span lang=BG>lastIndexOf(…)</span></span><span lang=BG> претърсват
съдържанието на текстова последователност, но в различна посока. Търсенето при
първата функция започва от началото на низа към неговия край, а при втората
функция – отзад-напред. Когато се интересуваме от първия срещнат резултат,
тогава използваме </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG>. Ако искаме да претърсваме низа от неговия край (например за откриване
на последната точка в името на даден файл или последната наклонена черта в URL
адрес), уместно решение е </span><span class=Code><span lang=BG>lastIndexOf(…)</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Понякога искаме да
открием всички срещания на даден подниз в текущия низ. Използването на двата
метода само с 1 подаден аргумент за търсен низ не би ни свършило работа, защото
винаги ще връща само първото срещане на подниза. Ето защо е възможно подаването
на втори параметър за индекс, който посочва началната позиция, от която започва
търсенето.</span></p>

<h4><span lang=BG>Всички срещания на дадена дума – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един пример за
използването на </span><span class=Code><span lang=BG>indexOf (…) по</span></span><span
lang=BG> дадена дума и начален индекс: откриване на всички срещания на думата &quot;Java&quot;
в даден текст:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String quote = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;The main subject in the \&quot;Intro Java\&quot;&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; book is Java for Java newbies.&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index = quote.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Java&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>while</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(index != -1) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java found on index: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + index);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  index = quote.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Java&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, index + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Първата стъпка е да направим търсене за
ключовата дума &quot;Java&quot;. Ако думата е открита в текста (т.е. връщаната
стойност е различна от -1), извеждаме я на конзолата и продължаваме търсенето
надясно от пози­цията, на която сме открили думата, увеличена с 1. Повтаряме
действи­ето, докато </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG> върне стойност -1.</span></p>

<p class=MsoNormal><span lang=BG>Забележка: Ако на последния ред пропуснем
задаването на начален индекс, то търсенето винаги ще започва отначало и ще
връща една и съща стойност. Това ще доведе до безкраен цикъл на приложението
ни. Ако пък търсим директно от индекса, без да увеличаваме с единица, ще
попадаме отново на последния резултат, чийто индекс сме записали. Ето защо правилното
търсене на следващ резултат е с аргумент </span><span class=Code><span lang=BG>index
+ 1</span></span><span lang=BG>. За </span><span class=Code><span lang=BG>lastIndexOf(…)</span></span><span
lang=BG>, аналогично, тъй като търсенето е в обратен ред, индек­сът се намалява
с единица.</span></p>

<h4><span lang=BG>Подробно търсене с indexOf(…) – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека прегледаме
още един подробен пример за търсенето на отделни символи и символни низове в
текст:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Java Programming Course&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Java&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 0</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Course&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 17</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;COURSE&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = -1</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// indexOf() is case sensetive. -1 means &quot;not found&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;ram&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 9</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;r&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 6</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;r&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, 7); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 9</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>index = str.indexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;r&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, 10); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 20</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Ето как изглежда в паметта символният низ, в
който търсим:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=530 height=92
src="image113.gif"></span></p>

<p class=MsoNormal><span lang=BG>Ако обърнем внимание на третата проверка, ще
забележим, че търсенето на думата &quot;</span><span class=Code><span lang=BG>COURSE</span></span><span
lang=BG>&quot; в текста връща резултат -1, т.е. няма съответствие. Въпреки че
думата се намира в текста, тя е написана с различен регистър на буквите.
Методите </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>lastIndexOf(…)</span></span><span
lang=BG> правят разлика между малки и главни букви. Ако искаме да игнорираме
тази разлика, можем да запишем текста в нова променлива и да го превърнем към
такъв с изцяло малки или изцяло главни букви, след което да извършим търсене в
него, независещо от регистъра на буквите.</span></p>

<h3><a name="_Toc218195940"><span lang=BG>Извличане на част от низ</span></a></h3>

<p class=MsoNormal><span lang=BG>За момента можем само да проверим дали даден
подниз се намира в нашия текст и на коя позиция го откриваме. Как обаче да
извлечем част от низа в отделна променлива?</span></p>

<p class=MsoNormal><span lang=BG>Решението на проблема ни е методът </span><span
class=Code><span lang=BG>substring(…)</span></span><span lang=BG>. Използвайки въпросната
функция, можем да извлечем даден подниз по зададени начална и крайна позиция в
текста. Ако крайната позиция бъде пропусната, то подтекстът ще бъде копиран от
началната позиция до края на символния низ. </span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Използването на
дефиницията на метода с начален и краен индекс изглежда по този начин:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String path = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;C:\\Pics\\Rila2008.jpg&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String filename = path.substring(8, 16);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// filename = &quot;Rila2008&quot;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Променливата,
която манипулираме, е </span><span class=Code><span lang=BG>path</span></span><span
lang=BG>. Тя съдържа пътя до файл от файловата ни система. За да присвоим името
на файла на нова променлива, използваме </span><span class=Code><span lang=BG>substring(8,
16)</span></span><span lang=BG> и взимаме последователността от символи,
намираща се на позиции от 8 до 16. Символът на последната позиция (в случая 16)
не се записва в подниза!</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><b><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></b></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Извикването на метода </span><span
  class=Code><span lang=BG>substring(индекс1, индекс2)</span></span><span
  lang=BG> из­влича подниз на дадена променлива, който се намира между </span><span
  class=Code><span lang=BG>индекс1</span></span><span lang=BG> и </span><span
  class=Code><span lang=BG>(индекс2 – 1)</span></span><span lang=BG>
  включително. Символът на посочената позиция – </span><span class=Code><span
  lang=BG>индекс2</span></span><span lang=BG> – не се взима предвид! Например,
  ако посочим </span><span class=Code><span lang=BG>substring(5, 10)</span></span><span
  lang=BG>, ще бъдат извлечени символите между индекс 5 и 9 включително, а не
  между 5 и 10!</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да
разглеждаме променливата </span><span class=Code><span lang=BG>path</span></span><span
lang=BG> като масив от символи, за да придобием по-ясна представа за
местоположението и броя символи:</span></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=498
 style='width:373.5pt;border-collapse:collapse;border:none'>
 <tr style='height:20.25pt'>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>0</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>1</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>2</span></b></p>
  </td>
  <td width=25 style='width:18.75pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>3</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>4</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>5</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>6</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>7</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>8</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>9</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>10</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>11</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>12</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>13</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>14</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>15</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>16</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>17</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>18</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;height:20.25pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>19</span></b></p>
  </td>
 </tr>
 <tr style='height:19.5pt'>
  <td width=26 style='width:19.5pt;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>C</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>:</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>\\</span></b></p>
  </td>
  <td width=25 style='width:18.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 0in 0in 0in;height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>P</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>i</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>c</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>s</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>\\</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>R</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>i</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>l</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>a</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>2</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>0</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>0</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>8</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>.</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>j</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>p</span></b></p>
  </td>
  <td width=26 style='width:19.5pt;border-top:none;border-left:none;border-bottom:
  solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0in 0in 0in 0in;
  height:19.5pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>g</span></b></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=BG>Придържайки се към схемата, извикваният метод
трябва да запише символите от 8 до 15 включително (тъй като последният индекс
не се включва), а именно &quot;</span><span class=Code><span lang=BG>Rila2008</span></span><span
lang=BG>&quot;.</span></p>

<p class=MsoNormal><span lang=BG>Как бихме могли да изведем името на файла и
неговото разширение? Тъй като знаем как се записва път във файловата система,
можем да процедираме по следния план:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>търсим последната обратна наклонена черта в текста;</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>записваме позицията на последната наклонена черта;</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>извличаме подниза от <b>получената позиция + 1</b>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да вземем отново
за пример познатия ни </span><span class=Code><span lang=BG>path</span></span><span
lang=BG>. Ако нямаме информация за съдържанието на променливата, но знаем, че е
файлов път, може да се придържаме към горната схема:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String path = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;C:\\Pics\\Rila2008.jpg&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> index = path.lastIndexOf(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;\\&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// index = 7</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String fullName = path.substring(index + 1);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// fullname = &quot;Rila2008.jpg&quot;</span></p>
  </td>
 </tr>
</table>

<h3><a name="_Toc218195941"><span lang=BG>Разцепване на низ по разделител</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Един от
най-гъвкавите методи за работа със символни низове е </span><span class=Code><span
lang=BG>split(…)</span></span><span lang=BG>. Той ни дава възможност да
разцепваме един стринг по разделител или група разделители. Например, можем да
обработваме променлива, която има следното съдържание:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>String
  listOfBeers = <span style='color:#2A00FF'>&quot;Amstel, Zagorka, Tuborg,
  Becks.&quot;</span>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Как можем да
отделим всяка една бира в отделна променлива или да запишем всички бири в
масив? На пръв поглед може да изглежда трудно – трябва да търсим с </span><span
class=Code><span lang=BG>indexOf(…)</span></span><span lang=BG> за специален
символ, след това да отделяме подниз със </span><span class=Code><span lang=BG>substring(…)</span></span><span
lang=BG>, да итерираме всичко това в цикъл и да записваме резултата в дадена
променлива. </span></p>

<h4><span lang=BG>Разделяне на низа по множество от разделители – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Има и доста
по-лесен и гъвкав начин да разрешим проблема:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String[] beersArr = listOfBeers.split(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;[ ,.]&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Използвайки вградената функционалност на </span><span
class=Code><span lang=BG>split(…)</span></span><span lang=BG>, ще разделим
съдържанието на даден низ по разделителите, които са подадени като аргумент на
метода. В квадратни скоби са изредени всички разделители, които искаме да
използваме за отправна точка при разделянето на думите. Всички поднизове, между
които присъстват интервал, запетая или точка, ще бъдат отделени и записани в
масива </span><span class=Code><span lang=BG>beersArr</span></span><span
lang=BG>. </span></p>

<p class=MsoNormal><span lang=BG>Все пак, ако обходим масива и изведем
елементите му един по един, резултатите ще бъдат: &quot;Amstel&quot;, &quot;&quot;,
&quot;Zagorka&quot;, &quot;&quot;, &quot;Tuborg&quot;, &quot;&quot; и &quot;Becks&quot;.
Получаваме 7 резултата, вместо очакваните 4. Причината е, че при разде­лянето
на текста се откриват 3 подниза, които съдържат 2 разделителни символа един до
друг (например запетая, последвана от интервал). В този случай празният низ
между двата разделителя също е част от връщания резултат.</span></p>

<h4><span lang=BG>Как да премахнем празните елементи?</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако искаме да
игнорираме празните низове, възможно разрешение е да правим проверка при
извеждането им:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(String beer : beersArr) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(!beer.equals(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(beer);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Този подход обаче
няма да премахне празните низове от масива. Затова можем да променим аргумента,
който подаваме на метода </span><span class=Code><span lang=BG>split(…)</span></span><span
lang=BG>, като добавим знака <b>+</b>:    </span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String[] beersArr = listOfBeers.split(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;[ ,.]+&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>След тази промяна масивът </span><span
class=Code><span lang=BG>beersArr</span></span><span lang=BG> ще съдържа 4
елемента – четирите думи от променливата </span><span class=Code><span lang=BG>listOfBeers</span></span><span
lang=BG>. Добавяйки плюс към заградените символи, ние инструктираме метода </span><span
class=Code><span lang=BG>split(…)</span></span><span lang=BG> да работи по
следния начин: &quot;<b>Върни всички поднизове от променливата, които са разде­лени
от интервал, запетая или точка. Ако срещнеш два или повече съседни разделителя,
считай ги за един</b>&quot;.</span></p>

<h4><span lang=BG>Обяснение на метода split(…)</span></h4>

<p class=MsoNormal><span lang=BG>Методът </span><span class=Code><span lang=BG>split(…)</span></span><span
lang=BG> действително е един от най-комплексните и гъвкави методи за работа със
символни низове. Неговата функционалност се дължи на факта, че той приема като
аргумент <b>регулярен израз (regular expression)</b>. Регулярният израз е символен
низ, представящ множества или подмножества. Пример за множества и подмножества
са всички малки букви; всички цифри; главните латински букви от 'A' до 'M';
всички малки и главни латински и кирилски символи, и др. Обединяването на мно­жества
позволява по-прецизна обработка на текстови данни: извличане на определени
ресурси от текстове, търсене на телефонни номера, откри­ване на електронна поща
в текст, разделяне на всички думи в едно изречение и т.н.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Квадратните скоби
служат за изреждане на отделни символи, подмно­жества и множества. Например, за
да дефинираме множество от всички малки латински букви, регулярният израз ще
изглежда така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String small = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;[a-z]&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>По този начин
посочваме множеството от символи, намиращи се в интервала от 'a' до 'z'. Ако
искаме да обхванем всички малки и главни букви на латиница и кирилица, можем да
дефинираме следното множе­ство:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String allLetters= </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;[a-zA-Zа-яА-Я]&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В сила са и
операндите OR, AND и NOT за работа с множества. Можем, например, да разделим
даден текст по всички символи, които не са цифри:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String nan = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;[^0-9]&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Възможно е изграждането на сложни регулярни
изрази, изградени от много обединения и сечения на множества. Те могат да бъдат
използвани за задаване на набор от разделители при използването на </span><span
class=Code><span lang=BG>split(…)</span></span><span lang=BG>, за търсене на
подниз, съвпадащ с определен шаблон, или за заместване на един низ с друг по
определени критерии.</span></p>

<h4><span lang=BG>Регулярни изрази – полезни конструкции</span></h4>

<p class=MsoNormal><span lang=BG>Съществуват предефинирани класове, които
обобщават често използвани множества. Някои от тях са:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>.</span></span><span lang=BG> (символът <b>точка</b>)
– обхваща всички възможни символи (може да прихваща или не обозначенията за нов
ред)</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>\d</span></span><span lang=BG> – обхваща всички цифри
(еквивалентно на </span><span class=Code><span lang=BG>[0-9]</span></span><span
lang=BG>)</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>\D</span></span><b><span lang=BG> </span></b><span
lang=BG>– обхваща всички символи, които не са цифри (еквивалентно на </span><span
class=Code><span lang=BG>[^0-9]</span></span><span lang=BG>)</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>\s</span></span><b><span lang=BG> – </span></b><span
lang=BG>знак за интервали: </span><span class=Code><span lang=BG>[
\t\n\x0B\f\r]</span></span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>\S</span></span><b><span lang=BG> –</span></b><span
lang=BG> всички знаци, освен тези за интервали: </span><span class=Code><span
lang=BG>[^\s]</span></span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>\w</span></span><b><span lang=BG> –</span></b><span
lang=BG> всички символи, считани за дума: </span><span class=Code><span
lang=BG>[a-zA-Z_0-9]</span></span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:28.4pt;text-indent:-14.2pt'><span lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Code><span lang=BG>\W</span></span><b><span lang=BG>
–</span></b><span lang=BG> еквивалентно на </span><span class=Code><span
lang=BG>[^\w]</span></span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Когато използвате предефинираните
  класове в Java, не забравяйте, че обратната наклонена черта е екраниращ знак!
  По тази причина е необходимо да добавяме още една обратна наклонена черта, за
  да използваме преде­фини­раните класове.</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Използване на предефинирани класове – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако имаме символен
низ, представящ опростен каталог на продуктите в магазин за техника, то данните
в него ще бъдат представени като двойки име на продукт: цена на продукта в
лева. Ще създадем проста програма, използваща метода </span><span class=Code><span
lang=BG>split(…)</span></span><span lang=BG>, която първо извежда на екрана
само продуктите от каталога (без придружаващите ги цени), а след това изписва
единствено списък от цените.</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> CatalogApplication {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String catalog = </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;MicrowaveOven: 170, \n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;AudioSystem: 125, \n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;TV: 315, \n&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Refrigerator: 400&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(catalog);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>/* MicrowaveOven: 170, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>       AudioSystem: 125, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>       TV: 315, </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>       Refrigerator: 400 */</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String[] products = catalog.split(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;[\\d\\s,:]+&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(String product : products) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.print(product + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; &quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// MicrowaveOven AudioSystem TV Refrigerator</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String[] prices = catalog.split(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;\\D+&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(String price : prices) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.print(price + </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot; &quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Result: 170 125 315 400</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Структурата на каталога е еднотипна: <b>име</b></span><b>_<span
lang=BG>на</span></b><b>_<span lang=BG>продукт: цена</span></b><span lang=BG>,<b>
</b>послед­вани от нов ред. При първото разделяне използваме класа </span><span
class=Code><span lang=BG>\D</span></span><span lang=BG>, като разде­ляме текста
на всички символи, които не са цифри. След това, за да изведем единствено
имената на продуктите, използваме по-сложно множество: </span><span class=Code><span
lang=BG>[\d\s,:]</span></span><span lang=BG>, което обхваща всички цифри,
всички интервали (необходимо ни е за премахването на разстоянията и знаците за
нов ред), запетаи и двоеточия.</span></p>

<p class=MsoNormal><span lang=BG>Виждате, че преди използваните класове е
необходимо поставянето на още една наклонена черта, която указва, че
наклонената черта от дефиницията на класа не е екраниращ символ.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Могат да бъдат
дефинирани много по-сложни и прецизни регулярни изрази, които да решават
по-специфични проблеми.</span></p>

<p class=MsoNormal><span lang=BG>Повече информация за регулярните изрази и как
да се възползваме от тях в Java може да откриете в уроците на Sun:</span><span
lang=BG> </span><span lang=BG><a
href="http://java.sun.com/docs/books/tutorial/essential/regex/">java.sun.com/docs/
books/tutorial/essential/regex/</a></span><span lang=BG> </span><span lang=BG>или
в онлайн Java API спецификацията:</span><span lang=BG> </span><span lang=BG><a
href="http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html">java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html</a></span>.</p>

<h3><a name="_Toc218195942"><span lang=BG>Замяна на подниз с друг</span></a><span
lang=BG>                                  </span></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>При необходимост
разполагаме и с готови методи за подмяна на един подниз с друг. Това може да се
наложи, ако сме допуснали една и съща техническа грешка при въвеждане на email
адреса на даден потребител в официален документ. Няма страшно – макар в целия
документ адресът на потребителя да е сгрешен, може да го заменим с помощта на
метода </span><span class=Code><span lang=BG>replace(…)</span></span><span
lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String doc = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello, some@mail.bg, &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;you have been using some@mail.bg in your registration.&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String fixedDoc = doc.replace(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;some@mail.bg&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;osama@laden.a</span><span
  style='font-family:"Courier New";color:#2A00FF'>f</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(fixedDoc);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Първоначалният ни текст съдържа предходния
контакт на потребителя</span>: <span class=Code><span lang=BG><a
href="mailto:some@mail.bg"><span style='color:windowtext;text-decoration:none'>some@mail.bg</span></a></span></span><span
lang=BG>. След корекцията от наша страна и заместването на низа с метода </span><span
class=Code><span lang=BG>replace(…)</span></span><span lang=BG>, всички
предходни места, на които е срещан старият низ, са заменени със стойност </span><span
class=Code><span lang=BG>osama@laden.af</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Реализиран е и
еквивалентен, но универсален вариант, който замества поднизовете, отговарящи на
даден регулярен израз. Когато се налага да работим с по-обща информация, на
помощ ни идва метода </span><span class=Code><span lang=BG>replaceAll(…)</span></span><span
lang=BG>.</span></p>

<h4><span lang=BG>Замяна на телефони със звездички – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако имаме служебен
документ, който се използва само в офиса, и в него има лични данни, можем да ги
цензурираме, преди да ги пратим на клиента. Например, има възможност да
цензурираме всички номера на мобилни телефони и да ги заместим със звездички.
Заданието е реализи­рано в следващия пример:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String doc = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Smith's number: 0892880022 \n&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>+ </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Franky can be found at 0853445566 \n&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'> +</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;so as Steven - 0811654321&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>replacedDoc = doc.replaceAll(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;(08)[0-9]{8}&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;$1********&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(replacedDoc);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Изходът на
конзолата изглежда така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Smith's number: 08********** </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Franky can be found at 08********** </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>so as Steven - 08**********</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Обяснение на аргументите на replaceAll(…)</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>В горния фрагмент
от код използваме регулярен израз, с който откриваме всички телефонни номера в
зададения ни текст. Променливата, която имитира документа с текстовите данни, е
</span><span class=Code><span lang=BG>doc</span></span><span lang=BG>. В нея са
записани, подобно на телефонен указател, няколко имена на клиенти, придружени
от тех­ните телефонни номера. Ако искаме да предпазим контактите от неправо­мерно
използване и желаем да цензурираме телефонните номера, то може да заменим
всички мобилни телефони със звездички. Приемайки, че телефоните са записани под
формат: &quot;<b>08 + 8 цифри</b>&quot;, методът </span><span class=Code><span
lang=BG>replaceAll(…)</span></span><span lang=BG> открива всички съвпадения на
дадения формат и ги замества с: &quot;<b>08********</b>&quot;. Регулярният
израз, отговорен за откриването на номерата, е &quot;<b>(08)[0-9]{8}</b>&quot;
– проста проверка за всички поднизове в текста, изградени от константата &quot;<b>08</b>&quot;
и следвани от точно 8 символа в интервала от 0 до 9. Примерът може да бъде
допълнително подобрен за подбиране на номерата само от дадени мобилни
оператори, за работа с телефони на чуждестранни мрежи и др., но за целта на
примера е използван опростен вариант. Литералът &quot;<b>08</b>&quot; е
заграден от кръгли скоби. Те служат за обособяване на отделна група от
регулярния израз. Групите могат да бъдат използвани за обработка само на
определена част от израза, вместо целия. В нашия пример, групата е използвана в
замест­ването – откритите съвпадения са заместени с &quot;<b>$1********</b>&quot;
– текстът от първата група на регулярния израз + последователни 8 звездички за
цензурата. Тъй като дефинираната от нас група винаги е константа – 08, то
заместеният текст ще бъде във формат: <b>08********</b>. </span></p>

<h3><a name="_Toc218195943"><span lang=BG>Преминаване към главни и малки букви</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Понякога имаме
нужда да променим съдържанието на символен низ, така че всички символи в него
да бъдат само с главни или малки букви. Двата метода, които биха ни свършили
работа в случая, са </span><span class=Code><span lang=BG>toLowerCase()</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>toUpperCase()</span></span><span
lang=BG>. Първата функция конвертира всички главни букви към малки:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String text = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;All Kind OF LeTTeRs&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(text.toLowerCase());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// all kind of letters</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В примера се вижда, че всички главни букви от
текста сменят регистъра си и целият текст остава изцяло с малки букви.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако искаме да
сравним въведен вход от потребителя и не сме сигурни по какъв точно начин е
написан той, можем да уеднаквим регистъра на буквите и да го сравним с
дефинираната от нас константа. По този начин не правим разлика за малки и
главни букви. Например, ако имаме входен панел на потребителя, в който
въвеждаме име и парола, и няма значение дали паролата е написана с малки, или
главни букви, може да направим подобна проверка:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String pass1 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Parola&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String pass2 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;PaRoLa&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String pass3 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;parola&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> isEqual;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>isEqual = pass1.toUpperCase().equals(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;PAROLA&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>) ; </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// true</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>isEqual = pass2.toUpperCase().equals(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;PAROLA&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>) ; </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// true</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>isEqual = pass3.toUpperCase().equals(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;PAROLA&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>) ; </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// true</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В примера сравняваме 3 пароли с еднакво
съдържание, но различен регистър, като при крайната проверка съдържанието им е
еквивалентно на &quot;PAROLA&quot;. В този случай малко обезсмисляме действието
на метода </span><span class=Code><span lang=BG>equalsIgnoreCase(…)</span></span><span
lang=BG>, като дефинираме проверката ръчно.</span></p>

<h3><a name="_Toc218195944"><span lang=BG>Премахване на празно пространство в
края на низ</span></a></h3>

<p class=MsoNormal><span lang=BG>Въвеждайки текст във файл или през конзолата,
понякога се появяват 'паразитни' интервали в началото или в края на текста. В
началото или след края на дадена променлива може да се запише неволно някой
друг интервал или табулация, които да не могат да се доловят на пръв поглед.
Това може да не е съществено, но ако валидираме потребителски данни, би било
проблем от гледна точка на проверка съдържанието на входната информация. На
помощ идва методът </span><span class=Code><span lang=BG>trim()</span></span><span
lang=BG> – той се грижи именно за премахването на паразитните празни места.
Извиквайки метода на променлива от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>, която има празни места в началото или края, той ще се погрижи за
премахването им. Празните места могат да бъдат интервали, табулация, нови
редове и др. </span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако в променливата
</span><span class=Code><span lang=BG>fileData</span></span><span lang=BG> сме
прочели съдържанието на файл, в който е записано име, а пишейки текста или
преобръщайки го от един формат в друг са се появили паразитни интервали, променливата
може да изглежда по подобен начин:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String fileData = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;   \n\n     Mario Peshev      &quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако изведем
съдържанието на конзолата, ще получим 2 празни реда, последвани от няколко
интервала, търсеното от нас име и още няколко допълнителни интервала в края.
Тъй като на нас ни е необходимо само името, може да редуцираме информацията от
променливата и да премах­нем ненужните интервали:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String reduced = fileData.trim();</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Когато изведем повторно информацията на
конзолата, съдържанието ще бъде &quot;</span><span class=Code><span lang=BG>Mario
Peshev</span></span><span lang=BG>&quot;, без нежеланите интервали.</span></p>

<h2><a name="_Toc218195945"><span lang=BG>Построяване на символни низове.
StringBuilder</span></a></h2>

<p class=MsoNormal><span lang=BG>Както казахме по-горе, символните низове в
Java са неизменими. Това означава, че всички корекции, приложени върху
съществуващ низ, връщат като резултат нов символен низ. Например, използването
на методите </span><span class=Code><span lang=BG>replace(…)</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>toUpperCase()</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>trim()</span></span><span
lang=BG> не променят стринга, за който са извикани, а заделят нова област в
паметта, в която се записва новото съдържание. Това има много предимства, но в
някои случаи може да ни създаде проблеми с производителността на приложенията
ни, ако не знаем тази съществена особеност.</span></p>

<h3><a name="_Toc218195946"><span lang=BG>Долепяне на низове в цикъл: никога не
го правете!</span></a></h3>

<p class=MsoNormal><span lang=BG>Подобен проблем може да срещнем, когато се
опитаме да съединяваме символни низове в цикъл, без значение от това дали
конкатенацията е извършена чрез </span><span class=Code><span lang=BG>concat(…)</span></span><span
lang=BG> метода или с операторите <b>+</b> и <b>+=</b>. Проблемът е пряко
свързан с обработката на низовете и динамичната памет, в която се съхраняват
те.</span></p>

<h4><span lang=BG>Как работи съединяването на низове?</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Вече се запознахме
с процедурата по съединяване на низове в Java. Да вземем за пример 2 дефинирани
променливи </span><span class=Code><span lang=BG>str1</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>str2</span></span><span
lang=BG> от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>, които имат стойности съответно &quot;Super&quot; и &quot;Star&quot;.
В хийпа (динамичната памет) имаме две области, в които се съхраняват
стойностите. Задачата на </span><span class=Code><span lang=BG>str1</span></span><span
lang=BG> и </span><span class=Code><span lang=BG>str2</span></span><span
lang=BG> е да пазят препратка към адресите в паметта, на които се намират
записаните от нас данни. Нека създадем променлива </span><span class=Code><span
lang=BG>result</span></span><span lang=BG> и й придадем стойността на другите 2
низа. Фрагментът от код за създаването и дефинирането на трите променливи би
изглеждал така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str1 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Super&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String str2 = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Star&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String result = str1 + str2;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Създаването на променливата </span><span
class=Code><span lang=BG>result</span></span><span lang=BG> ще задели нова
област от динамичната памет, в която ще запише резултата от </span><span
class=Code><span lang=BG>str1 + str2</span></span><span lang=BG>, който е &quot;SuperStar&quot;.
След това самата променлива ще пази адреса на заделената област. Като резултат
ще имаме 3 области в паметта, както и 3 референ­ции към тях. Това е удобно и
ясно, но създаването на нова област, записването на стойност, създаването на
нова променлива и реферира­нето й към паметта е времеотнемащ процес, който би
бил проблем при многократното му повтаряне в цикъл.</span></p>

<p class=MsoNormal><span lang=BG>За разлика от други езици за програмиране, в
Java не е дефинирано понятието &quot;деструктор&quot;, т.е. не е необходимо
ръчното освобождаване на обектите, записани в паметта. Съществува специален
механизъм, наречен <b>garbage collector (система за почистване на паметта)</b>,
който се грижи за изчистването на неизползваната памет и ресурси. Системата за
почистване на паметта е отговорна за освобождаването на динамичната памет,
когато вече не се използва. Създаването на много обекти, придру­жени с
множество референции в паметта, е вредно, защото запълват паметта и се налага
автоматичното изпълнение на garbage collector от виртуалната машина. Това
отнема немалко време и забавя цялостното изпълнение на процеса.</span></p>

<h4><span lang=BG>Защо долепянето на низове в цикъл е лоша практика?</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да приемем, че
имаме за задача да запишем числата от 1 до 5000 в променлива от тип </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>. Как можем да решим
задачата с досегашните си знания? Един от най-лесните начини за имплементация е
създаването на променливата, която съхранява числата, и завъртането на цикъл от
1 до 5000, в който всяко число се долепва към въпросната променлива.
Реализирано на Java решението би изглеждало така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String collector = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Numbers: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for </span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> idx = 1; idx &lt;= 5000; idx++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  collector += idx;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Изпълнението на горния код ще завърти цикъла
5000 пъти, като след всяко завъртане ще добавя текущия индекс към променливата </span><span
class=Code><span lang=BG>collector</span></span><span lang=BG>. Стойността на
променливата след края на изпълнението ще бъде: &quot;Numbers:
12345678910111213141516...&quot; (с многоточие са заместени останалите числа от
17 до 5000 с цел относителна представа за резултата).</span></p>

<p class=MsoNormal><span lang=BG>Вероятно не ви е направило впечатление
забавянето при изпълнение на фрагмента. Всъщност използването на конкатенацията
в цикъл е забавила значително нормалното развитие на процеса и на
средностатистически процесор (към август 2008 г.) итерацията на цикъла отнема
2-4 секунди. Ползвателят на програмата ни би бил доста скептично настроен, ако
се налага да чака няколко секунди за нещо елементарно, като слепване на числата
от 1 до 5000. Освен това в случая 5000 е само примерна крайна точка. Какво ли
ще бъде забавянето, ако вместо 5000, потребителят има нужда от числата до
50000? Пробвайте!</span></p>

<h4><span lang=BG>Конкатениране в цикъл с 50000 итерации - пример</span></h4>

<p class=MsoNormal><span lang=BG>Нека да развием горния пример. Първо, ще
променим крайната точка на цикъла от 5000 на 50000. Второ, за да отчетем
правилно времето за изпълнение, ще извеждаме на конзолата текущата дата и час преди
и след изпълнението на цикъла. Трето, за да видим, че променливата съдържа
желаната от нас стойност, ще изведем част от нея на конзолата. Причината да не
извеждаме цялата променлива е, че конзолата има буфер с определен размер и при
стандартни настройки не може да изведе пълната  на променливата. Ако искате да
се уверите, че цялата стойност е запаметена, може да увеличите ръчно размера на
буфера от настройките на конзолата на Eclipse (</span><span class=Code><span
lang=BG>Window | Preferences | Run/Debug | Console</span></span><span lang=BG>)
или да запишете съдържанието на променливата в текстов файл.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Крайният вариант
на примера би изглеждал така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Date;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> NumbersConcatenator {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String collector = </span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;Numbers: &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> idx = 1; idx &lt;= 50000; idx++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       collector += idx;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(collector.substring(0, 1024));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>При изпълнението на примера в конзолата се
извеждат дата и час на стартиране на програмата, отрязък от първите 1024
символа от промен­ливата, както и дата и час на завършване на програмата. Причината
да отрежем първите 1024 символа е, че самото отпечатване на голям обем текстова
информация на конзолата отнема доста време, а ние искаме да измерим само
времето за изчисленията без времето за отпечатване на резултата. Нека видим
примерния изход от изпълнението:</span></p>

<p class=MsoNormal><span lang=BG><img border=0 width=531 height=163
src="image114.jpg"></span></p>

<p class=MsoNormal><span lang=BG>С червена линия е подчертан таймерът в
началото на програмата, а със зелена – нейният край. Обърнете внимание на
времето за изпълнение – почти 9 минути! Представете си, ако при стартиране на
операционната система трябва да чакате 9 минути, за да получите съобщение за
привет­ствие и текущата дата? Подобно изчакване е недопустимо за подобна
задача.</span></p>

<h4><span lang=BG>Обработка на символни низове в паметта</span></h4>

<p class=MsoNormal><span lang=BG>Проблемът с дълготрайната обработка на цикъла
е свързан именно с работата на стринговете в паметта. Всяка една итерация
създава нов обект в динамичната памет и насочва референцията към него. Процесът
изисква определено физическо време.</span></p>

<p class=MsoNormal><span lang=BG>На всяка стъпка се случват няколко неща:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>1.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Заделя се област от паметта за записване на резултата от долепването на
поредната цифра. Тази памет се използва само временно, докато се изпълнява долепването,
и се нарича <b>буфер</b>.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Премества се старият низ в ново заделения буфер. Ако низът е дълъг
(примерно 1 MB или 10 MB), това може да е доста бавна операция!</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>3.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Долепя се поредната цифра към буфера.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Буферът се преобразува в символен низ.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=BG>Старият низ, както и временният буфер, остават неизползвани и по някое
време биват унищожени от системата за почистване на паметта (<b>garbage
collector</b>). Това също може да е бавна операция.</span></p>

<p class=MsoNormal><span lang=BG>Много по-елегантен и удачен начин за
конкатениране на низове в цикъл е използването на класа </span><span
class=Code><span lang=BG>StringBuilder</span></span><span lang=BG>.</span></p>

<h3><a name="_Toc218195947"><span lang=BG>Построяване и промяна на низове със
StringBuilder</span></a></h3>

<p class=MsoNormal><span class=Code><span lang=BG>java.lang.StringBuilder</span></span><span
lang=BG> е клас, който служи за построяване и промяна на символни низове. Той преодолява
проблемите с бързодействието, които възникват при конкатениране на низове от
тип </span><span class=Code><span lang=BG>String</span></span><span lang=BG>.
Класът е изграден под формата на масив от символи и това, което трябва да знаем
за него, е че информацията в него не е неизменима – промените, които се налагат
в променливите от тип </span><span class=Code><span lang=BG>StringBuilder,</span></span><span
lang=BG> се извършват в една и съща област от паметта (буфер), което спестява
време и ресурси. За промяната на съдържанието не се създава нов обект, а просто
се променя текущият.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека сравним
горния пример, в който слепвахме низове в цикъл, като операцията ни отне 9
минути. Много по-елегантно решение е използва­нето на </span><span class=Code><span
lang=BG>StringBuilder</span></span><span lang=BG> за подобен род задачи. Нека
видим алтернативно решение на същата задача:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>import</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> java.util.Date;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> NumbersConcatenatorEllegant {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     StringBuilder sb = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     sb.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Numbers: &quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> idx = 1; idx &lt;= 50000; idx++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       sb.append(idx);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(sb.substring(0, 1024));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date());</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Примерът е базиран на предходния, със съвсем
леки корекции. Връща­ният резултат е същият, а какво ще кажете за времето за
изпълнение?</span></p>

<p class=MsoNormal><span lang=BG><img border=0 width=531 height=145
src="image115.jpg"></span></p>

<p class=MsoNormal><span lang=BG>Необходимото време за слепване на 50000
символа със </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> е по-малко от секунда!</span></p>

<h4><span lang=BG>Обръщане на низ на обратно – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Да разгледаме
пример, в който искаме да обърнем съществуващ символен низ на обратно.
Например, ако имаме низа &quot;ABCD&quot;, върнатият резултат ще бъде &quot;DCBA&quot;.
Това, което ще направим, е да вземем първоначалния низ, да го обходим
отзад-напред символ по символ и да добавяме всеки символ към променлива от тип </span><span
class=Code><span lang=BG>StringBuilder</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>class</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> WordReverser {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>void</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> main(String[] args) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String text = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;EM edit&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     String reversed = <i>reverse</i></span><i><span
  style='font-family:"Courier New";color:black'>Text</span></i><span lang=BG
  style='font-family:"Courier New";color:black'>(text);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(reversed); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// tide ME</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String reverse</span><span style='font-family:"Courier New";
  color:black'>Text</span><span lang=BG style='font-family:"Courier New";
  color:black'>(String text) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     StringBuilder sb = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> i = text.length() - 1; i &gt;= 0; i--)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       sb.append(text.charAt(i));</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> sb.toString();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>В демонстрацията имаме променливата </span><span
class=Code><span lang=BG>text</span></span><span lang=BG>, която има стойност &quot;EM
edit&quot;. Подаваме променливата на метода </span><span class=Code><span
lang=BG>reverse</span></span><span class=Code>Text</span><span class=Code><span
lang=BG>(…)</span></span><span lang=BG> и приемаме новата стойност в променлива
с име </span><span class=Code><span lang=BG>reversed</span></span><span
lang=BG>. Методът, от своя страна, обхожда символите от променливата в обратен
ред и записва символите в нова променлива от тип </span><span class=Code><span
lang=BG>StringBuilder</span></span><span lang=BG>, но вече наредени обратно. В
крайна сметка резултатът е &quot;tide ME&quot;.</span></p>

<h3><a name="_Toc218195948"><span lang=BG>Как работи класът StringBuilder?</span></a></h3>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> представлява реализация на символен низ в Java, но различна от тази на
класа </span><span class=Code><span lang=BG>String</span></span><span lang=BG>.
За разлика от познатите вече сим­волни низове, обектите на класа </span><span
class=Code><span lang=BG>StringBuilder</span></span><span lang=BG> не са
неизменими, т.е. редакциите не налагат създаването на нов обект в паметта.</span></p>

<p class=MsoNormal><span lang=BG>StringBuilder поддържа буфер с определен
капацитет (по подразбиране 16 символа). Буферът е реализиран под формата на
масив от символи, който е предоставен на програмиста с удобен интерфейс –
методи за лесно и бързо добавяне, търсене, редактиране на елементите на
стринга. Във всеки един момент част от символите в буфера се използват, а
останалите стоят в резерва. Това дава възможност добавянето да работи изклю­чително
бързо. Останалите операции също работят по-бързо, отколкото при класа </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>, защото промените
не създават нов обект.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека създадем
обект от класа </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> с буфер от 15 символа. Към него ще добавим символния низ: &quot;Hello,Java!&quot;.
Реализирано с Java, заданието ни ще изглежда така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>StringBuilder sb = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> StringBuilder(15);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>sb.append(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Hello,Java!&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>След създаването на обекта и записването на
стойността в него, той би изглеждал по подобен начин:</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=BG><img
border=0 width=417 height=130
src="image116.gif"></span></p>

<p class=MsoNormal><span lang=BG>Оцветените елементи са запълнената част от
буфера с въведеното от нас съдържание. Обикновено при добавяне на нов символ
към променливата не се създава нов обект в паметта, а се използват заетото
пространство за редакции и неизползваното за добавяне на нови данни. Ако целият
капацитет на буфера е запълнен, тогава вече се заделя нова област в динамичната
памет с удвоен размер (текущия капацитет + 1, умножен по 2). След това можем
отново да добавяме спокойно символи и символни низове, без да се притесняваме
за непрекъснатото заделяне на памет.</span></p>

<h3><a name="_Toc218195949"><span lang=BG>StringBuilder – по-важни методи</span></a></h3>

<p class=MsoNormal><span lang=BG>Класът </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> ни предоставя набор от методи, които ни помагат за лесна и ефективна
работа с променливите. Някои от тях са:</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>StringBuilder(int capacity)</span></span><span
lang=BG> – конструктор с параметър начален капацитет. Чрез него може
предварително да зададем размера на буфера, ако имаме приблизителна информация
за броя итерации и слепвания. Така спестяваме излишни заделяния на динамична
памет.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>capacity()</span></span><span lang=BG> – връща размера
на целия буфер (общия брой заети и свободни символи)</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>length()</span></span><span lang=BG> – връща дължината
на записания низ в променливата</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>charAt(int index)</span></span><span lang=BG> – връща
символа на указаната позиция</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>append(…)</span></span><span lang=BG> – слепва низ,
число или друга стойност след последния записан символ в буфера</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>delete(int start, int end)</span></span><span lang=BG>
– премахва низ по зададена начална и крайна позиция</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>insert(int offset, String str)</span></span><span
lang=BG> – вмъква даден стринг на дадена позиция</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>replace(int start, int end, String str)</span></span><span
lang=BG> – замества записания низ между началната и крайната позиция със
стойността на променливата str</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG> – връща
записаната информация в обекта на </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG> като резултат от тип </span><span class=Code><span lang=BG>String</span></span><span
lang=BG>, който можем да запишем в променлива на String. </span></p>

<h3><a name="_Toc218195950"><span lang=BG>Извличане на главните букви от текст
– пример</span></a></h3>

<p class=MsoNormal><span lang=BG>Следващата задача е да извлечем всички главни
букви от един текст. Можем да я реализираме по различни начини – използвайки
масив и пълнейки масива с всички открити главни букви; създавайки обект от тип </span><span
class=Code><span lang=BG>String</span></span><span lang=BG> и долепвайки
главните букви към него; използвайки класа </span><span class=Code><span
lang=BG>StringBuilder</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>Спирайки се на варианта за използване с масив,
ние имаме един конкретен проблем: не знаем какъв да бъде размерът на масива,
тъй като предварително нямаме идея колко са главните букви в текста. Така че се
опасяваме дали масивът ще бъде достатъчно голям, за да побере необходимата ни
информация. Може да създадем и масив с огромен размер, но по този начин хабим
излишно място.</span></p>

<p class=MsoNormal><span lang=BG>Друг вариант е използването на променлива от
тип </span><span class=Code><span lang=BG>String</span></span><span lang=BG>.
Тъй като ще обходим целия текст и ще долепваме всички букви към променливата,
вероятно е отново да загубим производителност от гледна точка на конка­тенирането
на символни низове.</span></p>

<h4><span lang=BG>StringBuilder – правилното решение в случая</span></h4>

<p class=MsoNormal><span lang=BG>Най-уместното решение за задачата ни е
използването на </span><span class=Code><span lang=BG>StringBuilder</span></span><span
lang=BG>. За да решим коректно проблема от условието, ние създаваме променлива
от класа, итерираме зададения текст символ по символ, проверяваме дали текущият
символ от итерацията е главна буква и при положителен резул­тат долепваме
символа към нашия обект. Накрая връщаме четим резултат с извикването на метода </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Реализацията на
алгоритъма с Java можем да открием в следния фрагмент:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>public</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>static</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> String extractCapitals(String s) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  StringBuilder result = </span><b><span lang=BG
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span lang=BG
  style='font-family:"Courier New";color:black'> StringBuilder();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>for</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (</span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> i = 0; i &lt; s.length(); i++) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>char</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> ch = s.charAt(i);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>    </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>if</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> (Character.<i>isUpperCase</i>(ch)) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>       result.append(ch);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>     }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>return</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> result.toString();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Извиквайки метода </span><span class=Code><span
lang=BG>extractCapitals(…)</span></span><span lang=BG> и подавайки му зададен
текст като параметър, връщаната стойност е низ от всички главни букви в текста.
За проверка на главните букви използваме </span><span class=Code><span lang=BG>Character.
isUpperCase(…)</span></span><span lang=BG> – готов метод в от стандартните
класове в Java, който проверява дали даден символ е главна буква или не, като
връща булев резултат.</span></p>

<p class=MsoNormal><span lang=BG>Можете да разгледате документацията за класа </span><span
class=Code><span lang=BG>Character</span></span><span lang=BG>, защото той предлага
и други полезни методи за обработка на символи.</span></p>

<h2><a name="_Toc218195951"><span lang=BG>Форматиране на низове</span></a></h2>

<p class=MsoNormal><span lang=BG>Java предлага на програмиста механизми за
форматиране на символните низове. Практически всеки създаден обект на клас,
както и примитивните променливи, могат да бъдат представени като текстово
съдържание. Налице са форматиращи класове и методи, които служат за правилното
форматиране на текст, числа, дати. Спомнете си метода </span><span class=Code><span
lang=BG>printf(…)</span></span><span lang=BG> от </span><span class=Code><span
lang=BG>System.out.printf(…)</span></span><span lang=BG> – с негова помощ
извеждаме символни низове с предварително форматирано съдържание, можем да
задаваме шаблони, в които да попълваме празните места с променливи или
литерали; да форматираме дати, числа и т.н.</span></p>

<p class=MsoNormal><span lang=BG>С някои от средствата за форматиране на текст вече
се запознахме в главата &quot;<a href="#_Глава_4._Вход">Вход и изход от
конзолата</a>&quot;. Ще преговорим по-важните от тях и ще допълним знанията си
за форматирането и преобразуването на низове.</span></p>

<h4><span lang=BG>Класът java.util.Formatter</span></h4>

<p class=MsoNormal><span class=Code><span lang=BG>java.util.Formatter</span></span><span
lang=BG> дава възможност за извеждане на форматиращи символни низове. Сред
възможностите на класа са подравняването на текста и различни методи за
форматиране на текст, символи, дати и специфичен изход в зависимост от
местоположението. Създаването на класа е вдъхновено от функцията </span><span
class=Code><span lang=BG>printf(…)</span></span><span lang=BG> в езика C, като
имплемента­цията е реализирана със сходен синтаксис, но с по-стриктни
изисквания, съобразени с езика Java.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Всеки метод, който
връща форматиран изход, изисква форматиращ стринг и списък от аргументи.
Форматиращият низ е </span><span class=Code><span lang=BG>String</span></span><span
lang=BG> обект, който съдържа фиксиран текст и един или повече вложени
форматиращи спецификатори (<b>format specifiers</b>). Основните спецификатори за
символни и числови типове имат следния синтаксис:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal style='margin-top:0in'><span class=Code><span lang=BG>%[индекс_на_аргумента$][флагове][ширина][.точност]формат</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>индекс_на_аргумента</span></b><span lang=BG> – незадължителен
спецификатор; десетично число, указващо позицията на аргумента. Първият
аргумент има индекс &quot;1$&quot;, вторият – &quot;2$&quot;, и т.н.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>флагове</span></b><span lang=BG> – незадължителен спецификатор; списък
от символи, модифициращи начина на извеждане на низа. Зависи пряко от формата.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>ширина</span></b><span lang=BG> – незадължителен спецификатор;
неотрицателно десетично число, посочващо минималния брой от символи, които да
бъдат изведени на изхода. Удобен за таблично форматиране.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>точност</span></b><span lang=BG> – незадължителен спецификатор;
неотрицателно десетично число, ограничаващ броя символи. Зависи от типа формат,
широко използван при десетични числа.</span></p>

<p class=MsoNormal style='margin-left:28.4pt;text-indent:-14.2pt'><span
lang=BG>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=BG>формат</span></b><span lang=BG> (<b>conversion</b>) – символ, указващ
как да бъде форматиран аргументът. Зависи от типа на подадения аргумент.</span></p>

<h3><a name="_Toc218195952"><span lang=BG>Служебният метод toString()</span></a></h3>

<p class=MsoNormal><span lang=BG>Един от основните ни помощници за
представянето на обектите като символни низове е методът </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>. Той е заложен
в дефиницията на класа </span><span class=Code><span lang=BG>Object</span></span><span
lang=BG> – базовият клас, който наследяват пряко или не всички референтни
типове в езика. По този начин дефиницията на методи се появява във всеки един
клас, като ние имаме възможност да изведем под някаква форма съдържанието на
един обект като текст.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Методът </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG> се извиква
автоматично, когато извеждаме на конзо­лата обекти на различни класове.
Например, когато боравим с дати, ние извеждаме текущата дата по следния начин:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date currentDate = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Date();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(currentDate); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Thu Aug 28 11:34:27 EEST 2008</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Когато подаваме </span><span
class=Code><span lang=BG>currentDate</span></span><span lang=BG> като параметър
на метода </span><span class=Code><span lang=BG>println(…)</span></span><span
lang=BG>, нямаме точна декларация, която обработва дати. Методът има конкретна
реализация за всички примитивни типове и символни низове. За всички останали
обекти </span><span class=Code><span lang=BG>println(…)</span></span><span
lang=BG> извиква метода </span><span class=Code><span lang=BG>toString()</span></span><span
lang=BG>, който извежда съдържанието на обекта. Т.е. горният код е еквивалентен
на този:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date currentDate = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> Date();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(currentDate.toString()); </span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Имплементацията на метода по подразбиране в
класа </span><span class=Code><span lang=BG>Object</span></span><span lang=BG>
връща уникална стойност на обекта, като извежда пълния път до класа и неговия
хеш код. Всички класове, които не предефинират поведението на </span><span
class=Code><span lang=BG>toString()</span></span><span lang=BG>, използват
именно тази имплементация. Повечето класове в Java API имат предефинирана
стойност на метода, представяща четимо и разбираемо съдържание на обектите.
Препоръчително е предефинирането на метода в класовете, създавани от
програмиста.</span></p>

<h3><a name="_Toc218195953"><span lang=BG>Използване на String.format()</span></a></h3>

<p class=MsoNormal style='margin-bottom:6.0pt'><span class=Code><span lang=BG>String.format()</span></span><span
lang=BG> е статичен метод, чрез който можем да създаваме фор­матирани
стрингове, на които да подаваме параметри. Той е удобен при създаването на
шаблони – често срещани текстове с променливи параметри. С негова помощ можем
да използваме низове с декларирани параметри и всеки път да променяме
единствено параметрите. Можем да направим асоциация с метода </span><span
class=Code><span lang=BG>System.out.printf(…)</span></span><span lang=BG>,
който също форма­тира шаблонен низ и подава стойности на местата на
параметрите:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.printf(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;This is a template from %s.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>, </span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;Mario&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Както методът </span><span class=Code><span
lang=BG>String.format()</span></span><span lang=BG>,</span><span lang=BG> така
и </span><span class=Code><span lang=BG>System.out.printf(…)</span></span><span
lang=BG> ползват за извеждането на параметризираните низове класа </span><span
class=Code><span lang=BG>java.util.Formatter</span></span><span lang=BG>.</span></p>

<h4><span lang=BG>Преобразуване на типове</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Полезно свойство
на Java е възможността за преобразуване на типове – преминаването на променлива
от един тип в друг. Често работата с приложения с графичен потребителски
интерфейс предполага потреби­телският вход да бъде предаван през променливи от
тип String, защото практически така може да се работи както с числа и символи,
така и с текст и дати, форматирани по предпочитан от нас начин. Въпрос на опит
на програмиста е да представи входните данни, които очаква, по правил­ния начин
на потребителя, за да получи подходящи входни данни. След това данните се
преобразуват към по-конкретен тип и се обработват. Например числата могат да се
преобразуват като променливи от </span><span class=Code><span lang=BG>int</span></span><span
lang=BG> или </span><span class=Code><span lang=BG>double</span></span><span
lang=BG>, а след това да участват в математически изрази за изчисления.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>При преобразуването на типове не бива
  да се осланяме само на доверието към потребителя. Винаги проверявайте
  входните потребителски данни при преобразуване! В про­тивен случай ще настъпи
  изключение.</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Преобразуване към числови типове</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За преобразуване
на символен низ към число можем да използваме <b>обвиващите класове (wrapper
classes)</b> на примитивните типове. По-горе в темата използвахме един от тези
класове, а именно </span><span class=Code><span lang=BG>Character</span></span><span
lang=BG>. Всички примитивни типове имат прилежащите им класове, които служат за
представянето на примитивна стойност като обект и предоставят често използвани
методи, които можем да ползваме наготово. Например типът </span><span
class=Code><span lang=BG>char</span></span><span lang=BG> предлага клас </span><span
class=Code><span lang=BG>Character</span></span><span lang=BG>, типът </span><span
class=Code><span lang=BG>float</span></span><span lang=BG> – клас </span><span
class=Code><span lang=BG>Float</span></span><span lang=BG>, типът </span><span
class=Code><span lang=BG>int</span></span><span lang=BG> - клас </span><span
class=Code><span lang=BG>Integer</span></span><span lang=BG>, и т.н.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Обвиващите
класове, като изключим </span><span class=Code><span lang=BG>Character</span></span><span
lang=BG>, предлагат методи за преобразуването на текстова променлива към
променлива от примитивния тип, с който е обвързан с обвиващия клас. Методите
имат формата </span><span class=Code><span lang=BG>parseXXX(String)</span></span><span
lang=BG>, като на мястото на </span><span class=Code><span lang=BG>XXX</span></span><span
lang=BG> е името на типа (например </span><span class=Code><span lang=BG>parseInt(…)</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>parseBoolean(…)</span></span><span
lang=BG> и др.). Нека видим пример за преобразу­ване на целочислена стойност
(парсване):</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String text = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;53&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> intValue = Integer.<i>parseInt</i>(text); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// 53</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Можем да
преобразуваме и променливи от булев тип:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String text = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;True&quot;</span><span lang=BG style='font-family:"Courier New";
  color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>Boolean</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> boolValue = Boolean.<i>parseBoolean</i>(text); </span><span
  lang=BG style='font-family:"Courier New";color:#006600'>// true</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Връщаната стойност е </span><span class=Code><span
lang=BG>true</span></span><span lang=BG>, когато подаваният параметър е инициа­ли­зиран
(не е обект със стойност </span><span class=Code><span lang=BG>null</span></span><span
lang=BG>) и съдържанието й е &quot;</span><span class=Code><span lang=BG>true</span></span><span
lang=BG>&quot;, без значение от малките и главни букви в него, т.е. всякакви
текстове като &quot;true&quot;, &quot;True&quot; или &quot;tRUe&quot; ще
зададат на променливата </span><span class=Code><span lang=BG>boolValue</span></span><span
lang=BG> стойност </span><span class=Code><span lang=BG>true</span></span><span
lang=BG>. Всички останали случаи връщат стойност </span><span class=Code><span
lang=BG>false</span></span><span lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>В случай, че подадената на </span><span
class=Code><span lang=BG>parseXXX</span></span><span lang=BG> метод стойност е
невалидна (например подаваме &quot;Пешо&quot; при парсване на число), се
получава изклю­чение </span><span class=Code><span lang=BG>NumberFormatException</span></span><span
lang=BG>.</span></p>

<h4><span lang=BG>Обработване на дати – SimpleDateFormat</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Датите са
по-специфичен тип, който няма примитивно представяне, но тъй като са често
използвани, ние имаме способи за тяхното преобразуване от текстов тип. Можем ли
със сегашните ни знания да създадем дата от текстова променлива?</span><span
lang=BG> </span><span lang=BG>Отговорът на този въпрос е &quot;да&quot;.
Например, ако форматът е &quot;27.10.2008&quot;, можем да използваме метода </span><span
class=Code><span lang=BG>split(…)</span></span><span lang=BG>, за да разделим
съдържанието по точка; след това да обходим масива от връщани стойности, да ги
преобразуваме като цели числа с </span><span class=Code><span lang=BG>parseInt(…)</span></span><span
lang=BG> на класа Integer и да създадем нов календар, от който да вземем
датата. С код нещата биха изглеждали така:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String text = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;27.10.2008&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String[] dateElements = text.split(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;[.]&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String dayString = dateElements[0];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String monthString = dateElements[1];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String yearString = dateElements[2];</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> day = Integer.<i>parseInt</i>(dayString);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> month = Integer.<i>parseInt</i>(monthString);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>int</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> year = Integer.<i>parseInt</i>(yearString);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Calendar cal = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> GregorianCalendar(year, month - 1, day);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date date = cal.getTime(); </span><span lang=BG
  style='font-family:"Courier New";color:#006600'>// Mon Oct 27 00:00:00 EET
  2008</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Виждаме, че в крайния резултат имаме
променлива от тип </span><span class=Code><span lang=BG>Date</span></span><span
lang=BG>, която е изградена чрез посочените от нас ден, месец и година. Ако
обърнете внимание, в предпоследния ред месецът е подаден като <b>month – 1</b>. 
Причината за това е, че в Java месеците започват от 0 (т.е. януари е 0,
февруари – 1, и т.н.), а в познатото от нас означаване месеците започват от 1.
На календара на нашия компютър или мобилен телефон комбина­цията 27.10
отбелязва месец октомври, докато в Java обект това би означавало двадесет и
седми ноември.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Въпреки тази
особено, изписахме доста код чрез доста ръчни проверки и преобразувания, за да
стигнем до желания резултат. Класът </span><span class=Code><span lang=BG>java.text.</span></span><span
lang=BG> </span><span class=Code><span lang=BG>SimpleDateFormat</span></span><span
lang=BG> съдържа функционалност, чрез която достигаме до по-елегантно
преобразуване на типовете. Той ни дава възможност за преобразуване на текстово
съдържание към дата, както и обратното.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Не забравяйте да вмъкнете </span><span
  class=Code><span lang=BG>java.text.SimpleDateFormat</span></span><span
  lang=BG> или пакета </span><span class=Code><span lang=BG>java.text.*</span></span><span
  lang=BG> в началото на програмата, за да може да използвате възможностите на
  класа. Класът </span><span class=Code><span lang=BG>Date</span></span><span
  lang=BG> също се намира в </span><span class=Code><span lang=BG>java.util</span></span><span
  lang=BG> пакета и не се импортира автома­тично!</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>java.text.SimpleDateFormat</span><span lang=BG> – шаблони</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span class=Code><span lang=BG>SimpleDateFormat</span></span><span
lang=BG> ни предлага по-удобен интерфейс за превръщане на текстови променливи
към обекти на класа </span><span class=Code><span lang=BG>java.util.Date</span></span><span
lang=BG>, както и обрат­ното действие. Той е базиран на работата на шаблони,
които дефинират по какъв начин е въведена датата: кои елементи от нея са
зададени (ден, месец, година, час, милисекунди и т.н.), какви са разделителите
(точки, наклонени черти, интервали), използва ли се 24-часово визуализиране или
12-часово и други подробности. Ако потребителят е наясно с изпол­звания формат,
той може да въведе датата по дефинирания начин и тя ще бъде преобразувана в
типа </span><span class=Code><span lang=BG>Date</span></span><span lang=BG>.
Възможно е да предложим на потреби</span>­<span lang=BG>теля и сам да избере
типа на въвеждане на датата според шаблона.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=530
 style='width:397.45pt;margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;background:
  #F3F3F3;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>Форматиращ
  символ</span></b></p>
  </td>
  <td width=410 style='width:307.45pt;border:solid windowtext 1.0pt;border-left:
  none;background:#F3F3F3;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>Описание</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>G</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Ера</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>Y</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Година</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>M</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Месец</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>D</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Ден от месеца</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>H</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Час (1-12, сутрин/следобед)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>H</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Час (0-23)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>K</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Час (1-24)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>K</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Час (0-11, сутрин/следобед)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>M</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Минути</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>S</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Секунди</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>S</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Милисекунди (0-999)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>E</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Ден от седмицата</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>D</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Ден от годината (1-365)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>F</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Ден от седмицата в месеца (1-5)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>w</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Седмица в годината (1-53)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>W</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Седмица в месеца (1-5)</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>A</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Am/Pm – сутрин/следобед</span></p>
  </td>
 </tr>
 <tr>
  <td width=120 style='width:1.25in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><span class=Code><span
  lang=BG>Z</span></span></p>
  </td>
  <td width=410 style='width:307.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span lang=BG>Времева зона</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ще разгледаме някои
примери за различни комбинации с шаблоните за форматиране на дати. Отправната
ни дата, преди форматиране, изглежда по следния начин:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Mon Oct 13 14:02:03 EEST 2008</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Обърнете внимание,
че можем да вмъкваме произволен текст във форматиращия низ с цел по-добра
четимост.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=530
 style='width:397.45pt;margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;background:
  #F3F3F3;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>Шаблон</span></b></p>
  </td>
  <td width=290 style='width:217.45pt;border:solid windowtext 1.0pt;border-left:
  none;background:#F3F3F3;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:center'><b><span lang=BG>Резултат</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:
  3.0pt;margin-left:0in'><span class=Code><span lang=BG>yyyy.MM.dd G 'at'
  HH:mm:ss z</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>2008.10.13
  н.е. at 14:02:03 EEST</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>EEE, MMM d, ''yy</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>Пн, X 13,
  '08</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>H:mm a</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>2:02 PM</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>hh 'o''clock' a, zzzz</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>02 o'clock
  PM, Eastern European Summer Time</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>K:mm a, z</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>2:02 PM,
  EEST</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>yyyyy.MMMMM.dd GGG hh:mm aaa</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>02008.Октомври.13
  н.е. 02:02 PM</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>EEE, d MMM yyyy HH:mm:ss Z</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>Пн, 13 X
  2008 14:02:03 +0300</span></p>
  </td>
 </tr>
 <tr>
  <td width=240 style='width:2.5in;border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span class=Code><span
  lang=BG>yyMMddHHmmssZ</span></span></p>
  </td>
  <td width=290 style='width:217.45pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:3.0pt;margin-right:0in;
  margin-bottom:3.0pt;margin-left:0in;text-align:left'><span lang=BG>081013140203+0300</span></p>
  </td>
 </tr>
</table>

<h4><span lang=BG>Преобразуване на низове към дати – пример</span></h4>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека видим
предходния пример за преобразуване на символен низ към дата, но този път да
използваме класа </span><span class=Code><span lang=BG>SimpleDateFormat </span></span><span
lang=BG>за форматиране. Ще дефинираме същият шаблон за дата: </span><span
class=Code><span lang=BG>ден.месец.година</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SimpleDateFormat sdf = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> SimpleDateFormat(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;dd.MM.yyyy&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date date = sdf.parse(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;27.10.2008&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(date); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Mon Oct 27 00:00:00 EET 2008</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Както виждате, използването на помощния клас </span><span
class=Code><span lang=BG>java.text. SimpleDateFormat</span></span><span
lang=BG> ни спестява доста излишно писане на код и ръчно преобразуване на
типовете. Има и още една особеност: в предходния пример бе необходимо да
намалим с единица стойността на променливата за месеца, тъй като в Java
месеците са номерирани от 0 до 11. Методът </span><span class=Code><span
lang=BG>parse(…)</span></span><span lang=BG> автоматично преобразува
стойностите, преди да ги присвои на променлива от тип </span><span class=Code><span
lang=BG>Date</span></span><span lang=BG>, и в текущия фрагмент месецът с номер
10 е октомври, а не ноември. </span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Важно е да се отбележи,
че методът </span><span class=Code><span lang=BG>parse(…)</span></span><span
lang=BG> предизвиква </span><span class=Code><span lang=BG>java.text.
ParseException</span></span><span lang=BG>. Задължително е да прихванем това
изключение по някакъв начин (било то в </span><span class=Code><span lang=BG>try/catch</span></span><span
lang=BG> блок или чрез </span><span class=Code><span lang=BG>throws</span></span><span
lang=BG> декларация на метода). Изключение реално настъпва, ако потребителският
вход не отговаря на шаблона и въведеният символен низ не може да бъде
преобразуван към дата – например промяна на разделителя от точка на наклонена
черта, добавяне на 4-ти параметър, който не ни е познат; дефиниране на грешен
шаблон и т.н.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ето един примерен
начин за прихващане на изключения при работата с метода </span><span
class=Code><span lang=BG>parse(…)</span></span><span lang=BG>:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SimpleDateFormat sdf = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> SimpleDateFormat(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;dd.MM.yyyy&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String userInput = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;27/12/2008&quot;</span><span lang=BG style='font-family:
  "Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>try</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  Date date = sdf.parse(userInput);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(date);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>catch</span></b><span lang=BG style='font-family:"Courier New";
  color:black'>(ParseException pe) {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(</span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;Error in parsing &quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'> + userInput);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>  </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Error in parsing 27/12/2008</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Ако входът от
потребителя е коректен и съвпада с шаблона, то нашият код ще бъде изпълнен
успешно. В посочения пример данните са разде­лени от наклонена черта, докато
шаблонът ни очаква за разделител точка. В такъв случай ще бъде хвърлено
изключение, което ние извеж­даме на конзолата със съобщение за грешка. Във
всички случаи е необхо­димо прихващане на изключенията при конверсията на
потреби­телски вход към дата.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=54 style='width:40.6pt;border:solid windowtext 1.0pt;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;text-align:center'><span
  lang=BG><img border=0 width=34 height=34
  src="image002.gif"></span></p>
  </td>
  <td width=477 style='width:357.9pt;border:solid windowtext 1.0pt;border-left:
  none;padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=WarningMessage><span lang=BG>Въвеждането на грешна стойност за ден
  или месец може да не генерира изключение! В Java е допустимо създа­ването на
  променлива 'ден' със стойност по-голяма от 31 или 'месец', чиято стойност
  надхвърля 12. Например при задаването на месец с по-голяма стойност от 12, ще
  преминем в следващата година.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Горната забележка
е сходна с 'прехвърляне на брояча' на хронометър – когато секундите надхвърлят
59, новата стойност става 0, а минутите се увеличават с единица (аналогично за
часове, дни, месеци и т.н). В използвания от нас календар месеците са от 1 до
12 – респективно от януари до декември, но в Java е възможно да зададем месец
13, без да получим изключение. Задаването на 27.13.2008 г. например е еквива­лентно
на 27.01.2009 г.:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SimpleDateFormat sdf = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> SimpleDateFormat(</span><span lang=BG
  style='font-family:"Courier New";color:#2A00FF'>&quot;dd.MM.yyyy&quot;</span><span
  lang=BG style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date date = sdf.parse(</span><span lang=BG style='font-family:
  "Courier New";color:#2A00FF'>&quot;27.13.2008&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(date); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Tue Jan 27 00:00:00 EET 2009</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Въпреки това е препоръчително да не се
използват такива стойности, когато е възможно, за да не настъпва объркване.</span></p>

<h4><span lang=BG>Преобразуване на дати към символни низове – пример</span></h4>

<p class=MsoNormal><span lang=BG>Още един полезен метод на класа </span><span
class=Code><span lang=BG>SimpleDateFormat</span></span><span lang=BG> е </span><span
class=Code><span lang=BG>format(…)</span></span><span lang=BG>. С негова помощ
можем да преобразуваме дати към символни низове. Вече знаем, че обектите на 
класа </span><span class=Code><span lang=BG>Date</span></span><span lang=BG>
могат да бъдат извеждани на конзолата. Често се налага да извеждаме датата,
форматирана по желан от нас начин. Стандартното форматиране визуализира деня от
седмицата, теку­щия месец, деня от месеца, час, минути, секунди, часова зона и
година. В частни случаи се нуждаем само от определена част от датата – например
само часовете и минутите. Тогава създаваме шаблон, който да извежда часовете и
минутите от датата, като ни спестява извеждането на другата информация.</span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>Нека създадем
обект от тип </span><span class=Code><span lang=BG>Date</span></span><span
lang=BG>, който съдържа текущата дата, и да изведем часа и минутите, в които е
създаден обекта:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String pattern = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;HH часа и mm мин.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SimpleDateFormat sdf = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> SimpleDateFormat(pattern);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date dateNow = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(dateNow); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Sun Oct 12 15:57:39 EEST 2008</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String formattedDate = sdf.format(dateNow);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(formattedDate); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// 15 часа и 57 мин.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>Методът </span><span class=Code><span lang=BG>format(…)</span></span><span
lang=BG> приема като аргумент обект от тип </span><span class=Code><span
lang=BG>Date</span></span><span lang=BG> и връща стойността от тип </span><span
class=Code><span lang=BG>String</span></span><span lang=BG>, която можем да
използваме, за да я покажем на потребителя или да я обработим по някакъв начин.
За разлика от </span><span class=Code><span lang=BG>parse(…)</span></span><span
lang=BG>, </span><span class=Code><span lang=BG>format(…)</span></span><span
lang=BG> не хвърля винаги изключение, т.е. не е необходимо всеки път да
прихващаме евентуален </span><span class=Code><span lang=BG>ParseException</span></span><span
lang=BG>. При некоректен шаблон обаче може да възникне </span><span class=Code><span
lang=BG>IllegalArgumentException</span></span><span lang=BG>. В стандарт­ния
случай шаблоните и създадените дати са създадени от програмиста и няма опасност
от възникване на изключение.</span></p>

<p class=MsoNormal><span lang=BG>Няма проблем за добавяне на допълнителни
символи за по-прегледен вид на датата. В примера по-горе сме добавили думи &quot;часа&quot;
и &quot;мин.&quot; с цел по-голяма яснота за потребителите. Шаблоните &quot;HH&quot;
и &quot;mm&quot; пък са заместител на часа и минутите от обекта </span><span
class=Code><span lang=BG>dateNow</span></span><span lang=BG>. </span></p>

<p class=MsoNormal style='margin-bottom:6.0pt'><span lang=BG>За финал, ето и
един пример за извеждане на деня от седмицата и текущата дата (елементите ден,
месец, година):</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse'>
 <tr>
  <td width=531 valign=top style='width:398.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String pattern = </span><span lang=BG style='font-family:"Courier New";
  color:#2A00FF'>&quot;EEEE, dd.MM.yyyy г.&quot;</span><span lang=BG
  style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>SimpleDateFormat sdf = </span><b><span lang=BG style='font-family:
  "Courier New";color:#7F0055'>new</span></b><span lang=BG style='font-family:
  "Courier New";color:black'> SimpleDateFormat(pattern);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Date dateNow = </span><b><span lang=BG style='font-family:"Courier New";
  color:#7F0055'>new</span></b><span lang=BG style='font-family:"Courier New";
  color:black'> Date();</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(dateNow); </span><span lang=BG style='font-family:"Courier New";
  color:#006600'>// Sun Oct 12 16:09:04 EEST 2008</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>String formattedDate = sdf.format(dateNow);</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>System.</span><i><span lang=BG style='font-family:"Courier New";
  color:#0000C0'>out</span></i><span lang=BG style='font-family:"Courier New";
  color:black'>.println(formattedDate); </span><span lang=BG style='font-family:
  "Courier New";color:#006600'>// Неделя, 12.10.2008 г.</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc218195954"><span lang=BG>Упражнения</span></a></h2>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Напишете програма, която прочита символен низ, обръща го отзад напред и
го принтира обратно на конзолата. Например: &quot;introduction&quot; </span><span
lang=BG style='font-family:Wingdings'>&agrave;</span><span lang=BG> &quot;noitcudortni&quot;.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:.25in;text-indent:-.25in'><span lang=BG>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Напишете програма, която открива колко пъти даден
подниз се съдържа в текст. Например, ако търсим подниза &quot;in&quot; в
текста:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>We are living in a yellow submarine. We don't have anything
  else. Inside the submarine is very tight. So we are drinking all the day. We
  will move out of it in 5 days.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=BG>     Резултатът е 9.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Даден е текст. Напишете програма, която променя регистъра на буквите на
всички места в текста, заградени с таговете </span><span class=Code><span
lang=BG>&lt;upcase&gt;</span></span><span lang=BG> и </span><span class=Code><span
lang=BG>&lt;/upcase&gt;</span></span><span lang=BG>. Таговете не могат да бъдат
вложени.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:17.85pt'><span lang=BG>Пример:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>We are living in a &lt;upcase&gt;yellow
  submarine&lt;/upcase&gt;. We don't have &lt;upcase&gt;anything&lt;/upcase&gt;
  else.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:17.85pt'><span lang=BG>Резултат:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>We are living in a YELLOW SUBMARINE. We don't have ANYTHING
  else.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:.25in;text-indent:-.25in'><span lang=BG>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Даден е символен низ, съставен от няколко &quot;забранени&quot;
думи, разделени със запетая. Даден е и текст, съдържащ тези думи. Да се напише
програма, която замества забранените думи в текста със звездички. Пример:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>Microsoft announced its next generation Java compiler today. It
  uses advanced parser and special optimizer for the Microsoft JVM.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:17.85pt'><span lang=BG>Низ от забранените думи: &quot;</span><span
class=Code><span lang=BG>Java,JVM,Microsoft</span></span><span lang=BG>&quot;.</span></p>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:17.85pt'><span lang=BG>Резултат:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>********* announced its next generation **** compiler today. It
  uses advanced parser and special optimizer for the ********* ***.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt;margin-right:0in;margin-bottom:6.0pt;
margin-left:.25in;text-indent:-.25in'><span lang=BG>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><span lang=BG>Напишете програма, която приема URL адрес във
формат:</span></p>

<table class=Heading6Char border=0 cellspacing=0 cellpadding=0
 style='margin-left:23.4pt;border-collapse:collapse'>
 <tr>
  <td width=507 valign=top style='width:380.5pt;border:solid windowtext 1.0pt;
  padding:5.65pt 5.4pt 5.65pt 5.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;text-align:left;
  text-autospace:none'><span lang=BG style='font-family:"Courier New";
  color:black'>[protocol]://[server]/[resource]</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.25in'><span lang=BG>и извлича от него
протокол, сървър и ресурс. Например, при подаден адрес: </span><span
class=Code><span lang=BG><a href="http://www.devbg.org/forum/index.php"><span
style='color:windowtext;text-decoration:none'>http://www.devbg.org/forum/index.php</span></a></span></span><span
lang=BG> резултатът е:</span></p>

<p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:3.0pt;
margin-left:17.85pt;text-indent:10.5pt'><span class=Code><span lang=BG>[protocol]=&quot;http&quot;</span></span></p>

<p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:3.0pt;
margin-left:17.85pt;text-indent:10.5pt'><span class=Code><span lang=BG>[server]=&quot;www.devbg.org&quot;</span></span></p>

<p class=MsoNormal style='margin-top:3.0pt;margin-right:0in;margin-bottom:3.0pt;
margin-left:17.85pt;text-indent:10.5pt'><span class=Code><span lang=BG>[resource]=&quot;/forum/index.php&quot;</span></span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Напишете програма, която обръща думите в дадено изречение. Например: &quot;C#
is not C++ and PHP is not Delphi&quot; -&gt; &quot;Delphi not is PHP and C++
not is C#&quot;.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Колко обратни наклонени черти трябва да посочите като аргумент на
метода </span><span class=Code><span lang=BG>split(…)</span></span><span
lang=BG>, за да разделите текста по обратна наклонена черта? </span></p>

<p class=MsoNormal style='margin-left:3.8pt;text-indent:14.2pt'><span lang=BG>Пример:
</span><span class=Code><span lang=BG>one\two\three</span></span></p>

<p class=MsoNormal style='margin-left:.25in'><span lang=BG>Забележка: В Java
обратната наклонена черта е екраниращ символ (escaping character).</span></p>

<h2><a name="_Toc218195955"><span lang=BG>Решения и упътвания</span></a></h2>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Използвайте </span><span class=Code><span lang=BG>StringBuilder</span></span>
и <span class=Code><span lang=BG>for</span></span><span lang=BG> </span><span
lang=BG>цикъл.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Обърнете регистъра на буквите на текста и използвайте търсене в цикъл.
Не забравяйте да използвате </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG> с начален индекс, за да избегнете безкраен цикъл!</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Използвайте регулярни изрази или </span><span class=Code><span lang=BG>indexOf(…)</span></span><span
lang=BG> за отварящ и затварящ таг. Пресметнете началния и крайния индекс на
текста. Обърнете текста в главни букви и заменете целия подниз <b>отварящ таг +
текст + затварящ таг</b> с увеличения текст.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Разделете забранените думи с метода </span><span class=Code><span
lang=BG>split(…)</span></span><span lang=BG>. За всяка забранена дума
обхождайте текста и търсете срещане. При срещане на забранена дума, заменете с
толкова звездички, колкото букви се съдържат в забранената дума. Броят може да
установите с метода </span><span class=Code><span lang=BG>length()</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Използвайте регулярен израз или търсете по съответните разделители –
две наклонени черти за край на протокол и една наклонена черта за разделител
между сървър и ресурс.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Можете да решите задачата на две стъпки: обръщане на входния низ на
обратно; обръщане на всяка от думите от резултата на обратно.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-indent:-.25in'><span lang=BG>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=BG>Ползвайте 4 наклонени черти: </span><span class=Code><span lang=BG>split(&quot;\\\\&quot;)</span></span><span
lang=BG>.</span></p>

<p class=MsoNormal><span lang=BG>&nbsp;</span></p>

</div>

<span lang=BG style='font-size:10.0pt;font-family:"Verdana","sans-serif"'><br
clear=all style='page-break-before:always'>
</span>

</div>

</body>

</html>
